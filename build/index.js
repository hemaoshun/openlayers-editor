(function(e,t){'object'==typeof exports&&'object'==typeof module?module.exports=t():'function'==typeof define&&define.amd?define('ole',[],t):'object'==typeof exports?exports.ole=t():e.ole=t()})('undefined'==typeof self?this:self,function(){var e=Math.atan,_=Math.log,t=Math.atan2,y=Math.ceil,n=Math.round,o=Number.isInteger,I=Math.pow,p=Math.floor,a=Number.isNaN,s=Math.PI,d=Math.abs,g=Math.exp,r=Math.sin,l=Math.cos,E=Math.max,C=Math.min,T=Math.sqrt,c=Math.trunc;return function(e){function t(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(n,'a',n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=215)}([function(e,t,n){'use strict';function o(){this.array_=[],arguments[0]instanceof a.a&&this.addAll(arguments[0])}t.a=o;var a=n(34),i=n(181),r=n(79),s=n(102);o.prototype=Object.create(r.a.prototype),o.prototype.constructor=o,o.prototype.ensureCapacity=function(){},o.prototype.interfaces_=[r.a,a.a],o.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],0,arguments[1]),!0},o.prototype.clear=function(){this.array_=[]},o.prototype.addAll=function(e){for(let t=e.iterator();t.hasNext();)this.add(t.next());return!0},o.prototype.set=function(e,t){const n=this.array_[e];return this.array_[e]=t,n},o.prototype.iterator=function(){return new d(this)},o.prototype.get=function(e){if(0>e||e>=this.size())throw new i.a;return this.array_[e]},o.prototype.isEmpty=function(){return 0===this.array_.length},o.prototype.size=function(){return this.array_.length},o.prototype.toArray=function(){const e=[];for(let t=0,n=this.array_.length;t<n;t++)e.push(this.array_[t]);return e},o.prototype.remove=function(e){let t=!1;for(let n=0,o=this.array_.length;n<o;n++)if(this.array_[n]===e){this.array_.splice(n,1),t=!0;break}return t},o.prototype.removeAll=function(e){for(let t=e.iterator();t.hasNext();)this.remove(t.next());return!0};const d=function(e){this.arrayList_=e,this.position_=0};d.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new s.a;return this.arrayList_.get(this.position_++)},d.prototype.hasNext=function(){return!!(this.position_<this.arrayList_.size())},d.prototype.set=function(e){return this.arrayList_.set(this.position_-1,e)},d.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))}},function(e,t,n){'use strict';var o=n(295),a=n(6),i=n(20),r=n(17),s=n(77),d=n(99),l=n(21),p=n(4);class _{constructor(){_.constructor_.apply(this,arguments)}static hashCode(){if(1===arguments.length&&'number'==typeof arguments[0]){const e=arguments[0],t=i.a.doubleToLongBits(e);return c(t^t>>>32)}}setOrdinate(e,t){switch(e){case _.X:this.x=t;break;case _.Y:this.y=t;break;case _.Z:this.z=t;break;default:throw new a.a('Invalid ordinate index: '+e);}}equals2D(){if(1===arguments.length){const e=arguments[0];return!(this.x!==e.x)&&!(this.y!==e.y)}if(2===arguments.length){const e=arguments[0],t=arguments[1];return!!o.a.equalsWithTolerance(this.x,e.x,t)&&!!o.a.equalsWithTolerance(this.y,e.y,t)}}getOrdinate(e){switch(e){case _.X:return this.x;case _.Y:return this.y;case _.Z:return this.z;}throw new a.a('Invalid ordinate index: '+e)}equals3D(e){return this.x===e.x&&this.y===e.y&&(this.z===e.z||i.a.isNaN(this.z)&&i.a.isNaN(e.z))}equals(e){return!!(e instanceof _)&&this.equals2D(e)}equalInZ(e,t){return o.a.equalsWithTolerance(this.z,e.z,t)}compareTo(e){const t=e;return this.x<t.x?-1:this.x>t.x?1:this.y<t.y?-1:this.y>t.y?1:0}clone(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return p.a.shouldNeverReachHere('this shouldn\'t happen because this class is Cloneable'),null;throw t}finally{}}copy(){return new _(this)}toString(){return'('+this.x+', '+this.y+', '+this.z+')'}distance3D(e){const t=this.x-e.x,n=this.y-e.y,o=this.z-e.z;return T(t*t+n*n+o*o)}distance(e){const t=this.x-e.x,n=this.y-e.y;return T(t*t+n*n)}hashCode(){let e=17;return e=37*e+_.hashCode(this.x),e=37*e+_.hashCode(this.y),e}setCoordinate(e){this.x=e.x,this.y=e.y,this.z=e.z}getClass(){return _}get interfaces_(){return[r.a,s.a,l.a]}}t.a=_;class g{constructor(){g.constructor_.apply(this,arguments)}static compare(e,t){return e<t?-1:e>t?1:i.a.isNaN(e)?i.a.isNaN(t)?0:-1:i.a.isNaN(t)?1:0}compare(e,t){const n=e,o=t,a=g.compare(n.x,o.x);if(0!==a)return a;const i=g.compare(n.y,o.y);if(0!==i)return i;if(2>=this._dimensionsToTest)return 0;const r=g.compare(n.z,o.z);return r}getClass(){return g}get interfaces_(){return[d.a]}}g.constructor_=function(){if(this._dimensionsToTest=2,0===arguments.length)g.constructor_.call(this,2);else if(1===arguments.length){const e=arguments[0];if(2!==e&&3!==e)throw new a.a('only 2 or 3 dimensions may be specified');this._dimensionsToTest=e}},_.DimensionalComparator=g,_.constructor_=function(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)_.constructor_.call(this,0,0);else if(1===arguments.length){const e=arguments[0];_.constructor_.call(this,e.x,e.y,e.z)}else if(2===arguments.length){const e=arguments[0],t=arguments[1];_.constructor_.call(this,e,t,_.NULL_ORDINATE)}else if(3===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2];this.x=e,this.y=t,this.z=n}},_.serialVersionUID=6683108902428367000,_.NULL_ORDINATE=i.a.NaN,_.X=0,_.Y=1,_.Z=2},function(e,t,n){'use strict';function o(e,t,n){var o=C.apply(null,e),a=C.apply(null,t),r=E.apply(null,e),s=E.apply(null,t);return i(o,a,r,s,n)}function a(e,t){var n=e[0],o=e[1],a=e[2],i=e[3],r=t[0],s=t[1],d=T.a.UNKNOWN;return r<n?d|=T.a.LEFT:r>a&&(d|=T.a.RIGHT),s<o?d|=T.a.BELOW:s>i&&(d|=T.a.ABOVE),d===T.a.UNKNOWN&&(d=T.a.INTERSECTING),d}function r(){return[Infinity,Infinity,-Infinity,-Infinity]}function i(e,t,n,o,a){return a?(a[0]=e,a[1]=t,a[2]=n,a[3]=o,a):[e,t,n,o]}function s(e){return i(Infinity,Infinity,-Infinity,-Infinity,e)}function d(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function l(e,t){for(var n=0,o=t.length;n<o;++n)d(e,t[n]);return e}function p(e,t,n,o,a){for(;n<o;n+=a)_(e,t[n],t[n+1]);return e}function _(e,t,n){e[0]=C(e[0],t),e[1]=C(e[1],n),e[2]=E(e[2],t),e[3]=E(e[3],n)}function g(e){return[e[0],e[1]]}function c(e){return[e[2],e[1]]}function u(e){return e[3]-e[1]}function y(e){return[e[0],e[3]]}function m(e){return[e[2],e[3]]}function h(e){return e[2]-e[0]}function f(e){return e[2]<e[0]||e[3]<e[1]}t.b=function(e){for(var t=r(),n=0,o=e.length;n<o;++n)d(t,e[n]);return t},t.c=function(e,t,n){return n?(n[0]=e[0]-t,n[1]=e[1]-t,n[2]=e[2]+t,n[3]=e[3]+t,n):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]},t.d=function(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()},t.e=function(e,t,n){var o,a;return o=t<e[0]?e[0]-t:e[2]<t?t-e[2]:0,a=n<e[1]?e[1]-n:e[3]<n?n-e[3]:0,o*o+a*a},t.f=function(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]},t.g=function(e,t,n){return e[0]<=t&&t<=e[2]&&e[1]<=n&&n<=e[3]},t.h=a,t.i=r,t.j=i,t.k=s,t.l=function(e,t){var n=e[0],o=e[1];return i(n,o,n,o,t)},t.m=function(e,t){var n=s(t);return l(n,e)},t.n=function(e,t,n,o,a){var i=s(a);return p(i,e,t,n,o)},t.o=function(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]},t.p=function(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e},t.q=d,t.r=p,t.s=function(e,t){var n;return(n=t(g(e)),n)?n:(n=t(c(e)),n)?n:(n=t(m(e)),n)?n:(n=t(y(e)),!!n&&n)},t.t=function(e){var t=0;return f(e)||(t=h(e)*u(e)),t},t.u=g,t.v=c,t.w=function(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]},t.x=u,t.y=y,t.z=m,t.A=h,t.B=function(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]},t.D=function(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e},t.E=function(e,t){var n=(e[2]-e[0])/2*(t-1),o=(e[3]-e[1])/2*(t-1);e[0]-=n,e[2]+=n,e[1]-=o,e[3]+=o},t.C=function(e,t,n){var o=!1,i=a(e,t),r=a(e,n);if(i===T.a.INTERSECTING||r===T.a.INTERSECTING)o=!0;else{var s=e[0],d=e[1],l=e[2],p=e[3],_=t[0],g=t[1],c=n[0],u=n[1],m=(u-g)/(c-_),h=void 0,f=void 0;!(r&T.a.ABOVE)||i&T.a.ABOVE||(h=c-(u-p)/m,o=h>=s&&h<=l),o||!(r&T.a.RIGHT)||i&T.a.RIGHT||(f=u-(c-l)*m,o=f>=d&&f<=p),o||!(r&T.a.BELOW)||i&T.a.BELOW||(h=c-(u-d)/m,o=h>=s&&h<=l),o||!(r&T.a.LEFT)||i&T.a.LEFT||(f=u-(c-s)*m,o=f>=d&&f<=p)}return o},t.a=function(e,t,n){var a=[e[0],e[1],e[0],e[3],e[2],e[1],e[2],e[3]];t(a,a,2);var i=[a[0],a[2],a[4],a[6]],r=[a[1],a[3],a[5],a[7]];return o(i,r,n)};var x=n(26),I=n(226),T=n(144)},function(e,t){'use strict';t.a=function(e,t){return e.interfaces_&&-1<e.interfaces_.indexOf(t)}},function(e,t,n){'use strict';var o=n(296);class a{constructor(){a.constructor_.apply(this,arguments)}static shouldNeverReachHere(){if(0===arguments.length)a.shouldNeverReachHere(null);else if(1===arguments.length){const e=arguments[0];throw new o.a('Should never reach here'+(null===e?'':': '+e))}}static isTrue(){if(1===arguments.length){const e=arguments[0];a.isTrue(e,null)}else if(2===arguments.length){const e=arguments[0],t=arguments[1];if(!e)if(null===t)throw new o.a;else throw new o.a(t)}}static equals(){if(2===arguments.length){const e=arguments[0],t=arguments[1];a.equals(e,t,null)}else if(3===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2];if(!t.equals(e))throw new o.a('Expected '+e+' but encountered '+t+(null===n?'':': '+n))}}getClass(){return a}get interfaces_(){return[]}}t.a=a,a.constructor_=function(){}},function(e,t){'use strict';t.a={POINT:'Point',LINE_STRING:'LineString',LINEAR_RING:'LinearRing',POLYGON:'Polygon',MULTI_POINT:'MultiPoint',MULTI_LINE_STRING:'MultiLineString',MULTI_POLYGON:'MultiPolygon',GEOMETRY_COLLECTION:'GeometryCollection',CIRCLE:'Circle'}},function(e,t){'use strict';t.a=function(e){this.message=e}},function(e,t,n){'use strict';t.b=function(){return function(){throw new Error('Unimplemented abstract method.')}()},t.c=function(e){return e.ol_uid||(e.ol_uid=++o+'')},n.d(t,'a',function(){return a});var o=0,a='6.1.1'},function(e,t){'use strict';t.a={CHANGE:'change',ERROR:'error',BLUR:'blur',CLEAR:'clear',CONTEXTMENU:'contextmenu',CLICK:'click',DBLCLICK:'dblclick',DRAGENTER:'dragenter',DRAGOVER:'dragover',DROP:'drop',FOCUS:'focus',KEYDOWN:'keydown',KEYPRESS:'keypress',LOAD:'load',RESIZE:'resize',WHEEL:'wheel'}},function(e,t,n){'use strict';var o=n(6);class a{constructor(){a.constructor_.apply(this,arguments)}static toLocationSymbol(e){switch(e){case a.EXTERIOR:return'e';case a.BOUNDARY:return'b';case a.INTERIOR:return'i';case a.NONE:return'-';}throw new o.a('Unknown location value: '+e)}getClass(){return a}get interfaces_(){return[]}}t.a=a,a.constructor_=function(){},a.INTERIOR=0,a.BOUNDARY=1,a.EXTERIOR=2,a.NONE=-1},function(e,t){'use strict';function n(e,t){return e>t?1:e<t?-1:0}t.a=function(e,t,o){for(var a=0,i=e.length,r=!1,s,d;a<i;)s=a+(i-a>>1),d=+(o||n)(e[s],t),0>d?a=s+1:(i=s,r=!d);return r?a:~a},t.e=n,t.d=function(e,t){return 0<=e.indexOf(t)},t.f=function(e,t,n){for(;t<n;){var o=e[t];e[t]=e[n],e[n]=o,++t,--n}},t.c=function(e,t){for(var n=Array.isArray(t)?t:[t],o=n.length,a=0;a<o;a++)e[e.length]=n[a]},t.b=function(e,t){var n=e.length;if(n!==t.length)return!1;for(var o=0;o<n;o++)if(e[o]!==t[o])return!1;return!0}},function(e,t,n){'use strict';t.b=function(){return!0},t.a=function(){return!1},t.c=function(){},t.d=function(e){var t=!1,n,a,i;return function(){var r=Array.prototype.slice.call(arguments);return t&&this===i&&Object(o.b)(r,a)||(t=!0,i=this,a=r,n=e.apply(this,arguments)),n}};var o=n(10)},function(e,t){'use strict';class n{constructor(){n.constructor_.apply(this,arguments)}static opposite(e){return e===n.LEFT?n.RIGHT:e===n.RIGHT?n.LEFT:e}getClass(){return n}get interfaces_(){return[]}}t.a=n,n.constructor_=function(){},n.ON=0,n.LEFT=1,n.RIGHT=2},function(e,t){'use strict';var n=function(){function e(e){this.propagationStopped,this.type=e,this.target=null}return e.prototype.preventDefault=function(){this.propagationStopped=!0},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e}();t.a=n},function(e,t,n){'use strict';n.d(t,'a',function(){return o}),t.b=function(e){for(var t in e)delete e[t]},n.d(t,'c',function(){return a}),t.d=function(e){for(var t in e)return!1;return!t};var o='function'==typeof Object.assign?Object.assign:function(e){if(e===void 0||null===e)throw new TypeError('Cannot convert undefined or null to object');for(var t=Object(e),n=1,o=arguments.length,a;n<o;++n)if(a=arguments[n],void 0!==a&&null!==a)for(var i in a)a.hasOwnProperty(i)&&(t[i]=a[i]);return t},a='function'==typeof Object.values?Object.values:function(e){var t=[];for(var n in e)t.push(e[n]);return t}},function(e,t,n){'use strict';function o(e,t,n,o){var a=n-e,i=o-t;return a*a+i*i}t.a=function(e,t,n){return C(E(e,t),n)},n.d(t,'b',function(){return a}),t.f=function(e,n,a,i,r,s){var d=r-a,l=s-i;if(0!=d||0!=l){var p=((e-a)*d+(n-i)*l)/(d*d+l*l);1<p?(a=r,i=s):0<p&&(a+=d*p,i+=l*p)}return o(e,n,a,i)},t.e=o,t.g=function(e){return 180*e/s},t.h=function(e){return e*s/180},t.d=function(e,t){var n=e%t;return 0>n*t?n+t:n},t.c=function(e,t,n){return e+n*(t-e)};var a=function(){var e;return e='cosh'in Math?Math.cosh:function(e){var t=g(e);return(t+1/t)/2},e}()},function(e,t,n){'use strict';n.d(t,'a',function(){return s}),n.d(t,'b',function(){return d}),n.d(t,'e',function(){return l}),n.d(t,'c',function(){return p}),n.d(t,'f',function(){return _}),n.d(t,'h',function(){return g}),n.d(t,'j',function(){return c}),n.d(t,'m',function(){return u}),n.d(t,'d',function(){return y}),n.d(t,'i',function(){return m}),n.d(t,'l',function(){return h}),n.d(t,'n',function(){return f}),n.d(t,'g',function(){return x}),n.d(t,'k',function(){return I});var o=n(64),a=n(26),i=n(11),r=n(119),s=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},d=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},l=function(e){return e.target.getTargetElement()===document.activeElement},p=i.b,_=function(e){var t=e.originalEvent;return 0==t.button&&!(r.e&&r.d&&t.ctrlKey)},g=i.a,c=function(e){return'pointermove'==e.type},u=function(e){return e.type==o.a.SINGLECLICK},y=function(e){return e.type==o.a.DBLCLICK},m=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},h=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},f=function(e){var t=e.target,n=t.tagName;return'INPUT'!==n&&'SELECT'!==n&&'TEXTAREA'!==n},x=function(e){var t=e.pointerEvent;return Object(a.a)(void 0!==t,56),'mouse'==t.pointerType},I=function(e){var t=e.pointerEvent;return Object(a.a)(void 0!==t,56),t.isPrimary&&0===t.button}},function(e,t){'use strict';t.a=function(){}},function(e,t,n){'use strict';var o=n(6),a=n(189);class i{constructor(){i.constructor_.apply(this,arguments)}static index(e,t,n){return a.a.orientationIndex(e,t,n)}static isCCW(e){const t=e.length-1;if(3>t)throw new o.a('Ring has fewer than 4 points, so orientation cannot be determined');let n=e[0],a=0;for(let o=1;o<=t;o++){const t=e[o];t.y>n.y&&(n=t,a=o)}let r=a;do--r,0>r&&(r=t);while(e[r].equals2D(n)&&r!==a);let s=a;do s=(s+1)%t;while(e[s].equals2D(n)&&s!==a);const d=e[r],l=e[s];if(d.equals2D(n)||l.equals2D(n)||d.equals2D(l))return!1;const p=i.index(d,n,l);let _=null;return _=0===p?d.x>l.x:0<p,_}getClass(){return i}get interfaces_(){return[]}}t.a=i,i.constructor_=function(){},i.CLOCKWISE=-1,i.RIGHT=i.CLOCKWISE,i.COUNTERCLOCKWISE=1,i.LEFT=i.COUNTERCLOCKWISE,i.COLLINEAR=0,i.STRAIGHT=i.COLLINEAR},function(e,t,n){'use strict';function o(e){var t=e.type;return t===a.a.POINTERDOWN||t===a.a.POINTERDRAG||t===a.a.POINTERUP}t.a=function(e){for(var t=e.length,n=0,o=0,a=0;a<t;a++)n+=e[a].clientX,o+=e[a].clientY;return[n/t,o/t]};var a=n(64),i=n(32),r=n(14),s=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),d=function(e){function t(t){var n=this,o=t?t:{};return n=e.call(this,o)||this,o.handleDownEvent&&(n.handleDownEvent=o.handleDownEvent),o.handleDragEvent&&(n.handleDragEvent=o.handleDragEvent),o.handleMoveEvent&&(n.handleMoveEvent=o.handleMoveEvent),o.handleUpEvent&&(n.handleUpEvent=o.handleUpEvent),o.stopDown&&(n.stopDown=o.stopDown),n.handlingDownUpSequence=!1,n.trackedPointers_={},n.targetPointers=[],n}return s(t,e),t.prototype.handleDownEvent=function(){return!1},t.prototype.handleDragEvent=function(){},t.prototype.handleEvent=function(e){if(!e.pointerEvent)return!0;var t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==a.a.POINTERDRAG)this.handleDragEvent(e);else if(e.type==a.a.POINTERUP){var n=this.handleUpEvent(e);this.handlingDownUpSequence=n&&0<this.targetPointers.length}}else if(e.type==a.a.POINTERDOWN){var o=this.handleDownEvent(e);o&&e.preventDefault(),this.handlingDownUpSequence=o,t=this.stopDown(o)}else e.type==a.a.POINTERMOVE&&this.handleMoveEvent(e);return!t},t.prototype.handleMoveEvent=function(){},t.prototype.handleUpEvent=function(){return!1},t.prototype.stopDown=function(e){return e},t.prototype.updateTrackedPointers_=function(e){if(o(e)){var t=e.pointerEvent,n=t.pointerId.toString();e.type==a.a.POINTERUP?delete this.trackedPointers_[n]:e.type==a.a.POINTERDOWN?this.trackedPointers_[n]=t:n in this.trackedPointers_&&(this.trackedPointers_[n]=t),this.targetPointers=Object(r.c)(this.trackedPointers_)}},t}(i.a);t.b=d},function(e,t,n){'use strict';function o(){}t.a=o;var i=n(178);o.isNaN=(e)=>a(e),o.isInfinite=(e)=>!Number.isFinite(e),o.MAX_VALUE=Number.MAX_VALUE,'function'==typeof Float64Array&&'function'==typeof Int32Array?function(){const e=2146435072,t=new Float64Array(1),n=new Int32Array(t.buffer);o.doubleToLongBits=function(o){t[0]=o;let a=0|n[0],r=0|n[1];return(r&e)==e&&0!=(r&1048575)&&0!=a&&(a=0,r=2146959360),new i.a(r,a)},o.longBitsToDouble=function(e){return n[0]=e.low,n[1]=e.high,t[0]}}():function(){const e=1023,t=Math.log2,n=p,a=I,r=function(){for(let e=53;0<e;e--){const o=a(2,e)-1;if(n(t(o))+1===e)return o}return 0}();o.doubleToLongBits=function(o){let s,d,l,p,_,g,c,u,y;if(0>o||1/o===Number.NEGATIVE_INFINITY?(g=-2147483648,o=-o):g=0,0===o)return y=0,u=g,new i.a(u,y);if(o===Infinity)return y=0,u=2146435072|g,new i.a(u,y);if(o!==o)return y=0,u=2146959360,new i.a(u,y);if(p=0,y=0,s=n(o),1<s)if(s<=r)p=n(t(s)),20>=p?(y=0,u=1048575&s<<20-p):(l=p-20,d=a(2,l),y=s%d<<32-l,u=1048575&s/d);else for(l=s,y=0;d=l/2,l=n(d),0!==l;)p++,y>>>=1,y|=(1&u)<<31,u>>>=1,d!==l&&(u|=524288);if(c=p+e,_=0===s,s=o-s,52>p&&0!==s)for(l=0;;){if(d=2*s,1<=d?(s=d-1,_?(c--,_=!1):(l<<=1,l|=1,p++)):(s=d,_?0==--c&&(p++,_=!1):(l<<=1,p++)),20===p)u|=l,l=0;else if(52===p){y|=l;break}if(1===d){20>p?u|=l<<20-p:52>p&&(y|=l<<52-p);break}}return u|=c<<20,u|=g,new i.a(u,y)},o.longBitsToDouble=function(t){let n,o,r,s,d;const l=t.high,p=t.low;for(r=-2147483648&l?-1:1,s=((2146435072&l)>>20)-e,d=0,o=524288,n=1;20>=n;n++)l&o&&(d+=a(2,-n)),o>>>=1;for(o=-2147483648,n=21;52>=n;n++)p&o&&(d+=a(2,-n)),o>>>=1;if(s===-e){if(0===d)return 0*r;s=-1022}else{if(s===e+1)return 0===d?r/0:NaN;d+=1}return r*d*a(2,s)}}()},function(e,t){'use strict';t.a=function(){}},function(e,t,n){'use strict';var o=n(1),a=n(17),i=n(21);class r{constructor(){r.constructor_.apply(this,arguments)}static intersects(){if(3===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2];return n.x>=(e.x<t.x?e.x:t.x)&&n.x<=(e.x>t.x?e.x:t.x)&&n.y>=(e.y<t.y?e.y:t.y)&&n.y<=(e.y>t.y?e.y:t.y)}if(4===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2],o=arguments[3];let a=C(n.x,o.x),i=E(n.x,o.x),r=C(e.x,t.x),s=E(e.x,t.x);return!(r>i)&&!(s<a)&&(a=C(n.y,o.y),i=E(n.y,o.y),r=C(e.y,t.y),s=E(e.y,t.y),!(r>i)&&!(s<a))}}getArea(){return this.getWidth()*this.getHeight()}equals(e){if(!(e instanceof r))return!1;const t=e;return this.isNull()?t.isNull():this._maxx===t.getMaxX()&&this._maxy===t.getMaxY()&&this._minx===t.getMinX()&&this._miny===t.getMinY()}intersection(e){if(this.isNull()||e.isNull()||!this.intersects(e))return new r;const t=this._minx>e._minx?this._minx:e._minx,n=this._miny>e._miny?this._miny:e._miny,o=this._maxx<e._maxx?this._maxx:e._maxx,a=this._maxy<e._maxy?this._maxy:e._maxy;return new r(t,o,n,a)}isNull(){return this._maxx<this._minx}getMaxX(){return this._maxx}covers(){if(1===arguments.length){if(arguments[0]instanceof o.a){const e=arguments[0];return this.covers(e.x,e.y)}if(arguments[0]instanceof r){const e=arguments[0];return this.isNull()||e.isNull()?!1:e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){const e=arguments[0],t=arguments[1];return!this.isNull()&&e>=this._minx&&e<=this._maxx&&t>=this._miny&&t<=this._maxy}}intersects(){if(1===arguments.length){if(arguments[0]instanceof r){const e=arguments[0];return this.isNull()||e.isNull()?!1:!(e._minx>this._maxx||e._maxx<this._minx||e._miny>this._maxy||e._maxy<this._miny)}if(arguments[0]instanceof o.a){const e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){if(arguments[0]instanceof o.a&&arguments[1]instanceof o.a){const e=arguments[0],t=arguments[1];if(this.isNull())return!1;const n=e.x<t.x?e.x:t.x;if(n>this._maxx)return!1;const o=e.x>t.x?e.x:t.x;if(o<this._minx)return!1;const a=e.y<t.y?e.y:t.y;if(a>this._maxy)return!1;const i=e.y>t.y?e.y:t.y;return!(i<this._miny)}if('number'==typeof arguments[0]&&'number'==typeof arguments[1]){const e=arguments[0],t=arguments[1];return!this.isNull()&&!(e>this._maxx||e<this._minx||t>this._maxy||t<this._miny)}}}getMinY(){return this._miny}getMinX(){return this._minx}expandToInclude(){if(1===arguments.length){if(arguments[0]instanceof o.a){const e=arguments[0];this.expandToInclude(e.x,e.y)}else if(arguments[0]instanceof r){const e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){const e=arguments[0],t=arguments[1];this.isNull()?(this._minx=e,this._maxx=e,this._miny=t,this._maxy=t):(e<this._minx&&(this._minx=e),e>this._maxx&&(this._maxx=e),t<this._miny&&(this._miny=t),t>this._maxy&&(this._maxy=t))}}minExtent(){if(this.isNull())return 0;const e=this.getWidth(),t=this.getHeight();return e<t?e:t}getWidth(){return this.isNull()?0:this._maxx-this._minx}compareTo(e){const t=e;if(this.isNull())return t.isNull()?0:-1;return t.isNull()?1:this._minx<t._minx?-1:this._minx>t._minx?1:this._miny<t._miny?-1:this._miny>t._miny?1:this._maxx<t._maxx?-1:this._maxx>t._maxx?1:this._maxy<t._maxy?-1:this._maxy>t._maxy?1:0}translate(e,t){return this.isNull()?null:void this.init(this.getMinX()+e,this.getMaxX()+e,this.getMinY()+t,this.getMaxY()+t)}toString(){return'Env['+this._minx+' : '+this._maxx+', '+this._miny+' : '+this._maxy+']'}setToNull(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1}getHeight(){return this.isNull()?0:this._maxy-this._miny}maxExtent(){if(this.isNull())return 0;const e=this.getWidth(),t=this.getHeight();return e>t?e:t}expandBy(){if(1===arguments.length){const e=arguments[0];this.expandBy(e,e)}else if(2===arguments.length){const e=arguments[0],t=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=t,this._maxy+=t,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}}contains(){if(1===arguments.length){if(arguments[0]instanceof r){const e=arguments[0];return this.covers(e)}if(arguments[0]instanceof o.a){const e=arguments[0];return this.covers(e)}}else if(2===arguments.length){const e=arguments[0],t=arguments[1];return this.covers(e,t)}}centre(){return this.isNull()?null:new o.a((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)}init(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof o.a){const e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof r){const e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){const e=arguments[0],t=arguments[1];this.init(e.x,t.x,e.y,t.y)}else if(4===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2],o=arguments[3];e<t?(this._minx=e,this._maxx=t):(this._minx=t,this._maxx=e),n<o?(this._miny=n,this._maxy=o):(this._miny=o,this._maxy=n)}}getMaxY(){return this._maxy}distance(e){if(this.intersects(e))return 0;let t=0;this._maxx<e._minx?t=e._minx-this._maxx:this._minx>e._maxx&&(t=this._minx-e._maxx);let n=0;return this._maxy<e._miny?n=e._miny-this._maxy:this._miny>e._maxy&&(n=this._miny-e._maxy),0==t?n:0==n?t:T(t*t+n*n)}hashCode(){let e=17;return e=37*e+o.a.hashCode(this._minx),e=37*e+o.a.hashCode(this._maxx),e=37*e+o.a.hashCode(this._miny),e=37*e+o.a.hashCode(this._maxy),e}getClass(){return r}get interfaces_(){return[a.a,i.a]}}t.a=r,r.constructor_=function(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof o.a){const e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof r){const e=arguments[0];this.init(e)}}else if(2===arguments.length){const e=arguments[0],t=arguments[1];this.init(e.x,t.x,e.y,t.y)}else if(4===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2],o=arguments[3];this.init(e,t,n,o)}},r.serialVersionUID=5873921885273102000},function(e,t,n){'use strict';var o=n(6),a=n(67),i=n(17),r=n(77),s=n(21),d=n(22);class l{constructor(){l.constructor_.apply(this,arguments)}isGeometryCollection(){return this.getTypeCode()===l.TYPECODE_GEOMETRYCOLLECTION}getFactory(){return this._factory}getGeometryN(){return this}getArea(){return 0}isRectangle(){return!1}equals(){if(arguments[0]instanceof l){const e=arguments[0];return null!==e&&this.equalsTopo(e)}if(arguments[0]instanceof Object){const e=arguments[0];if(!(e instanceof l))return!1;return this.equalsExact(e)}}equalsExact(e){return this===e||this.equalsExact(e,0)}geometryChanged(){this.apply(l.geometryChangedFilter)}geometryChangedAction(){this._envelope=null}equalsNorm(e){return null!==e&&this.norm().equalsExact(e.norm())}getLength(){return 0}getNumGeometries(){return 1}compareTo(){let e;if(1===arguments.length){const t=arguments[0];return e=t,this.getTypeCode()===e.getTypeCode()?this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t):this.getTypeCode()-e.getTypeCode()}if(2===arguments.length){const t=arguments[0],n=arguments[1];return e=t,this.getTypeCode()===e.getTypeCode()?this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t,n):this.getTypeCode()-e.getTypeCode()}}getUserData(){return this._userData}getSRID(){return this._SRID}getEnvelope(){return this.getFactory().toGeometry(this.getEnvelopeInternal())}checkNotGeometryCollection(e){if(e.getTypeCode()===l.TYPECODE_GEOMETRYCOLLECTION)throw new o.a('This method does not support GeometryCollection arguments')}equal(e,t,n){return 0===n?e.equals(t):e.distance(t)<=n}norm(){const e=this.copy();return e.normalize(),e}getPrecisionModel(){return this._factory.getPrecisionModel()}getEnvelopeInternal(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new d.a(this._envelope)}setSRID(e){this._SRID=e}setUserData(e){this._userData=e}compare(e,t){const n=e.iterator(),o=t.iterator();for(;n.hasNext()&&o.hasNext();){const e=n.next(),t=o.next(),a=e.compareTo(t);if(0!==a)return a}return n.hasNext()?1:o.hasNext()?-1:0}hashCode(){return this.getEnvelopeInternal().hashCode()}isGeometryCollectionOrDerived(){return this.getTypeCode()===l.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===l.TYPECODE_MULTIPOINT||this.getTypeCode()===l.TYPECODE_MULTILINESTRING||this.getTypeCode()===l.TYPECODE_MULTIPOLYGON}get interfaces_(){return[r.a,i.a,s.a]}getClass(){return l}static hasNonEmptyElements(e){for(let t=0;t<e.length;t++)if(!e[t].isEmpty())return!0;return!1}static hasNullElements(e){for(let t=0;t<e.length;t++)if(null===e[t])return!0;return!1}}t.a=l;l.constructor_=function(e){e&&(this._envelope=null,this._userData=null,this._factory=e,this._SRID=e.getSRID())},l.serialVersionUID=8763622679187377000,l.TYPECODE_POINT=0,l.TYPECODE_MULTIPOINT=1,l.TYPECODE_LINESTRING=2,l.TYPECODE_LINEARRING=3,l.TYPECODE_MULTILINESTRING=4,l.TYPECODE_POLYGON=5,l.TYPECODE_MULTIPOLYGON=6,l.TYPECODE_GEOMETRYCOLLECTION=7,l.TYPENAME_POINT='Point',l.TYPENAME_MULTIPOINT='MultiPoint',l.TYPENAME_LINESTRING='LineString',l.TYPENAME_LINEARRING='LinearRing',l.TYPENAME_MULTILINESTRING='MultiLineString',l.TYPENAME_POLYGON='Polygon',l.TYPENAME_MULTIPOLYGON='MultiPolygon',l.TYPENAME_GEOMETRYCOLLECTION='GeometryCollection',l.geometryChangedFilter={get interfaces_(){return[a.a]},filter(e){e.geometryChangedAction()}}},function(e,t,n){'use strict';var a=n(186),o=n(23),i=n(129),r=n(78),s=n(3),d=n(6),l=n(67),p=n(51),_=n(103),g=n(80),c=n(22),u=n(4);class y extends o.a{constructor(){super(),y.constructor_.apply(this,arguments)}computeEnvelopeInternal(){const e=new c.a;for(let t=0;t<this._geometries.length;t++)e.expandToInclude(this._geometries[t].getEnvelopeInternal());return e}getGeometryN(e){return this._geometries[e]}getCoordinates(){const e=Array(this.getNumPoints()).fill(null);let t=-1;for(let n=0;n<this._geometries.length;n++){const o=this._geometries[n].getCoordinates();for(let n=0;n<o.length;n++)t++,e[t]=o[n]}return e}getArea(){let e=0;for(let t=0;t<this._geometries.length;t++)e+=this._geometries[t].getArea();return e}equalsExact(){if(2===arguments.length&&'number'==typeof arguments[1]&&arguments[0]instanceof o.a){const e=arguments[0],t=arguments[1];if(!this.isEquivalentClass(e))return!1;const n=e;if(this._geometries.length!==n._geometries.length)return!1;for(let e=0;e<this._geometries.length;e++)if(!this._geometries[e].equalsExact(n._geometries[e],t))return!1;return!0}return super.equalsExact.apply(this,arguments)}normalize(){for(let e=0;e<this._geometries.length;e++)this._geometries[e].normalize();i.a.sort(this._geometries)}getCoordinate(){return this.isEmpty()?null:this._geometries[0].getCoordinate()}getBoundaryDimension(){let e=p.a.FALSE;for(let t=0;t<this._geometries.length;t++)e=E(e,this._geometries[t].getBoundaryDimension());return e}getTypeCode(){return o.a.TYPECODE_GEOMETRYCOLLECTION}getDimension(){let e=p.a.FALSE;for(let t=0;t<this._geometries.length;t++)e=E(e,this._geometries[t].getDimension());return e}getLength(){let e=0;for(let t=0;t<this._geometries.length;t++)e+=this._geometries[t].getLength();return e}getNumPoints(){let e=0;for(let t=0;t<this._geometries.length;t++)e+=this._geometries[t].getNumPoints();return e}getNumGeometries(){return this._geometries.length}reverse(){const e=this._geometries.length,t=Array(e).fill(null);for(let e=0;e<this._geometries.length;e++)t[e]=this._geometries[e].reverse();return this.getFactory().createGeometryCollection(t)}compareToSameClass(){if(1===arguments.length){const e=arguments[0],t=new a.a(i.a.asList(this._geometries)),n=new a.a(i.a.asList(e._geometries));return this.compare(t,n)}if(2===arguments.length){const e=arguments[0],t=arguments[1],n=e,o=this.getNumGeometries(),a=n.getNumGeometries();let r=0;for(;r<o&&r<a;){const e=this.getGeometryN(r),o=n.getGeometryN(r),a=e.compareToSameClass(o,t);if(0!==a)return a;r++}return r<o?1:r<a?-1:0}}apply(){if(Object(s.a)(arguments[0],r.a)){const e=arguments[0];for(let t=0;t<this._geometries.length;t++)this._geometries[t].apply(e)}else if(Object(s.a)(arguments[0],g.a)){const e=arguments[0];if(0===this._geometries.length)return null;for(let t=0;t<this._geometries.length&&(this._geometries[t].apply(e),!e.isDone());t++);e.isGeometryChanged()&&this.geometryChanged()}else if(Object(s.a)(arguments[0],_.a)){const e=arguments[0];e.filter(this);for(let t=0;t<this._geometries.length;t++)this._geometries[t].apply(e)}else if(Object(s.a)(arguments[0],l.a)){const e=arguments[0];e.filter(this);for(let t=0;t<this._geometries.length;t++)this._geometries[t].apply(e)}}getBoundary(){return this.checkNotGeometryCollection(this),u.a.shouldNeverReachHere(),null}getGeometryType(){return o.a.TYPENAME_GEOMETRYCOLLECTION}copy(){const e=Array(this._geometries.length).fill(null);for(let t=0;t<e.length;t++)e[t]=this._geometries[t].copy();return new y(e,this._factory)}isEmpty(){for(let e=0;e<this._geometries.length;e++)if(!this._geometries[e].isEmpty())return!1;return!0}getClass(){return y}get interfaces_(){return[]}}t.a=y,y.constructor_=function(){if(this._geometries=null,0===arguments.length);else if(2===arguments.length){let e=arguments[0];const t=arguments[1];if(o.a.constructor_.call(this,t),null===e&&(e=[]),o.a.hasNullElements(e))throw new d.a('geometries must not contain null elements');this._geometries=e}},y.serialVersionUID=-5694727726395021000},function(e,t,n){'use strict';function o(e){return g.hasOwnProperty(e)?g[e]:g[e]='change:'+e}t.b=o;var a=n(7),i=n(142),r=n(113),s=n(13),d=n(14),l=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),p=function(e){function t(t,n,o){var a=e.call(this,t)||this;return a.key=n,a.oldValue=o,a}return l(t,e),t}(s.a),_=function(e){function t(t){var n=e.call(this)||this;return Object(a.c)(n),n.values_={},void 0!==t&&n.setProperties(t),n}return l(t,e),t.prototype.get=function(e){var t;return this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t},t.prototype.getKeys=function(){return Object.keys(this.values_)},t.prototype.getProperties=function(){return Object(d.a)({},this.values_)},t.prototype.notify=function(e,t){var n;n=o(e),this.dispatchEvent(new p(n,e,t)),n=i.a.PROPERTYCHANGE,this.dispatchEvent(new p(n,e,t))},t.prototype.set=function(e,t,n){if(n)this.values_[e]=t;else{var o=this.values_[e];this.values_[e]=t,o!==t&&this.notify(e,o)}},t.prototype.setProperties=function(e,t){for(var n in e)this.set(n,e[n],t)},t.prototype.unset=function(e,t){if(e in this.values_){var n=this.values_[e];delete this.values_[e],t||this.notify(e,n)}},t}(r.a),g={};t.a=_},function(e,t,n){'use strict';t.a=function(e,t){if(!e)throw new o.a(t)};var o=n(141)},function(e,t,n){'use strict';var o=n(23),a=n(78),i=n(3),r=n(180),s=n(299),d=n(6),l=n(185),p=n(130),_=n(67),g=n(51),u=n(103),y=n(80),m=n(22);class h extends o.a{constructor(){super(),h.constructor_.apply(this,arguments)}computeEnvelopeInternal(){return this.isEmpty()?new m.a:this._points.expandEnvelope(new m.a)}isRing(){return this.isClosed()&&this.isSimple()}getCoordinates(){return this._points.toCoordinateArray()}equalsExact(){if(2===arguments.length&&'number'==typeof arguments[1]&&arguments[0]instanceof o.a){const e=arguments[0],t=arguments[1];if(!this.isEquivalentClass(e))return!1;const n=e;if(this._points.size()!==n._points.size())return!1;for(let e=0;e<this._points.size();e++)if(!this.equal(this._points.getCoordinate(e),n._points.getCoordinate(e),t))return!1;return!0}return super.equalsExact.apply(this,arguments)}normalize(){for(let e=0;e<c(this._points.size()/2);e++){const t=this._points.size()-1-e;if(!this._points.getCoordinate(e).equals(this._points.getCoordinate(t))){if(0<this._points.getCoordinate(e).compareTo(this._points.getCoordinate(t))){const e=this._points.copy();p.a.reverse(e),this._points=e}return null}}}getCoordinate(){return this.isEmpty()?null:this._points.getCoordinate(0)}getBoundaryDimension(){return this.isClosed()?g.a.FALSE:0}isClosed(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))}getEndPoint(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)}getTypeCode(){return o.a.TYPECODE_LINESTRING}getDimension(){return 1}getLength(){return s.a.ofLine(this._points)}getNumPoints(){return this._points.size()}reverse(){const e=this._points.copy();p.a.reverse(e);const t=this.getFactory().createLineString(e);return t}compareToSameClass(){if(1===arguments.length){const e=arguments[0],t=e;let n=0,o=0;for(;n<this._points.size()&&o<t._points.size();){const e=this._points.getCoordinate(n).compareTo(t._points.getCoordinate(o));if(0!==e)return e;n++,o++}return n<this._points.size()?1:o<t._points.size()?-1:0}if(2===arguments.length){const e=arguments[0],t=arguments[1];return t.compare(this._points,e._points)}}apply(){if(Object(i.a)(arguments[0],a.a)){const e=arguments[0];for(let t=0;t<this._points.size();t++)e.filter(this._points.getCoordinate(t))}else if(Object(i.a)(arguments[0],y.a)){const e=arguments[0];if(0===this._points.size())return null;for(let t=0;t<this._points.size()&&(e.filter(this._points,t),!e.isDone());t++);e.isGeometryChanged()&&this.geometryChanged()}else if(Object(i.a)(arguments[0],u.a)){const e=arguments[0];e.filter(this)}else if(Object(i.a)(arguments[0],_.a)){const e=arguments[0];e.filter(this)}}getBoundary(){return new r.a(this).getBoundary()}isEquivalentClass(e){return e instanceof h}getCoordinateN(e){return this._points.getCoordinate(e)}getGeometryType(){return o.a.TYPENAME_LINESTRING}copy(){return new h(this._points.copy(),this._factory)}getCoordinateSequence(){return this._points}isEmpty(){return 0===this._points.size()}init(e){if(null===e&&(e=this.getFactory().getCoordinateSequenceFactory().create([])),1===e.size())throw new d.a('Invalid number of points in LineString (found '+e.size()+' - must be 0 or >= 2)');this._points=e}isCoordinate(e){for(let t=0;t<this._points.size();t++)if(this._points.getCoordinate(t).equals(e))return!0;return!1}getStartPoint(){return this.isEmpty()?null:this.getPointN(0)}getPointN(e){return this.getFactory().createPoint(this._points.getCoordinate(e))}getClass(){return h}get interfaces_(){return[l.a]}}t.a=h,h.constructor_=function(){if(this._points=null,0===arguments.length);else if(2===arguments.length){const e=arguments[0],t=arguments[1];o.a.constructor_.call(this,t),this.init(e)}},h.serialVersionUID=3110669828065365500},function(e,t){'use strict';function n(){}t.a=n,n.arraycopy=(e,t,n,o,a)=>{let r=0;for(let s=t;s<t+a;s++)n[o+r]=e[s],r++},n.getProperty=(e)=>({"line.separator":'\n'})[e]},function(e,t,n){'use strict';var a=n(104),i=n(9),r=n(12),s=n(323);class d{constructor(){d.constructor_.apply(this,arguments)}static toLineLabel(e){const t=new d(i.a.NONE);for(let n=0;2>n;n++)t.setLocation(n,e.getLocation(n));return t}getGeometryCount(){let e=0;return this.elt[0].isNull()||e++,this.elt[1].isNull()||e++,e}setAllLocations(e,t){this.elt[e].setAllLocations(t)}isNull(e){return this.elt[e].isNull()}setAllLocationsIfNull(){if(1===arguments.length){const e=arguments[0];this.setAllLocationsIfNull(0,e),this.setAllLocationsIfNull(1,e)}else if(2===arguments.length){const e=arguments[0],t=arguments[1];this.elt[e].setAllLocationsIfNull(t)}}isLine(e){return this.elt[e].isLine()}merge(e){for(let t=0;2>t;t++)null===this.elt[t]&&null!==e.elt[t]?this.elt[t]=new s.a(e.elt[t]):this.elt[t].merge(e.elt[t])}flip(){this.elt[0].flip(),this.elt[1].flip()}getLocation(){if(1===arguments.length){const e=arguments[0];return this.elt[e].get(r.a.ON)}if(2===arguments.length){const e=arguments[0],t=arguments[1];return this.elt[e].get(t)}}toString(){const e=new a.a;return null!==this.elt[0]&&(e.append('A:'),e.append(this.elt[0].toString())),null!==this.elt[1]&&(e.append(' B:'),e.append(this.elt[1].toString())),e.toString()}isArea(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){const e=arguments[0];return this.elt[e].isArea()}}isAnyNull(e){return this.elt[e].isAnyNull()}setLocation(){if(2===arguments.length){const e=arguments[0],t=arguments[1];this.elt[e].setLocation(r.a.ON,t)}else if(3===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2];this.elt[e].setLocation(t,n)}}isEqualOnSide(e,t){return this.elt[0].isEqualOnSide(e.elt[0],t)&&this.elt[1].isEqualOnSide(e.elt[1],t)}allPositionsEqual(e,t){return this.elt[e].allPositionsEqual(t)}toLine(e){this.elt[e].isArea()&&(this.elt[e]=new s.a(this.elt[e].location[0]))}getClass(){return d}get interfaces_(){return[]}}t.a=d,d.constructor_=function(){if(this.elt=[,,].fill(null),1===arguments.length){if(o(arguments[0])){const e=arguments[0];this.elt[0]=new s.a(e),this.elt[1]=new s.a(e)}else if(arguments[0]instanceof d){const e=arguments[0];this.elt[0]=new s.a(e.elt[0]),this.elt[1]=new s.a(e.elt[1])}}else if(2===arguments.length){const e=arguments[0],t=arguments[1];this.elt[0]=new s.a(i.a.NONE),this.elt[1]=new s.a(i.a.NONE),this.elt[e].setLocation(t)}else if(3===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2];this.elt[0]=new s.a(e,t,n),this.elt[1]=new s.a(e,t,n)}else if(4===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2],o=arguments[3];this.elt[0]=new s.a(i.a.NONE,i.a.NONE,i.a.NONE),this.elt[1]=new s.a(i.a.NONE,i.a.NONE,i.a.NONE),this.elt[e].setLocations(t,n,o)}}},function(e,t,n){'use strict';function o(e,t,n,o,a){if(o&&o!==e&&(n=n.bind(o)),a){var i=n;n=function(){e.removeEventListener(t,n),i.apply(this,arguments)}}var r={target:e,type:t,listener:n};return e.addEventListener(t,n),r}t.a=o,t.b=function(e,t,n,a){return o(e,t,n,a,!0)},t.c=function(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),Object(a.b)(e))};var a=n(14)},function(e,t,n){'use strict';function o(e){var t;return 2==e?t=d.a.XY:3==e?t=d.a.XYZ:4==e&&(t=d.a.XYZM),t}function a(e){var t;return e==d.a.XY?t=2:e==d.a.XYZ||e==d.a.XYM?t=3:e==d.a.XYZM&&(t=4),t}t.b=function(e,t,n){var o=e.getFlatCoordinates();if(!o)return null;var a=e.getStride();return Object(l.c)(o,0,o.length,a,t,n)};var i=n(7),r=n(2),s=n(120),d=n(59),l=n(58),p=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),_=function(e){function t(){var t=e.call(this)||this;return t.layout=d.a.XY,t.stride=2,t.flatCoordinates=null,t}return p(t,e),t.prototype.computeExtent=function(e){return Object(r.n)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},t.prototype.getCoordinates=function(){return Object(i.b)()},t.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},t.prototype.getFlatCoordinates=function(){return this.flatCoordinates},t.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},t.prototype.getLayout=function(){return this.layout},t.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),0>e||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var t=this.getSimplifiedGeometryInternal(e),n=t.getFlatCoordinates();return n.length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)},t.prototype.getSimplifiedGeometryInternal=function(){return this},t.prototype.getStride=function(){return this.stride},t.prototype.setFlatCoordinates=function(e,t){this.stride=a(e),this.layout=e,this.flatCoordinates=t},t.prototype.setCoordinates=function(){Object(i.b)()},t.prototype.setLayout=function(e,t,n){var r;if(e)r=a(e);else{for(var s=0;s<n;++s){if(0===t.length)return this.layout=d.a.XY,void(this.stride=2);t=t[0]}r=t.length,e=o(r)}this.layout=e,this.stride=r},t.prototype.applyTransform=function(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},t.prototype.rotate=function(e,t){var n=this.getFlatCoordinates();if(n){var o=this.getStride();Object(l.a)(n,0,n.length,o,e,t,n),this.changed()}},t.prototype.scale=function(e,t,n){var o=t;void 0===o&&(o=e);var a=n;a||(a=Object(r.w)(this.getExtent()));var i=this.getFlatCoordinates();if(i){var s=this.getStride();Object(l.b)(i,0,i.length,s,e,o,a,i),this.changed()}},t.prototype.translate=function(e,t){var n=this.getFlatCoordinates();if(n){var o=this.getStride();Object(l.d)(n,0,n.length,o,e,t,n),this.changed()}},t}(s.a);t.a=_},function(e,t,n){'use strict';t.b=function(e,t,n){var o=e.getCenterInternal();if(o){var i=[o[0]+t[0],o[1]+t[1]];e.animateInternal({duration:n===void 0?250:n,easing:a.b,center:e.getConstrainedCenter(i)})}},t.c=function(e,t,n,o){var i=e.getZoom();if(void 0!==i){var r=e.getConstrainedZoom(i+t),s=e.getResolutionForZoom(r);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:s,anchor:n,duration:void 0===o?250:o,easing:a.a})}};var o=n(25),a=n(125),i=n(126),r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),s=function(e){function t(t){var n=e.call(this)||this;return t.handleEvent&&(n.handleEvent=t.handleEvent),n.map_=null,n.setActive(!0),n}return r(t,e),t.prototype.getActive=function(){return this.get(i.a.ACTIVE)},t.prototype.getMap=function(){return this.map_},t.prototype.handleEvent=function(){return!0},t.prototype.setActive=function(e){this.set(i.a.ACTIVE,e)},t.prototype.setMap=function(e){this.map_=e},t}(o.a);t.a=s},function(e,t,n){'use strict';var o=n(77);class a{constructor(){a.constructor_.apply(this,arguments)}setOrdinate(){}size(){}getOrdinate(){}getCoordinate(){if(1===arguments.length){arguments[0]}else if(2===arguments.length){const e=arguments[0],t=arguments[1]}}getCoordinateCopy(){}getDimension(){}getX(){}expandEnvelope(){}copy(){}getY(){}toCoordinateArray(){}getClass(){return a}get interfaces_(){return[o.a]}}t.a=a,a.constructor_=function(){},a.X=0,a.Y=1,a.Z=2,a.M=3},function(e,t){'use strict';function n(){}t.a=n;n.prototype.add=function(){},n.prototype.addAll=function(){},n.prototype.isEmpty=function(){},n.prototype.iterator=function(){},n.prototype.size=function(){},n.prototype.toArray=function(){},n.prototype.remove=function(){}},function(e,t){'use strict';t.a=function(e,t){var n=document.createElement('canvas');return e&&(n.width=e),t&&(n.height=t),n.getContext('2d')},t.b=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}},function(e,t,n){'use strict';function o(){return S||(S=Object(i.a)(1,1)),S}function a(e,t){var n=o();return e!=b&&(n.font=e,b=n.font),n.measureText(t).width}n.d(t,'c',function(){return p}),n.d(t,'b',function(){return _}),n.d(t,'d',function(){return g}),n.d(t,'e',function(){return c}),n.d(t,'f',function(){return u}),n.d(t,'g',function(){return y}),n.d(t,'i',function(){return m}),n.d(t,'k',function(){return h}),n.d(t,'l',function(){return f}),n.d(t,'m',function(){return x}),n.d(t,'j',function(){return I}),n.d(t,'h',function(){return C}),n.d(t,'o',function(){return T}),n.d(t,'a',function(){return O}),n.d(t,'q',function(){return R}),t.p=function(e,t,n){if(t in n)return n[t];var o=a(e,t);return n[t]=o,o},t.r=function(e,t,n){for(var o=t.length,r=0,s=0,i;s<o;++s)i=a(e,t[s]),r=E(r,i),n.push(i);return r},t.s=function(e,t,n,o){0!==t&&(e.translate(n,o),e.rotate(t),e.translate(-n,-o))},t.n=function(e,t,n,o,a,i,r,s,d,l,p){var _;1!=n&&(_=e.globalAlpha,e.globalAlpha=_*n),t&&e.setTransform.apply(e,t),e.drawImage(o,a,i,r,s,d,l,r*p,s*p),1!=n&&(e.globalAlpha=_),t&&e.setTransform.apply(e,P)};var r=n(236),i=n(35),s=n(14),d=n(44),l=n(237),p='10px sans-serif',_='#000',g='round',c=[],u=0,y='round',m=10,h='#000',f='center',x='middle',I=[0,0,0,0],C=1,T=new l.a,N={},S=null,L={},O=function(){function e(e,t,n){for(var a=o(),r=!0,s=0,i;s<p;++s)if(i=l[s],a.font=e+' '+t+' '+d+i,c=a.measureText(_).width,n!=i){a.font=e+' '+t+' '+d+n+','+i;var g=a.measureText(_).width;r=r&&g!=c}return!!r}function t(){var t=!0;for(var o in a)a[o]<n&&(e.apply(this,o.split('\n'))?(a[o]=n,Object(s.b)(L),S=null,b=void 0,T.getCount()&&T.clear()):(++a[o],t=!1));t&&(clearInterval(g),g=void 0)}var n=100,a=N,d='32px ',l=['monospace','serif'],p=l.length,_='wmytzilWMYTZIL@#/&?$%10\uF013',g,c;return function(o){var s=Object(r.a)(o);if(s)for(var d=s.families,l=0,i=d.length;l<i;++l){var p=d[l],_=s.style+'\n'+s.weight+'\n'+p;_ in a||(a[_]=n,!e(s.style,s.weight,p)&&(a[_]=0,void 0==g&&(g=setInterval(t,32))))}}}(),R=function(){var e=L,t;return function(n){var o=e[n];return void 0==o&&(!t&&(t=document.createElement('div'),t.innerHTML='M',t.style.margin='0 !important',t.style.padding='0 !important',t.style.position='absolute !important',t.style.left='-99999px !important'),t.style.font=n,document.body.appendChild(t),o=t.offsetHeight,e[n]=o,document.body.removeChild(t)),o}}(),P=Object(d.c)(),b},function(e,t){'use strict';function n(e,t,n,o){for(var a=0,i=n.length,r;a<i;++a){r=n[a];for(var s=0;s<o;++s)e[t++]=r[s]}return t}function o(e,t,o,a,r){for(var s=r?r:[],d=0,i=0,l=o.length,p;i<l;++i)p=n(e,t,o[i],a),s[d++]=p,t=p;return s.length=d,s}t.a=function(e,t,n){for(var o=0,a=n.length;o<a;++o)e[t++]=n[o];return t},t.b=n,t.c=o,t.d=function(e,t,n,a,r){for(var s=r?r:[],d=0,i=0,l=n.length,p;i<l;++i)p=o(e,t,n[i],a,s[d]),s[d++]=p,t=p[p.length-1];return s.length=d,s}},function(e,t,n){'use strict';var o=n(179),a=n(27),i=n(23),r=n(3),s=n(1),d=n(69),l=n(52),p=n(84),_=n(309),g=n(53),c=n(310),u=n(70),y=n(130),m=n(33),h=n(24),f=n(132),x=n(21),I=n(4),E=n(50);class C{constructor(){C.constructor_.apply(this,arguments)}static toMultiPolygonArray(e){const t=Array(e.size()).fill(null);return e.toArray(t)}static toGeometryArray(e){if(null===e)return null;const t=Array(e.size()).fill(null);return e.toArray(t)}static getDefaultCoordinateSequenceFactory(){return c.a.instance()}static toMultiLineStringArray(e){const t=Array(e.size()).fill(null);return e.toArray(t)}static toLineStringArray(e){const t=Array(e.size()).fill(null);return e.toArray(t)}static toMultiPointArray(e){const t=Array(e.size()).fill(null);return e.toArray(t)}static toLinearRingArray(e){const t=Array(e.size()).fill(null);return e.toArray(t)}static toPointArray(e){const t=Array(e.size()).fill(null);return e.toArray(t)}static toPolygonArray(e){const t=Array(e.size()).fill(null);return e.toArray(t)}static createPointFromInternalCoord(e,t){return t.getPrecisionModel().makePrecise(e),t.getFactory().createPoint(e)}toGeometry(e){return e.isNull()?this.createPoint():e.getMinX()===e.getMaxX()&&e.getMinY()===e.getMaxY()?this.createPoint(new s.a(e.getMinX(),e.getMinY())):e.getMinX()===e.getMaxX()||e.getMinY()===e.getMaxY()?this.createLineString([new s.a(e.getMinX(),e.getMinY()),new s.a(e.getMaxX(),e.getMaxY())]):this.createPolygon(this.createLinearRing([new s.a(e.getMinX(),e.getMinY()),new s.a(e.getMinX(),e.getMaxY()),new s.a(e.getMaxX(),e.getMaxY()),new s.a(e.getMaxX(),e.getMinY()),new s.a(e.getMinX(),e.getMinY())]),null)}createLineString(){if(0===arguments.length)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){const e=arguments[0];return this.createLineString(null===e?null:this.getCoordinateSequenceFactory().create(e))}if(Object(r.a)(arguments[0],m.a)){const e=arguments[0];return new a.a(e,this)}}}createMultiLineString(){if(0===arguments.length)return new E.a(null,this);if(1===arguments.length){const e=arguments[0];return new E.a(e,this)}}buildGeometry(e){let t=null,n=!1,o=!1;for(let a=e.iterator();a.hasNext();){const e=a.next(),i=e.getClass();null==t&&(t=i),i!==t&&(n=!0),e instanceof h.a&&(o=!0)}if(null===t)return this.createGeometryCollection();if(n||o)return this.createGeometryCollection(C.toGeometryArray(e));const i=e.iterator().next(),r=1<e.size();if(r){if(i instanceof l.a)return this.createMultiPolygon(C.toPolygonArray(e));if(i instanceof a.a)return this.createMultiLineString(C.toLineStringArray(e));if(i instanceof d.a)return this.createMultiPoint(C.toPointArray(e));I.a.shouldNeverReachHere('Unhandled class: '+i.getClass().getName())}return i}createMultiPointFromCoords(e){return this.createMultiPoint(null===e?null:this.getCoordinateSequenceFactory().create(e))}createPoint(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof s.a){const e=arguments[0];return this.createPoint(null===e?null:this.getCoordinateSequenceFactory().create([e]))}if(Object(r.a)(arguments[0],m.a)){const e=arguments[0];return new d.a(e,this)}}}getCoordinateSequenceFactory(){return this._coordinateSequenceFactory}createPolygon(){if(0===arguments.length)return this.createPolygon(null,null);if(1===arguments.length){if(Object(r.a)(arguments[0],m.a)){const e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Array){const e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof g.a){const e=arguments[0];return this.createPolygon(e,null)}}else if(2===arguments.length){const e=arguments[0],t=arguments[1];return new l.a(e,t,this)}}getSRID(){return this._SRID}createGeometryCollection(){if(0===arguments.length)return new h.a(null,this);if(1===arguments.length){const e=arguments[0];return new h.a(e,this)}}createGeometry(e){const t=new _.a(this);return t.edit(e,new T(this._coordinateSequenceFactory))}getPrecisionModel(){return this._precisionModel}createLinearRing(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){const e=arguments[0];return this.createLinearRing(null===e?null:this.getCoordinateSequenceFactory().create(e))}if(Object(r.a)(arguments[0],m.a)){const e=arguments[0];return new g.a(e,this)}}}createMultiPolygon(){if(0===arguments.length)return new u.a(null,this);if(1===arguments.length){const e=arguments[0];return new u.a(e,this)}}createMultiPoint(){if(0===arguments.length)return new p.a(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){const e=arguments[0];return new p.a(e,this)}if(Object(r.a)(arguments[0],m.a)){const e=arguments[0];if(null===e)return this.createMultiPoint([].fill(null));const t=Array(e.size()).fill(null);for(let n=0;n<e.size();n++){const o=this.getCoordinateSequenceFactory().create(1,e.getDimension());y.a.copy(e,n,o,0,1),t[n]=this.createPoint(o)}return this.createMultiPoint(t)}}}getClass(){return C}get interfaces_(){return[x.a]}}t.a=C;class T extends _.a.CoordinateSequenceOperation{constructor(){super(),T.constructor_.apply(this,arguments)}edit(){if(2===arguments.length&&arguments[1]instanceof i.a&&Object(r.a)(arguments[0],m.a)){const e=arguments[0],t=arguments[1];return this.coordinateSequenceFactory.create(e)}return super.edit.apply(this,arguments)}getClass(){return T}get interfaces_(){return[]}}T.constructor_=function(){this.coordinateSequenceFactory=null;const e=arguments[0];this.coordinateSequenceFactory=e},C.CloneOp=T,C.constructor_=function(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,0===arguments.length)C.constructor_.call(this,new f.a,0);else if(1===arguments.length){if(Object(r.a)(arguments[0],o.a)){const e=arguments[0];C.constructor_.call(this,new f.a,0,e)}else if(arguments[0]instanceof f.a){const e=arguments[0];C.constructor_.call(this,e,0,C.getDefaultCoordinateSequenceFactory())}}else if(2===arguments.length){const e=arguments[0],t=arguments[1];C.constructor_.call(this,e,t,C.getDefaultCoordinateSequenceFactory())}else if(3===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2];this._precisionModel=e,this._coordinateSequenceFactory=n,this._SRID=t}},C.serialVersionUID=-6820524753094096000},function(e,t,n){'use strict';var o=n(1),a=n(66);class i extends a.a{constructor(){if(1===arguments.length){const e=arguments[0];super(e),a.a.call(this,e)}else if(2===arguments.length){const e=arguments[0],t=arguments[1];super(i.msgWithCoord(e,t)),this.name='TopologyException',this.pt=new o.a(t)}else throw Error()}getCoordinate(){return this.pt}get interfaces_(){return[]}getClass(){return i}static msgWithCoord(e,t){return null===t?e:e+' [ '+t+' ]'}}t.a=i},function(e,t,n){'use strict';var o=n(107),a=n(1),i=n(18),r=n(189),s=n(28),l=n(108),_=n(22),p=n(109),g=n(319);class c extends g.a{constructor(){super(),c.constructor_.apply(this,arguments)}static nearestEndpoint(e,t,n,o){let a=e,i=p.a.pointToSegment(e,n,o),r=p.a.pointToSegment(t,n,o);return r<i&&(i=r,a=t),r=p.a.pointToSegment(n,e,t),r<i&&(i=r,a=n),r=p.a.pointToSegment(o,e,t),r<i&&(i=r,a=o),a}isInSegmentEnvelopes(e){const t=new _.a(this._inputLines[0][0],this._inputLines[0][1]),n=new _.a(this._inputLines[1][0],this._inputLines[1][1]);return t.contains(e)&&n.contains(e)}computeIntersection(){if(3===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2];if(this._isProper=!1,_.a.intersects(t,n,e)&&0===i.a.index(t,n,e)&&0===i.a.index(n,t,e))return this._isProper=!0,(e.equals(t)||e.equals(n))&&(this._isProper=!1),this._result=g.a.POINT_INTERSECTION,null;this._result=g.a.NO_INTERSECTION}else return super.computeIntersection.apply(this,arguments)}normalizeToMinimum(e,t,n,o,a){a.x=this.smallestInAbsValue(e.x,t.x,n.x,o.x),a.y=this.smallestInAbsValue(e.y,t.y,n.y,o.y),e.x-=a.x,e.y-=a.y,t.x-=a.x,t.y-=a.y,n.x-=a.x,n.y-=a.y,o.x-=a.x,o.y-=a.y}safeHCoordinateIntersection(t,n,a,i){let r=null;try{r=l.a.intersection(t,n,a,i)}catch(s){if(s instanceof o.a)r=c.nearestEndpoint(t,n,a,i);else throw s}finally{}return r}intersection(e,t,n,o){let i=this.intersectionWithNormalization(e,t,n,o);return this.isInSegmentEnvelopes(i)||(i=new a.a(c.nearestEndpoint(e,t,n,o))),null!==this._precisionModel&&this._precisionModel.makePrecise(i),i}smallestInAbsValue(e,t,n,o){let a=e,i=d(a);return d(t)<i&&(a=t,i=d(t)),d(n)<i&&(a=n,i=d(n)),d(o)<i&&(a=o),a}checkDD(e,t,n,o,a){const i=r.a.intersection(e,t,n,o),d=this.isInSegmentEnvelopes(i);s.a.out.println('DD in env = '+d+'  --------------------- '+i),1e-4<a.distance(i)&&s.a.out.println('Distance = '+a.distance(i))}intersectionWithNormalization(e,t,n,o){const i=new a.a(e),r=new a.a(t),s=new a.a(n),d=new a.a(o),l=new a.a;this.normalizeToEnvCentre(i,r,s,d,l);const p=this.safeHCoordinateIntersection(i,r,s,d);return p.x+=l.x,p.y+=l.y,p}computeCollinearIntersection(e,t,n,o){const a=_.a.intersects(e,t,n),i=_.a.intersects(e,t,o),r=_.a.intersects(n,o,e),s=_.a.intersects(n,o,t);return a&&i?(this._intPt[0]=n,this._intPt[1]=o,g.a.COLLINEAR_INTERSECTION):r&&s?(this._intPt[0]=e,this._intPt[1]=t,g.a.COLLINEAR_INTERSECTION):a&&r?(this._intPt[0]=n,this._intPt[1]=e,!n.equals(e)||i||s?g.a.COLLINEAR_INTERSECTION:g.a.POINT_INTERSECTION):a&&s?(this._intPt[0]=n,this._intPt[1]=t,!n.equals(t)||i||r?g.a.COLLINEAR_INTERSECTION:g.a.POINT_INTERSECTION):i&&r?(this._intPt[0]=o,this._intPt[1]=e,!o.equals(e)||a||s?g.a.COLLINEAR_INTERSECTION:g.a.POINT_INTERSECTION):i&&s?(this._intPt[0]=o,this._intPt[1]=t,!o.equals(t)||a||r?g.a.COLLINEAR_INTERSECTION:g.a.POINT_INTERSECTION):g.a.NO_INTERSECTION}normalizeToEnvCentre(e,t,n,o,a){const i=e.x<t.x?e.x:t.x,r=e.y<t.y?e.y:t.y,s=e.x>t.x?e.x:t.x,d=e.y>t.y?e.y:t.y,l=n.x<o.x?n.x:o.x,p=n.y<o.y?n.y:o.y,_=n.x>o.x?n.x:o.x,g=n.y>o.y?n.y:o.y,c=i>l?i:l,u=s<_?s:_,y=r>p?r:p,m=d<g?d:g;a.x=(c+u)/2,a.y=(y+m)/2,e.x-=a.x,e.y-=a.y,t.x-=a.x,t.y-=a.y,n.x-=a.x,n.y-=a.y,o.x-=a.x,o.y-=a.y}computeIntersect(e,t,n,o){if(this._isProper=!1,!_.a.intersects(e,t,n,o))return g.a.NO_INTERSECTION;const r=i.a.index(e,t,n),s=i.a.index(e,t,o);if(0<r&&0<s||0>r&&0>s)return g.a.NO_INTERSECTION;const d=i.a.index(n,o,e),l=i.a.index(n,o,t);if(0<d&&0<l||0>d&&0>l)return g.a.NO_INTERSECTION;return 0===r&&0===s&&0===d&&0===l?this.computeCollinearIntersection(e,t,n,o):(0===r||0===s||0===d||0===l?(this._isProper=!1,e.equals2D(n)||e.equals2D(o)?this._intPt[0]=e:t.equals2D(n)||t.equals2D(o)?this._intPt[0]=t:0===r?this._intPt[0]=new a.a(n):0===s?this._intPt[0]=new a.a(o):0===d?this._intPt[0]=new a.a(e):0===l&&(this._intPt[0]=new a.a(t))):(this._isProper=!0,this._intPt[0]=this.intersection(e,t,n,o)),g.a.POINT_INTERSECTION)}getClass(){return c}get interfaces_(){return[]}}t.a=c,c.constructor_=function(){}},function(e,t,n){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=n(143),s=n(42),d=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var o in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},l=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),p=function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(a===void 0){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if('value'in a)return a.value;var r=a.get;return void 0===r?void 0:r.call(o)},_=function(e){function t(e){o(this,t);var n=null;e.element||(n=document.createElement('button'),n.className='ole-control '+e.className);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{element:e.element||n}));if(i.dialogTarget=e.dialogTarget,i.properties=d({},e),i.className=e.className,i.title=e.title,n){var r=document.createElement('img');r.src=e.image,n.appendChild(r),n.title=i.title,n.addEventListener('click',i.onClick.bind(i))}return i.source=e.source||new s.a({features:e.features}),i.layerFilter=e.layerFilter||function(e){return!i.source||e&&e.getSource()===i.source},i.editor=null,i.standalone=!0,i}return i(t,e),l(t,[{key:'getElement',value:function(){return this.element}},{key:'onClick',value:function(){this.active?this.deactivate():this.activate()}},{key:'setMap',value:function(e){this.map=e,p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setMap',this).call(this,this.map)}},{key:'setEditor',value:function(e){this.editor=e}},{key:'activate',value:function(e){this.active=!0,this.element.className+=' active',e||this.dispatchEvent({type:'change:active',target:this,detail:{control:this}}),this.openDialog()}},{key:'deactivate',value:function(e){this.active=!1,this.element.classList.remove('active'),e||this.dispatchEvent({type:'change:active',target:this,detail:{control:this}}),this.closeDialog()}},{key:'getActive',value:function(){return this.active}},{key:'openDialog',value:function(){this.closeDialog(),this.getDialogTemplate&&(this.dialogDiv=document.createElement('div'),this.dialogDiv.innerHTML='\n        <div class="ole-dialog">\n          '+this.getDialogTemplate()+'\n        </div>\n      ',(this.dialogTarget||this.map.getTargetElement()).appendChild(this.dialogDiv))}},{key:'closeDialog',value:function(){this.dialogDiv&&((this.dialogTarget||this.map.getTargetElement()).removeChild(this.dialogDiv),this.dialogDiv=null)}},{key:'setProperties',value:function(e,t){this.properties=d({},this.properties,e),t||this.dispatchEvent({type:'propertychange',target:this,detail:{properties:this.properties,control:this}})}},{key:'getProperties',value:function(){return d({},this.properties)}}]),t}(r.a);t.a=_},function(e,t,n){'use strict';var o=n(7),a=n(54),i=n(55),r=n(142),s=n(10),d=n(26),l=n(30),p=n(13),_=n(8),g=n(2),c=n(227),u=n(11),y=n(229),m=n(14),h=n(230),f=n(90),x=n(115),I=n(116),E=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),C=function(e){function t(t,n){var o=e.call(this,t)||this;return o.feature=n,o}return E(t,e),t}(p.a),N=function(e){function t(t){var n=this,o=t||{};n=e.call(this,{attributions:o.attributions,projection:void 0,state:f.a.READY,wrapX:void 0===o.wrapX||o.wrapX})||this,n.loader_=u.c,n.format_=o.format,n.overlaps_=void 0==o.overlaps||o.overlaps,n.url_=o.url,void 0===o.loader?void 0!==n.url_&&(Object(d.a)(n.format_,7),n.loader_=Object(c.a)(n.url_,n.format_)):n.loader_=o.loader,n.strategy_=void 0===o.strategy?y.a:o.strategy;var i=void 0===o.useSpatialIndex||o.useSpatialIndex;n.featuresRtree_=i?new I.a:null,n.loadedExtentsRtree_=new I.a,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null;var r,s;return Array.isArray(o.features)?s=o.features:o.features&&(r=o.features,s=r.getArray()),i||void 0!==r||(r=new a.a(s)),void 0!==s&&n.addFeaturesInternal(s),void 0!==r&&n.bindFeaturesCollection_(r),n}return E(t,e),t.prototype.addFeature=function(e){this.addFeatureInternal(e),this.changed()},t.prototype.addFeatureInternal=function(e){var t=Object(o.c)(e);if(!this.addToIndex_(t,e))return void(this.featuresCollection_&&this.featuresCollection_.remove(e));this.setupChangeEvents_(t,e);var n=e.getGeometry();if(n){var a=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(a,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new C(x.a.ADDFEATURE,e))},t.prototype.setupChangeEvents_=function(e,t){this.featureChangeKeys_[e]=[Object(l.a)(t,_.a.CHANGE,this.handleFeatureChange_,this),Object(l.a)(t,r.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]},t.prototype.addToIndex_=function(e,t){var n=!0,o=t.getId();return void 0!==o&&(o.toString()in this.idIndex_?n=!1:this.idIndex_[o.toString()]=t),n&&(Object(d.a)(!(e in this.uidIndex_),30),this.uidIndex_[e]=t),n},t.prototype.addFeatures=function(e){this.addFeaturesInternal(e),this.changed()},t.prototype.addFeaturesInternal=function(e){for(var t=[],n=[],a=[],r=0,i=e.length;r<i;r++){var s=e[r],d=Object(o.c)(s);this.addToIndex_(d,s)&&n.push(s)}for(var r=0,l=n.length;r<l;r++){var s=n[r],d=Object(o.c)(s);this.setupChangeEvents_(d,s);var p=s.getGeometry();if(p){var _=p.getExtent();t.push(_),a.push(s)}else this.nullGeometryFeatures_[d]=s}this.featuresRtree_&&this.featuresRtree_.load(t,a);for(var r=0,g=n.length;r<g;r++)this.dispatchEvent(new C(x.a.ADDFEATURE,n[r]))},t.prototype.bindFeaturesCollection_=function(e){var t=!1;this.addEventListener(x.a.ADDFEATURE,function(n){t||(t=!0,e.push(n.feature),t=!1)}),this.addEventListener(x.a.REMOVEFEATURE,function(n){t||(t=!0,e.remove(n.feature),t=!1)}),e.addEventListener(i.a.ADD,function(e){t||(t=!0,this.addFeature(e.element),t=!1)}.bind(this)),e.addEventListener(i.a.REMOVE,function(e){t||(t=!0,this.removeFeature(e.element),t=!1)}.bind(this)),this.featuresCollection_=e},t.prototype.clear=function(e){if(e){for(var t in this.featureChangeKeys_){var n=this.featureChangeKeys_[t];n.forEach(l.c)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var o in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[o]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var a=new C(x.a.CLEAR);this.dispatchEvent(a),this.changed()},t.prototype.forEachFeature=function(e){return this.featuresRtree_?this.featuresRtree_.forEach(e):void(this.featuresCollection_&&this.featuresCollection_.forEach(e))},t.prototype.forEachFeatureAtCoordinateDirect=function(e,t){var n=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(n,function(n){var o=n.getGeometry();return o.intersectsCoordinate(e)?t(n):void 0})},t.prototype.forEachFeatureInExtent=function(e,t){return this.featuresRtree_?this.featuresRtree_.forEachInExtent(e,t):void(this.featuresCollection_&&this.featuresCollection_.forEach(t))},t.prototype.forEachFeatureIntersectingExtent=function(e,t){return this.forEachFeatureInExtent(e,function(n){var o=n.getGeometry();if(o.intersectsExtent(e)){var a=t(n);if(a)return a}})},t.prototype.getFeaturesCollection=function(){return this.featuresCollection_},t.prototype.getFeatures=function(){var e;return this.featuresCollection_?e=this.featuresCollection_.getArray():this.featuresRtree_&&(e=this.featuresRtree_.getAll(),!Object(m.d)(this.nullGeometryFeatures_)&&Object(s.c)(e,Object(m.c)(this.nullGeometryFeatures_))),e},t.prototype.getFeaturesAtCoordinate=function(e){var t=[];return this.forEachFeatureAtCoordinateDirect(e,function(e){t.push(e)}),t},t.prototype.getFeaturesInExtent=function(e){return this.featuresRtree_?this.featuresRtree_.getInExtent(e):this.featuresCollection_?this.featuresCollection_.getArray():[]},t.prototype.getClosestFeatureToCoordinate=function(e,t){var n=e[0],o=e[1],a=null,i=[NaN,NaN],r=Infinity,s=[-Infinity,-Infinity,Infinity,Infinity],d=t?t:u.b;return this.featuresRtree_.forEachInExtent(s,function(e){if(d(e)){var t=e.getGeometry(),l=r;if(r=t.closestPointXY(n,o,i,r),r<l){a=e;var p=T(r);s[0]=n-p,s[1]=o-p,s[2]=n+p,s[3]=o+p}}}),a},t.prototype.getExtent=function(e){return this.featuresRtree_.getExtent(e)},t.prototype.getFeatureById=function(e){var t=this.idIndex_[e.toString()];return void 0===t?null:t},t.prototype.getFeatureByUid=function(e){var t=this.uidIndex_[e];return void 0===t?null:t},t.prototype.getFormat=function(){return this.format_},t.prototype.getOverlaps=function(){return this.overlaps_},t.prototype.getUrl=function(){return this.url_},t.prototype.handleFeatureChange_=function(e){var t=e.target,n=Object(o.c)(t),a=t.getGeometry();if(!a)n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[n]=t);else{var i=a.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(i,t)):this.featuresRtree_&&this.featuresRtree_.update(i,t)}var r=t.getId();if(void 0!==r){var s=r.toString();this.idIndex_[s]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[s]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[n]=t;this.changed(),this.dispatchEvent(new C(x.a.CHANGEFEATURE,t))},t.prototype.hasFeature=function(e){var t=e.getId();return void 0===t?Object(o.c)(e)in this.uidIndex_:t in this.idIndex_},t.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Object(m.d)(this.nullGeometryFeatures_)},t.prototype.loadFeatures=function(e,t,n){var o=this.loadedExtentsRtree_,a=this.strategy_(e,t);this.loading=!1;for(var r=function(e){var i=a[e],r=o.forEachInExtent(i,function(e){return Object(g.f)(e.extent,i)});r||(s.loader_.call(s,i,t,n),o.insert(i,{extent:i.slice()}),s.loading=s.loader_!==u.c)},s=this,d=0,i=a.length;d<i;++d)r(d,i)},t.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),e.prototype.refresh.call(this)},t.prototype.removeLoadedExtent=function(e){var t=this.loadedExtentsRtree_,n;t.forEachInExtent(e,function(t){if(Object(g.o)(t.extent,e))return n=t,!0}),n&&t.remove(n)},t.prototype.removeFeature=function(e){var t=Object(o.c)(e);t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e),this.changed()},t.prototype.removeFeatureInternal=function(e){var t=Object(o.c)(e);this.featureChangeKeys_[t].forEach(l.c),delete this.featureChangeKeys_[t];var n=e.getId();void 0!==n&&delete this.idIndex_[n.toString()],delete this.uidIndex_[t],this.dispatchEvent(new C(x.a.REMOVEFEATURE,e))},t.prototype.removeFromIdIndex_=function(e){var t=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===e){delete this.idIndex_[n],t=!0;break}return t},t.prototype.setLoader=function(e){this.loader_=e},t.prototype.setUrl=function(e){Object(d.a)(this.format_,7),this.setLoader(Object(c.a)(e,this.format_))},t}(h.a);t.a=N},function(e,t,n){'use strict';function o(e,t){var n;if(t!==void 0){for(var o=0,a=e.length;o<a;++o)t[o]=e[o];n=t}else n=e.slice();return n}function a(e,t){if(t!==void 0&&e!==t){for(var n=0,o=e.length;n<o;++n)t[n]=e[n];e=t}return e}function i(e){Object(C.a)(e.getCode(),e),Object(E.a)(e,e,o)}function r(e){e.forEach(i)}function s(e){return'string'==typeof e?Object(C.c)(e):e||null}function d(e){r(e),e.forEach(function(t){e.forEach(function(e){t!==e&&Object(E.a)(t,e,o)})})}function l(e,t,n,o){e.forEach(function(e){t.forEach(function(t){Object(E.a)(e,t,n),Object(E.a)(t,e,o)})})}function p(e,t){var n=e.getCode(),o=t.getCode(),i=Object(E.c)(n,o);return i||(i=a),i}function _(e,t){var n=s(e),o=s(t);return p(n,o)}function g(e,t,n){var o=_(t,n);return o(e,void 0,e.length)}function c(e,t,n){var o=_(t,n);return Object(y.a)(e,o)}t.c=s,t.e=p,t.d=_,t.f=function(){return T},t.g=function(e,t){return T?g(e,t,T):e},t.a=function(e,t){return T?g(e,T,t):e},t.h=function(e,t){return T?c(e,t,T):e},t.b=function(e,t){return T?c(e,T,t):e};var u=n(145),y=n(2),m=n(15),h=n(231),f=n(232),x=n(114),I=n(74),E=n(233),C=n(234),T=null;(function(){d(h.a),d(f.a),l(f.a,h.a,h.b,h.c)})()},function(e,t,n){'use strict';function o(t,n,o,a,i,r,e){return t[0]=n,t[1]=o,t[2]=a,t[3]=i,t[4]=r,t[5]=e,t}function i(e){return e[0]*e[3]-e[1]*e[2]}t.c=function(){return[1,0,0,1,0,0]},t.f=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},t.a=function(e,t){var n=t[0],o=t[1];return t[0]=e[0]*n+e[2]*o+e[4],t[1]=e[1]*n+e[3]*o+e[5],t},t.e=function(e,t,n){return o(e,t,0,0,n,0,0)},t.b=function(e,t,n,o,a,i,s,d){var p=r(i),_=l(i);return e[0]=o*_,e[1]=a*p,e[2]=-o*p,e[3]=a*_,e[4]=s*o*_-d*o*p+t,e[5]=s*a*p+d*a*_+n,e},t.d=function(t,n){var o=i(n);Object(s.a)(0!==o,32);var r=n[0],a=n[1],l=n[2],p=n[3],d=n[4],e=n[5];return t[0]=p/o,t[1]=-a/o,t[2]=-l/o,t[3]=r/o,t[4]=(l*e-p*d)/o,t[5]=-(r*e-a*d)/o,t},t.g=function(e){return'matrix('+e.join(', ')+')'};var s=n(26),a=[,,,,,,]},function(e,t,n){'use strict';function o(e){return e.getGeometry()}t.d=function(e){var t;if('function'==typeof e)t=e;else{var n;if(Array.isArray(e))n=e;else{Object(a.a)('function'==typeof e.getZIndex,41);n=[e]}t=function(){return n}}return t},t.a=function(){if(!p){var e=new s.a({color:'rgba(255,255,255,0.4)'}),t=new d.a({color:'#3399CC',width:1.25});p=[new l({image:new r.a({fill:e,stroke:t,radius:5}),fill:e,stroke:t})]}return p},t.b=function(){var e={},t=[255,255,255,1],n=[0,153,255,1],o=3;return e[i.a.POLYGON]=[new l({fill:new s.a({color:[255,255,255,0.5]})})],e[i.a.MULTI_POLYGON]=e[i.a.POLYGON],e[i.a.LINE_STRING]=[new l({stroke:new d.a({color:t,width:o+2})}),new l({stroke:new d.a({color:n,width:o})})],e[i.a.MULTI_LINE_STRING]=e[i.a.LINE_STRING],e[i.a.CIRCLE]=e[i.a.POLYGON].concat(e[i.a.LINE_STRING]),e[i.a.POINT]=[new l({image:new r.a({radius:2*o,fill:new s.a({color:n}),stroke:new d.a({color:t,width:o/2})}),zIndex:Infinity})],e[i.a.MULTI_POINT]=e[i.a.POINT],e[i.a.GEOMETRY_COLLECTION]=e[i.a.POLYGON].concat(e[i.a.LINE_STRING],e[i.a.POINT]),e};var a=n(26),i=n(5),r=n(147),s=n(118),d=n(151),l=function(){function e(e){var t=e||{};this.geometry_=null,this.geometryFunction_=o,void 0!==t.geometry&&this.setGeometry(t.geometry),this.fill_=void 0===t.fill?null:t.fill,this.image_=void 0===t.image?null:t.image,this.renderer_=void 0===t.renderer?null:t.renderer,this.stroke_=void 0===t.stroke?null:t.stroke,this.text_=void 0===t.text?null:t.text,this.zIndex_=t.zIndex}return e.prototype.clone=function(){var t=this.getGeometry();return t&&'object'==typeof t&&(t=t.clone()),new e({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.setRenderer=function(e){this.renderer_=e},e.prototype.getGeometry=function(){return this.geometry_},e.prototype.getGeometryFunction=function(){return this.geometryFunction_},e.prototype.getFill=function(){return this.fill_},e.prototype.setFill=function(e){this.fill_=e},e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(e){this.image_=e},e.prototype.getStroke=function(){return this.stroke_},e.prototype.setStroke=function(e){this.stroke_=e},e.prototype.getText=function(){return this.text_},e.prototype.setText=function(e){this.text_=e},e.prototype.getZIndex=function(){return this.zIndex_},e.prototype.setGeometry=function(e){'function'==typeof e?this.geometryFunction_=e:'string'==typeof e?this.geometryFunction_=function(t){return t.get(e)}:e?void 0!==e&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=o,this.geometry_=e},e.prototype.setZIndex=function(e){this.zIndex_=e},e}(),p=null;t.c=l},function(e,t){'use strict';function n(e,t,n,o,a){for(var r=void 0===a?[]:a,s=0,i=t;i<n;i+=o)r[s++]=e.slice(i,i+o);return r.length=s,r}function o(e,t,o,a,r){for(var s=void 0===r?[]:r,d=0,i=0,l=o.length,p;i<l;++i)p=o[i],s[d++]=n(e,t,p,a,s[d]),t=p;return s.length=d,s}t.a=n,t.b=o,t.c=function(e,t,n,a,r){for(var s=void 0===r?[]:r,d=0,i=0,l=n.length,p;i<l;++i)p=n[i],s[d++]=o(e,t,p,a,s[d]),t=p[p.length-1];return s.length=d,s}},function(e,t,n){'use strict';var o=n(2),a=n(5),i=n(31),r=n(37),s=n(15),d=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l=function(e){function t(t,n){var o=e.call(this)||this;return o.setCoordinates(t,n),o}return d(t,e),t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout);return e},t.prototype.closestPointXY=function(e,t,n,o){var a=this.flatCoordinates,r=Object(s.e)(e,t,a[0],a[1]);if(r<o){for(var d=this.stride,l=0;l<d;++l)n[l]=a[l];return n.length=d,r}return o},t.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},t.prototype.computeExtent=function(e){return Object(o.l)(this.flatCoordinates,e)},t.prototype.getType=function(){return a.a.POINT},t.prototype.intersectsExtent=function(e){return Object(o.g)(e,this.flatCoordinates[0],this.flatCoordinates[1])},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(r.a)(this.flatCoordinates,0,e,this.stride),this.changed()},t}(i.a);t.a=l},function(e,t,n){'use strict';function o(e,t,n,o){for(var a=e.getFlatCoordinates(),d=e.getStride(),p=a.length/d-1,_=o?o:0,g=0;g<=p;++g){var i=g*d,c=_+2*Object(S.d)(g,p)*s/p;a[i]=t[0]+n*l(c),a[i+1]=t[1]+n*r(c)}e.changed()}t.c=function(e){var t=e[0],n=e[1],o=e[2],a=e[3],i=[t,n,t,a,o,a,o,n,t,n];return new O(i,d.a.XY,[i.length])},t.b=function(e,t,n){for(var a=t?t:32,r=e.getStride(),s=e.getLayout(),d=e.getCenter(),l=r*(a+1),p=Array(l),_=0;_<l;_+=r){p[_]=0,p[_+1]=0;for(var i=2;i<r;i++)p[_+i]=d[i]}var g=[p.length],c=new O(p,s,g);return o(c,d,e.getRadius(),n),c},t.d=o;var a=n(10),i=n(2),d=n(59),p=n(5),_=n(61),g=n(47),c=n(31),u=n(145),y=n(123),m=n(75),h=n(95),f=n(37),x=n(46),I=n(160),E=n(94),C=n(161),N=n(60),S=n(15),L=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),O=function(e){function t(t,n,o){var a=e.call(this)||this;return a.ends_=[],a.flatInteriorPointRevision_=-1,a.flatInteriorPoint_=null,a.maxDelta_=-1,a.maxDeltaRevision_=-1,a.orientedRevision_=-1,a.orientedFlatCoordinates_=null,void 0!==n&&o?(a.setFlatCoordinates(n,t),a.ends_=o):a.setCoordinates(t,n),a}return L(t,e),t.prototype.appendLinearRing=function(e){this.flatCoordinates?Object(a.c)(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},t.prototype.closestPointXY=function(e,t,n,o){return o<Object(i.e)(this.getExtent(),e,t)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=T(Object(m.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(m.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,n,o))},t.prototype.containsXY=function(e,t){return Object(h.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)},t.prototype.getArea=function(){return Object(y.b)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},t.prototype.getCoordinates=function(e){var t;return void 0===e?t=this.flatCoordinates:(t=this.getOrientedFlatCoordinates().slice(),Object(C.c)(t,0,this.ends_,this.stride,e)),Object(x.b)(t,0,this.ends_,this.stride)},t.prototype.getEnds=function(){return this.ends_},t.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var e=Object(i.w)(this.getExtent());this.flatInteriorPoint_=Object(I.a)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},t.prototype.getInteriorPoint=function(){return new g.a(this.getFlatInteriorPoint(),d.a.XYM)},t.prototype.getLinearRingCount=function(){return this.ends_.length},t.prototype.getLinearRing=function(e){return 0>e||this.ends_.length<=e?null:new _.a(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)},t.prototype.getLinearRings=function(){for(var e=this.layout,t=this.flatCoordinates,n=this.ends_,o=[],a=0,r=0,i=n.length;r<i;++r){var s=n[r],d=new _.a(t.slice(a,s),e);o.push(d),a=s}return o},t.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;Object(C.a)(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Object(C.c)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},t.prototype.getSimplifiedGeometryInternal=function(e){var n=[],o=[];return n.length=Object(N.c)(this.flatCoordinates,0,this.ends_,this.stride,T(e),n,0,o),new t(n,d.a.XY,o)},t.prototype.getType=function(){return p.a.POLYGON},t.prototype.intersectsExtent=function(e){return Object(E.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Object(f.c)(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},t}(c.a);t.a=O},function(e,t,n){'use strict';var o=n(101),a=n(1),i=n(127),r=n(28),s=n(99),d=n(22);class l{constructor(){l.constructor_.apply(this,arguments)}static isRing(e){return!(4>e.length)&&!!e[0].equals2D(e[e.length-1])}static ptNotInList(e,t){for(let n=0;n<e.length;n++){const o=e[n];if(0>l.indexOf(o,t))return o}return null}static scroll(e,t){const n=l.indexOf(t,e);if(0>n)return null;const o=Array(e.length).fill(null);r.a.arraycopy(e,n,o,0,e.length-n),r.a.arraycopy(e,0,o,e.length-n,n),r.a.arraycopy(o,0,e,0,e.length)}static equals(){if(2===arguments.length){const e=arguments[0],t=arguments[1];if(e===t)return!0;if(null===e||null===t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].equals(t[n]))return!1;return!0}if(3===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2];if(e===t)return!0;if(null===e||null===t)return!1;if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(0!==n.compare(e[o],t[o]))return!1;return!0}}static intersection(e,t){const n=new o.a;for(let o=0;o<e.length;o++)t.intersects(e[o])&&n.add(e[o],!0);return n.toCoordinateArray()}static hasRepeatedPoints(e){for(let t=1;t<e.length;t++)if(e[t-1].equals(e[t]))return!0;return!1}static removeRepeatedPoints(e){if(!l.hasRepeatedPoints(e))return e;const t=new o.a(e,!1);return t.toCoordinateArray()}static reverse(e){const t=e.length-1,n=c(t/2);for(let o=0;o<=n;o++){const n=e[o];e[o]=e[t-o],e[t-o]=n}}static removeNull(e){let t=0;for(let n=0;n<e.length;n++)null!==e[n]&&t++;const n=Array(t).fill(null);if(0==t)return n;let o=0;for(let t=0;t<e.length;t++)null!==e[t]&&(n[o++]=e[t]);return n}static copyDeep(){if(1===arguments.length){const e=arguments[0],t=Array(e.length).fill(null);for(let n=0;n<e.length;n++)t[n]=new a.a(e[n]);return t}if(5===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2],o=arguments[3],r=arguments[4];for(let s=0;s<r;s++)n[o+s]=new a.a(e[t+s])}}static isEqualReversed(e,t){for(let n=0;n<e.length;n++){const o=e[n],a=t[e.length-n-1];if(0!==o.compareTo(a))return!1}return!0}static envelope(e){const t=new d.a;for(let n=0;n<e.length;n++)t.expandToInclude(e[n]);return t}static toCoordinateArray(e){return e.toArray(l.coordArrayType)}static atLeastNCoordinatesOrNothing(e,t){return t.length>=e?t:[]}static indexOf(e,t){for(let n=0;n<t.length;n++)if(e.equals(t[n]))return n;return-1}static increasingDirection(e){for(let t=0;t<c(e.length/2);t++){const n=e.length-1-t,o=e[t].compareTo(e[n]);if(0!==o)return o}return 1}static compare(e,t){let n=0;for(;n<e.length&&n<t.length;){const o=e[n].compareTo(t[n]);if(0!==o)return o;n++}return n<t.length?-1:n<e.length?1:0}static minCoordinate(e){let t=null;for(let n=0;n<e.length;n++)(null==t||0<t.compareTo(e[n]))&&(t=e[n]);return t}static extract(e,t,n){t=i.a.clamp(t,0,e.length),n=i.a.clamp(n,-1,e.length);let o=n-t+1;0>n&&(o=0),t>=e.length&&(o=0),n<t&&(o=0);const a=Array(o).fill(null);if(0==o)return a;let r=0;for(let o=t;o<=n;o++)a[r++]=e[o];return a}getClass(){return l}get interfaces_(){return[]}}t.a=l;class p{constructor(){p.constructor_.apply(this,arguments)}compare(e,t){return l.compare(e,t)}getClass(){return p}get interfaces_(){return[s.a]}}p.constructor_=function(){};class _{constructor(){_.constructor_.apply(this,arguments)}compare(e,t){const n=e,o=t;if(n.length<o.length)return-1;if(n.length>o.length)return 1;if(0===n.length)return 0;const a=l.compare(n,o),i=l.isEqualReversed(n,o);return i?0:a}OLDcompare(e,t){const n=e,o=t;if(n.length<o.length)return-1;if(n.length>o.length)return 1;if(0===n.length)return 0;const a=l.increasingDirection(n),i=l.increasingDirection(o);let r=0<a?0:n.length-1,s=0<i?0:n.length-1;for(let d=0;d<n.length;d++){const e=n[r].compareTo(o[s]);if(0!==e)return e;r+=a,s+=i}return 0}getClass(){return _}get interfaces_(){return[s.a]}}_.constructor_=function(){},l.ForwardComparator=p,l.BidirectionalComparator=_,l.constructor_=function(){},l.coordArrayType=[].fill(null)},function(e,t,n){'use strict';var o=n(23),a=n(180),i=n(185),r=n(24),s=n(51);class d extends r.a{constructor(){super(),d.constructor_.apply(this,arguments)}equalsExact(){if(2===arguments.length&&'number'==typeof arguments[1]&&arguments[0]instanceof o.a){const e=arguments[0],t=arguments[1];return!!this.isEquivalentClass(e)&&super.equalsExact.call(this,e,t)}return super.equalsExact.apply(this,arguments)}getBoundaryDimension(){return this.isClosed()?s.a.FALSE:0}isClosed(){if(this.isEmpty())return!1;for(let e=0;e<this._geometries.length;e++)if(!this._geometries[e].isClosed())return!1;return!0}getTypeCode(){return o.a.TYPECODE_MULTILINESTRING}getDimension(){return 1}reverse(){const e=this._geometries.length,t=Array(e).fill(null);for(let n=0;n<this._geometries.length;n++)t[e-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(t)}getBoundary(){return new a.a(this).getBoundary()}getGeometryType(){return o.a.TYPENAME_MULTILINESTRING}copy(){const e=Array(this._geometries.length).fill(null);for(let t=0;t<e.length;t++)e[t]=this._geometries[t].copy();return new d(e,this._factory)}getClass(){return d}get interfaces_(){return[i.a]}}t.a=d,d.constructor_=function(){const e=arguments[0],t=arguments[1];r.a.constructor_.call(this,e,t)},d.serialVersionUID=8166665132445434000},function(e,t,n){'use strict';var o=n(6),a=n(187);class i{constructor(){i.constructor_.apply(this,arguments)}static toDimensionSymbol(e){switch(e){case i.FALSE:return i.SYM_FALSE;case i.TRUE:return i.SYM_TRUE;case i.DONTCARE:return i.SYM_DONTCARE;case i.P:return i.SYM_P;case i.L:return i.SYM_L;case i.A:return i.SYM_A;}throw new o.a('Unknown dimension value: '+e)}static toDimensionValue(e){switch(a.a.toUpperCase(e)){case i.SYM_FALSE:return i.FALSE;case i.SYM_TRUE:return i.TRUE;case i.SYM_DONTCARE:return i.DONTCARE;case i.SYM_P:return i.P;case i.SYM_L:return i.L;case i.SYM_A:return i.A;}throw new o.a('Unknown dimension symbol: '+e)}getClass(){return i}get interfaces_(){return[]}}t.a=i,i.constructor_=function(){},i.P=0,i.L=1,i.A=2,i.FALSE=-1,i.TRUE=-2,i.DONTCARE=-3,i.SYM_FALSE='F',i.SYM_TRUE='T',i.SYM_DONTCARE='*',i.SYM_P='0',i.SYM_L='1',i.SYM_A='2'},function(e,t,n){'use strict';var o=n(307),a=n(23),i=n(129),r=n(78),s=n(3),d=n(6),l=n(18),p=n(28),_=n(67),g=n(49),c=n(83),u=n(103),y=n(80);class m extends a.a{constructor(){super(),m.constructor_.apply(this,arguments)}computeEnvelopeInternal(){return this._shell.getEnvelopeInternal()}getCoordinates(){if(this.isEmpty())return[];const e=Array(this.getNumPoints()).fill(null);let t=-1;const n=this._shell.getCoordinates();for(let o=0;o<n.length;o++)t++,e[t]=n[o];for(let n=0;n<this._holes.length;n++){const o=this._holes[n].getCoordinates();for(let n=0;n<o.length;n++)t++,e[t]=o[n]}return e}getArea(){let e=0;e+=o.a.ofRing(this._shell.getCoordinateSequence());for(let t=0;t<this._holes.length;t++)e-=o.a.ofRing(this._holes[t].getCoordinateSequence());return e}isRectangle(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;const e=this._shell.getCoordinateSequence(),t=this.getEnvelopeInternal();for(let n=0;5>n;n++){const o=e.getX(n);if(o!==t.getMinX()&&o!==t.getMaxX())return!1;const a=e.getY(n);if(a!==t.getMinY()&&a!==t.getMaxY())return!1}let n=e.getX(0),o=e.getY(0);for(let t=1;4>=t;t++){const a=e.getX(t),i=e.getY(t),r=a!==n,s=i!==o;if(r==s)return!1;n=a,o=i}return!0}equalsExact(){if(2===arguments.length&&'number'==typeof arguments[1]&&arguments[0]instanceof a.a){const e=arguments[0],t=arguments[1];if(!this.isEquivalentClass(e))return!1;const n=e,o=this._shell,a=n._shell;if(!o.equalsExact(a,t))return!1;if(this._holes.length!==n._holes.length)return!1;for(let e=0;e<this._holes.length;e++)if(!this._holes[e].equalsExact(n._holes[e],t))return!1;return!0}return super.equalsExact.apply(this,arguments)}normalize(){if(0===arguments.length){this.normalize(this._shell,!0);for(let e=0;e<this._holes.length;e++)this.normalize(this._holes[e],!1);i.a.sort(this._holes)}else if(2===arguments.length){const e=arguments[0],t=arguments[1];if(e.isEmpty())return null;const n=Array(e.getCoordinates().length-1).fill(null);p.a.arraycopy(e.getCoordinates(),0,n,0,n.length);const o=g.a.minCoordinate(e.getCoordinates());g.a.scroll(n,o),p.a.arraycopy(n,0,e.getCoordinates(),0,n.length),e.getCoordinates()[n.length]=n[0],l.a.isCCW(e.getCoordinates())===t&&g.a.reverse(e.getCoordinates())}}getCoordinate(){return this._shell.getCoordinate()}getNumInteriorRing(){return this._holes.length}getBoundaryDimension(){return 1}getTypeCode(){return a.a.TYPECODE_POLYGON}getDimension(){return 2}getLength(){let e=0;e+=this._shell.getLength();for(let t=0;t<this._holes.length;t++)e+=this._holes[t].getLength();return e}getNumPoints(){let e=this._shell.getNumPoints();for(let t=0;t<this._holes.length;t++)e+=this._holes[t].getNumPoints();return e}reverse(){const e=this.copy();e._shell=this._shell.copy().reverse(),e._holes=Array(this._holes.length).fill(null);for(let t=0;t<this._holes.length;t++)e._holes[t]=this._holes[t].copy().reverse();return e}convexHull(){return this.getExteriorRing().convexHull()}compareToSameClass(){if(1===arguments.length){const e=arguments[0],t=this._shell,n=e._shell;return t.compareToSameClass(n)}if(2===arguments.length){const e=arguments[0],t=arguments[1],n=e,o=this._shell,a=n._shell,r=o.compareToSameClass(a,t);if(0!==r)return r;const s=this.getNumInteriorRing(),d=n.getNumInteriorRing();let l=0;for(;l<s&&l<d;){const e=this.getInteriorRingN(l),o=n.getInteriorRingN(l),a=e.compareToSameClass(o,t);if(0!==a)return a;l++}return l<s?1:l<d?-1:0}}apply(){if(Object(s.a)(arguments[0],r.a)){const e=arguments[0];this._shell.apply(e);for(let t=0;t<this._holes.length;t++)this._holes[t].apply(e)}else if(Object(s.a)(arguments[0],y.a)){const e=arguments[0];if(this._shell.apply(e),!e.isDone())for(let t=0;t<this._holes.length&&(this._holes[t].apply(e),!e.isDone());t++);e.isGeometryChanged()&&this.geometryChanged()}else if(Object(s.a)(arguments[0],u.a)){const e=arguments[0];e.filter(this)}else if(Object(s.a)(arguments[0],_.a)){const e=arguments[0];e.filter(this),this._shell.apply(e);for(let t=0;t<this._holes.length;t++)this._holes[t].apply(e)}}getBoundary(){if(this.isEmpty())return this.getFactory().createMultiLineString();const e=Array(this._holes.length+1).fill(null);e[0]=this._shell;for(let t=0;t<this._holes.length;t++)e[t+1]=this._holes[t];return 1>=e.length?this.getFactory().createLinearRing(e[0].getCoordinateSequence()):this.getFactory().createMultiLineString(e)}getGeometryType(){return a.a.TYPENAME_POLYGON}copy(){const e=this._shell.copy(),t=Array(this._holes.length).fill(null);for(let e=0;e<this._holes.length;e++)t[e]=this._holes[e].copy();return new m(e,t,this._factory)}getExteriorRing(){return this._shell}isEmpty(){return this._shell.isEmpty()}getInteriorRingN(e){return this._holes[e]}getClass(){return m}get interfaces_(){return[c.a]}}t.a=m,m.constructor_=function(){this._shell=null,this._holes=null;let e=arguments[0],t=arguments[1];const n=arguments[2];if(a.a.constructor_.call(this,n),null===e&&(e=this.getFactory().createLinearRing()),null===t&&(t=[]),a.a.hasNullElements(t))throw new d.a('holes must not contain null elements');if(e.isEmpty()&&a.a.hasNonEmptyElements(t))throw new d.a('shell is empty but holes are not');this._shell=e,this._holes=t},m.serialVersionUID=-3494792200821764600},function(e,t,n){'use strict';var o=n(27),a=n(23),i=n(3),r=n(38),s=n(6),d=n(130),l=n(33),p=n(51);class _ extends o.a{constructor(){super(),_.constructor_.apply(this,arguments)}getBoundaryDimension(){return p.a.FALSE}isClosed(){return!!this.isEmpty()||super.isClosed.call(this)}getTypeCode(){return a.a.TYPECODE_LINEARRING}reverse(){const e=this._points.copy();d.a.reverse(e);const t=this.getFactory().createLinearRing(e);return t}validateConstruction(){if(!this.isEmpty()&&!super.isClosed.call(this))throw new s.a('Points of LinearRing do not form a closed linestring');if(1<=this.getCoordinateSequence().size()&&this.getCoordinateSequence().size()<_.MINIMUM_VALID_SIZE)throw new s.a('Invalid number of points in LinearRing (found '+this.getCoordinateSequence().size()+' - must be 0 or >= 4)')}getGeometryType(){return a.a.TYPENAME_LINEARRING}copy(){return new _(this._points.copy(),this._factory)}getClass(){return _}get interfaces_(){return[]}}t.a=_,_.constructor_=function(){if(arguments[0]instanceof Array&&arguments[1]instanceof r.a){const e=arguments[0],t=arguments[1];_.constructor_.call(this,t.getCoordinateSequenceFactory().create(e),t)}else if(Object(i.a)(arguments[0],l.a)&&arguments[1]instanceof r.a){const e=arguments[0],t=arguments[1];o.a.constructor_.call(this,e,t),this.validateConstruction()}},_.MINIMUM_VALID_SIZE=4,_.serialVersionUID=-4261142084085851600},function(e,t,n){'use strict';var o=n(141),a=n(55),i=n(25),r=n(13),s=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),d={LENGTH:'length'},l=function(e){function t(t,n,o){var a=e.call(this,t)||this;return a.element=n,a.index=o,a}return s(t,e),t}(r.a),p=function(e){function t(t,n){var o=e.call(this)||this;if(o.unique_=!!(n||{}).unique,o.array_=t?t:[],o.unique_)for(var a=0,i=o.array_.length;a<i;++a)o.assertUnique_(o.array_[a],a);return o.updateLength_(),o}return s(t,e),t.prototype.clear=function(){for(;0<this.getLength();)this.pop()},t.prototype.extend=function(e){for(var t=0,n=e.length;t<n;++t)this.push(e[t]);return this},t.prototype.forEach=function(e){for(var t=this.array_,n=0,o=t.length;n<o;++n)e(t[n],n,t)},t.prototype.getArray=function(){return this.array_},t.prototype.item=function(e){return this.array_[e]},t.prototype.getLength=function(){return this.get(d.LENGTH)},t.prototype.insertAt=function(e,t){this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new l(a.a.ADD,t,e))},t.prototype.pop=function(){return this.removeAt(this.getLength()-1)},t.prototype.push=function(e){this.unique_&&this.assertUnique_(e);var t=this.getLength();return this.insertAt(t,e),this.getLength()},t.prototype.remove=function(e){for(var t=this.array_,n=0,o=t.length;n<o;++n)if(t[n]===e)return this.removeAt(n)},t.prototype.removeAt=function(e){var t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new l(a.a.REMOVE,t,e)),t},t.prototype.setAt=function(e,t){var o=this.getLength();if(e<o){this.unique_&&this.assertUnique_(t,e);var n=this.array_[e];this.array_[e]=t,this.dispatchEvent(new l(a.a.REMOVE,n,e)),this.dispatchEvent(new l(a.a.ADD,t,e))}else{for(var i=o;i<e;++i)this.insertAt(i,void 0);this.insertAt(e,t)}},t.prototype.updateLength_=function(){this.set(d.LENGTH,this.array_.length)},t.prototype.assertUnique_=function(e,t){for(var n=0,a=this.array_.length;n<a;++n)if(this.array_[n]===e&&n!==t)throw new o.a(58)},t}(i.a);t.a=p},function(e,t){'use strict';t.a={ADD:'add',REMOVE:'remove'}},function(e,t){'use strict';t.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},function(e,t,n){'use strict';var o=n(153),a=n(120),i=n(154),r=n(121);n.d(t,'a',function(){return r.a});var s=n(158);n.d(t,'b',function(){return s.a});var d=n(122);n.d(t,'c',function(){return d.a});var l=n(159);n.d(t,'d',function(){return l.a});var p=n(47);n.d(t,'e',function(){return p.a});var _=n(48);n.d(t,'f',function(){return _.a});n(61)},function(e,t){'use strict';t.c=function(e,t,n,o,a,r){for(var s=r?r:[],d=0,i=t;i<n;i+=o){var l=e[i],p=e[i+1];s[d++]=a[0]*l+a[2]*p+a[4],s[d++]=a[1]*l+a[3]*p+a[5]}return r&&s.length!=d&&(s.length=d),s},t.a=function(e,t,n,o,a,s,d){for(var p=d?d:[],_=l(a),g=r(a),c=s[0],u=s[1],y=0,i=t;i<n;i+=o){var m=e[i]-c,h=e[i+1]-u;p[y++]=c+m*_-h*g,p[y++]=u+m*g+h*_;for(var f=i+2;f<i+o;++f)p[y++]=e[f]}return d&&p.length!=y&&(p.length=y),p},t.b=function(e,t,n,o,a,r,s,d){for(var l=d?d:[],p=s[0],_=s[1],g=0,i=t;i<n;i+=o){var c=e[i]-p,u=e[i+1]-_;l[g++]=p+a*c,l[g++]=_+r*u;for(var y=i+2;y<i+o;++y)l[g++]=e[y]}return d&&l.length!=g&&(l.length=g),l},t.d=function(e,t,n,o,a,r,s){for(var d=s?s:[],l=0,i=t;i<n;i+=o){d[l++]=e[i]+a,d[l++]=e[i+1]+r;for(var p=i+2;p<i+o;++p)d[l++]=e[p]}return s&&d.length!=l&&(d.length=l),d}},function(e,t){'use strict';t.a={XY:'XY',XYZ:'XYZ',XYM:'XYM',XYZM:'XYZM'}},function(e,t,o){'use strict';function a(e,t,o,a,r,s,l){var p=(o-t)/a;if(3>p){for(;t<o;t+=a)s[l++]=e[t],s[l++]=e[t+1];return l}var n=Array(p);n[0]=1,n[p-1]=1;for(var _=[t,o-a],g=0;0<_.length;){for(var c=_.pop(),u=_.pop(),m=0,h=e[u],f=e[u+1],I=e[c],E=e[c+1],C=u+a;C<c;C+=a){var i=e[C],x=e[C+1],y=Object(d.f)(i,x,h,f,I,E);y>m&&(g=C,m=y)}m>r&&(n[(g-t)/a]=1,u+a<g&&_.push(u,g),g+a<c&&_.push(g,c))}for(var C=0;C<p;++C)n[C]&&(s[l++]=e[t+C*a],s[l++]=e[t+C*a+1]);return l}function i(e,t){return t*n(e/t)}function r(e,t,n,o,a,r,s){if(t==n)return s;var d=i(e[t],a),l=i(e[t+1],a);t+=o,r[s++]=d,r[s++]=l;var p,_;do if(p=i(e[t],a),_=i(e[t+1],a),t+=o,t==n)return r[s++]=p,r[s++]=_,s;while(p==d&&_==l);for(;t<n;){var g=i(e[t],a),c=i(e[t+1],a);if(t+=o,g!=p||c!=_){var u=p-d,y=_-l,m=g-d,h=c-l;if(u*h==y*m&&(0>u&&m<u||u==m||0<u&&m>u)&&(0>y&&h<y||y==h||0<y&&h>y)){p=g,_=c;continue}r[s++]=p,r[s++]=_,d=p,l=_,p=g,_=c}}return r[s++]=p,r[s++]=_,s}function s(e,t,n,o,a,s,d,l){for(var p=0,i=n.length,_;p<i;++p)_=n[p],d=r(e,t,_,o,a,s,d),l.push(d),t=_;return d}t.a=a,t.b=function(e,t,n,o,r,s,d,l){for(var p=0,i=n.length,_;p<i;++p)_=n[p],d=a(e,t,_,o,r,s,d),l.push(d),t=_;return d},t.e=i,t.c=s,t.d=function(e,t,n,o,a,r,d,l){for(var p=0,i=n.length;p<i;++p){var _=n[p],g=[];d=s(e,t,_,o,a,r,d,g),l.push(g),t=_[_.length-1]}return d};var d=o(15)},function(e,t,n){'use strict';var o=n(2),a=n(59),i=n(5),r=n(31),s=n(123),d=n(75),l=n(37),p=n(46),_=n(60),g=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),c=function(e){function t(t,n){var o=e.call(this)||this;return o.maxDelta_=-1,o.maxDeltaRevision_=-1,void 0===n||Array.isArray(t[0])?o.setCoordinates(t,n):o.setFlatCoordinates(n,t),o}return g(t,e),t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout)},t.prototype.closestPointXY=function(e,t,n,a){return a<Object(o.e)(this.getExtent(),e,t)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=T(Object(d.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(d.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,n,a))},t.prototype.getArea=function(){return Object(s.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getCoordinates=function(){return Object(p.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getSimplifiedGeometryInternal=function(e){var n=[];return n.length=Object(_.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new t(n,a.a.XY)},t.prototype.getType=function(){return i.a.LINEAR_RING},t.prototype.intersectsExtent=function(){return!1},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(l.b)(this.flatCoordinates,0,e,this.stride),this.changed()},t}(r.a);t.a=c},function(e,t,n){'use strict';var o=n(247),a=n(250),i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=function(e){function t(t){return e.call(this,t)||this}return i(t,e),t.prototype.createRenderer=function(){return new a.a(this)},t}(o.a);t.a=r},function(e,t,n){'use strict';n.d(t,'d',function(){return a}),n.d(t,'e',function(){return i}),n.d(t,'a',function(){return r}),n.d(t,'b',function(){return s});var o={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},a=[o.FILL],i=[o.STROKE],r=[o.BEGIN_PATH],s=[o.CLOSE_PATH];t.c=o},function(e,t,n){'use strict';var o=n(8);t.a={SINGLECLICK:'singleclick',CLICK:o.a.CLICK,DBLCLICK:o.a.DBLCLICK,POINTERDRAG:'pointerdrag',POINTERMOVE:'pointermove',POINTERDOWN:'pointerdown',POINTERUP:'pointerup',POINTEROVER:'pointerover',POINTEROUT:'pointerout',POINTERENTER:'pointerenter',POINTERLEAVE:'pointerleave',POINTERCANCEL:'pointercancel'}},function(e,t,n){'use strict';function o(e,t){var n=e[0],o=e[1],a=t[0],i=t[1],r=a[0],s=a[1],d=i[0],l=i[1],p=d-r,_=l-s,g=0==p&&0==_?0:(p*(n-r)+_*(o-s))/(p*p+_*_||0),c,u;return 0>=g?(c=r,u=s):1<=g?(c=d,u=l):(c=r+g*p,u=s+g*_),[c,u]}function a(e,t){for(var n=!0,o=e.length-1;0<=o;--o)if(e[o]!=t[o]){n=!1;break}return n}function i(e,t){return e[0]*=t,e[1]*=t,e}function s(e,t){var n=e[0]-t[0],o=e[1]-t[1];return n*n+o*o}t.a=function(e,t){var n=t.getRadius(),o=t.getCenter(),a=o[0],i=o[1],r=e[0],s=e[1],l=r-a,p=s-i;0==l&&0==p&&(l=1);var _=T(l*l+p*p),d=a+n*l/_;return[d,i+n*p/_]},t.b=o,t.d=a,t.e=function(e,t){var n=l(t),o=r(t),a=e[0]*n-e[1]*o,i=e[1]*n+e[0]*o;return e[0]=a,e[1]=i,e},t.f=i,t.g=s,t.c=function(e,t){return T(s(e,t))},t.h=function(e,t){return s(e,o(e,t))};var d=n(15),p=n(267)},function(e,t){'use strict';function n(e){this.name='RuntimeException',this.message=e,this.stack=new Error().stack,Error.call(this,e)}t.a=n,n.prototype=Object.create(Error.prototype),n.prototype.constructor=Error},function(e,t){'use strict';class n{constructor(){n.constructor_.apply(this,arguments)}filter(){}getClass(){return n}get interfaces_(){return[]}}t.a=n,n.constructor_=function(){}},function(e,t,n){'use strict';function o(e){return null==e?g:e.color}function a(e){return null==e?null:e.parent}function i(e,t){null!==e&&(e.color=t)}function r(e){return null==e?null:e.left}function s(e){return null==e?null:e.right}function d(){this.root_=null,this.size_=0}t.a=d;var l=n(0),p=n(297),_=n(128);const g=0,c=1;d.prototype=new p.a,d.prototype.get=function(e){for(var t=this.root_;null!==t;){var n=e.compareTo(t.key);if(0>n)t=t.left;else if(0<n)t=t.right;else return t.value}return null},d.prototype.put=function(n,o){if(null===this.root_)return this.root_={key:n,value:o,left:null,right:null,parent:null,color:g,getValue(){return this.value},getKey(){return this.key}},this.size_=1,null;var a=this.root_,t,i;do if(t=a,i=n.compareTo(a.key),0>i)a=a.left;else if(0<i)a=a.right;else{var r=a.value;return a.value=o,r}while(null!==a);var s={key:n,left:null,right:null,value:o,parent:t,color:g,getValue(){return this.value},getKey(){return this.key}};return 0>i?t.left=s:t.right=s,this.fixAfterInsertion(s),this.size_++,null},d.prototype.fixAfterInsertion=function(e){let t;for(e.color=c;null!=e&&e!==this.root_&&e.parent.color===c;)a(e)===r(a(a(e)))?(t=s(a(a(e))),o(t)===c?(i(a(e),g),i(t,g),i(a(a(e)),c),e=a(a(e))):(e===s(a(e))&&(e=a(e),this.rotateLeft(e)),i(a(e),g),i(a(a(e)),c),this.rotateRight(a(a(e))))):(t=r(a(a(e))),o(t)===c?(i(a(e),g),i(t,g),i(a(a(e)),c),e=a(a(e))):(e===r(a(e))&&(e=a(e),this.rotateRight(e)),i(a(e),g),i(a(a(e)),c),this.rotateLeft(a(a(e)))));this.root_.color=g},d.prototype.values=function(){var e=new l.a,t=this.getFirstEntry();if(null!==t)for(e.add(t.value);null!==(t=d.successor(t));)e.add(t.value);return e},d.prototype.entrySet=function(){var e=new _.a,t=this.getFirstEntry();if(null!==t)for(e.add(t);null!==(t=d.successor(t));)e.add(t);return e},d.prototype.rotateLeft=function(e){if(null!=e){var t=e.right;e.right=t.left,null!=t.left&&(t.left.parent=e),t.parent=e.parent,null==e.parent?this.root_=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}},d.prototype.rotateRight=function(e){if(null!=e){var t=e.left;e.left=t.right,null!=t.right&&(t.right.parent=e),t.parent=e.parent,null==e.parent?this.root_=t:e.parent.right===e?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}},d.prototype.getFirstEntry=function(){var e=this.root_;if(null!=e)for(;null!=e.left;)e=e.left;return e},d.successor=function(e){let t;if(null===e)return null;if(null!==e.right){for(t=e.right;null!==t.left;)t=t.left;return t}t=e.parent;for(var n=e;null!==t&&n===t.right;)n=t,t=t.parent;return t},d.prototype.size=function(){return this.size_},d.prototype.containsKey=function(e){for(var t=this.root_;null!==t;){var n=e.compareTo(t.key);if(0>n)t=t.left;else if(0<n)t=t.right;else return!0}return!1}},function(e,t,n){'use strict';var o=n(23),a=n(78),i=n(3),r=n(67),s=n(51),d=n(103),l=n(80),p=n(188),_=n(22),g=n(4);class c extends o.a{constructor(){super(),c.constructor_.apply(this,arguments)}computeEnvelopeInternal(){if(this.isEmpty())return new _.a;const e=new _.a;return e.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),e}getCoordinates(){return this.isEmpty()?[]:[this.getCoordinate()]}equalsExact(){if(2===arguments.length&&'number'==typeof arguments[1]&&arguments[0]instanceof o.a){const e=arguments[0],t=arguments[1];return!!this.isEquivalentClass(e)&&(this.isEmpty()&&e.isEmpty()||!(this.isEmpty()!==e.isEmpty())&&this.equal(e.getCoordinate(),this.getCoordinate(),t))}return super.equalsExact.apply(this,arguments)}normalize(){}getCoordinate(){return 0===this._coordinates.size()?null:this._coordinates.getCoordinate(0)}getBoundaryDimension(){return s.a.FALSE}getTypeCode(){return o.a.TYPECODE_POINT}getDimension(){return 0}getNumPoints(){return this.isEmpty()?0:1}reverse(){return this.copy()}getX(){if(null===this.getCoordinate())throw new IllegalStateException('getX called on empty Point');return this.getCoordinate().x}compareToSameClass(){if(1===arguments.length){const e=arguments[0];return this.getCoordinate().compareTo(e.getCoordinate())}if(2===arguments.length){const e=arguments[0],t=arguments[1];return t.compare(this._coordinates,e._coordinates)}}apply(){if(Object(i.a)(arguments[0],a.a)){const e=arguments[0];if(this.isEmpty())return null;e.filter(this.getCoordinate())}else if(Object(i.a)(arguments[0],l.a)){const e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else if(Object(i.a)(arguments[0],d.a)){const e=arguments[0];e.filter(this)}else if(Object(i.a)(arguments[0],r.a)){const e=arguments[0];e.filter(this)}}getBoundary(){return this.getFactory().createGeometryCollection()}getGeometryType(){return o.a.TYPENAME_POINT}copy(){return new c(this._coordinates.copy(),this._factory)}getCoordinateSequence(){return this._coordinates}getY(){if(null===this.getCoordinate())throw new IllegalStateException('getY called on empty Point');return this.getCoordinate().y}isEmpty(){return 0===this._coordinates.size()}init(e){null===e&&(e=this.getFactory().getCoordinateSequenceFactory().create([])),g.a.isTrue(1>=e.size()),this._coordinates=e}isSimple(){return!0}getClass(){return c}get interfaces_(){return[p.a]}}t.a=c,c.constructor_=function(){this._coordinates=null;const e=arguments[0],t=arguments[1];o.a.constructor_.call(this,t),this.init(e)},c.serialVersionUID=4902022702746615000},function(e,t,n){'use strict';var o=n(23),a=n(24),i=n(83),r=n(0);class s extends a.a{constructor(){super(),s.constructor_.apply(this,arguments)}equalsExact(){if(2===arguments.length&&'number'==typeof arguments[1]&&arguments[0]instanceof o.a){const e=arguments[0],t=arguments[1];return!!this.isEquivalentClass(e)&&super.equalsExact.call(this,e,t)}return super.equalsExact.apply(this,arguments)}getBoundaryDimension(){return 1}getTypeCode(){return o.a.TYPECODE_MULTIPOLYGON}getDimension(){return 2}reverse(){const e=this._geometries.length,t=Array(e).fill(null);for(let e=0;e<this._geometries.length;e++)t[e]=this._geometries[e].reverse();return this.getFactory().createMultiPolygon(t)}getBoundary(){if(this.isEmpty())return this.getFactory().createMultiLineString();const e=new r.a;for(let t=0;t<this._geometries.length;t++){const n=this._geometries[t],o=n.getBoundary();for(let t=0;t<o.getNumGeometries();t++)e.add(o.getGeometryN(t))}const t=Array(e.size()).fill(null);return this.getFactory().createMultiLineString(e.toArray(t))}getGeometryType(){return o.a.TYPENAME_MULTIPOLYGON}copy(){const e=Array(this._geometries.length).fill(null);for(let t=0;t<e.length;t++)e[t]=this._geometries[t].copy();return new s(e,this._factory)}getClass(){return s}get interfaces_(){return[i.a]}}t.a=s,s.constructor_=function(){const e=arguments[0],t=arguments[1];a.a.constructor_.call(this,e,t)},s.serialVersionUID=-551033529766975900},function(e,t,n){'use strict';var o=n(320);t.a=class{constructor(e){this.parser=new o.a(e)}write(e){return this.parser.write(e)}static toLineString(e,t){if(2!==arguments.length)throw new Error('Not implemented');return'LINESTRING ( '+e.x+' '+e.y+', '+t.x+' '+t.y+' )'}}},function(e,t,n){'use strict';var o=n(129),a=n(0);const i={reverseOrder:function(){return{compare(e,t){return t.compareTo(e)}}},min:function(e){return i.sort(e),e.get(0)},sort:function(e,t){const n=e.toArray();t?o.a.sort(n,t):o.a.sort(n);const a=e.iterator();for(let o=0,i=n.length;o<i;o++)a.next(),a.set(n[o])},singletonList:function(e){const t=new a.a;return t.add(e),t}};t.a=i},function(e,n,o){'use strict';var a=o(107),i=o(1),s=o(20),r=o(18),d=o(17),l=o(40),p=o(108),_=o(21),g=o(109);class u{constructor(){u.constructor_.apply(this,arguments)}static midPoint(e,t){return new i.a((e.x+t.x)/2,(e.y+t.y)/2)}minX(){return C(this.p0.x,this.p1.x)}orientationIndex(){if(arguments[0]instanceof u){const e=arguments[0],t=r.a.index(this.p0,this.p1,e.p0),n=r.a.index(this.p0,this.p1,e.p1);return 0<=t&&0<=n?E(t,n):0>=t&&0>=n?E(t,n):0}if(arguments[0]instanceof i.a){const e=arguments[0];return r.a.index(this.p0,this.p1,e)}}toGeometry(e){return e.createLineString([this.p0,this.p1])}isVertical(){return this.p0.x===this.p1.x}equals(e){if(!(e instanceof u))return!1;const t=e;return this.p0.equals(t.p0)&&this.p1.equals(t.p1)}intersection(e){const t=new l.a;return t.computeIntersection(this.p0,this.p1,e.p0,e.p1),t.hasIntersection()?t.getIntersection(0):null}project(){if(arguments[0]instanceof i.a){const e=arguments[0];if(e.equals(this.p0)||e.equals(this.p1))return new i.a(e);const t=this.projectionFactor(e),n=new i.a;return n.x=this.p0.x+t*(this.p1.x-this.p0.x),n.y=this.p0.y+t*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof u){const e=arguments[0],t=this.projectionFactor(e.p0),n=this.projectionFactor(e.p1);if(1<=t&&1<=n)return null;if(0>=t&&0>=n)return null;let o=this.project(e.p0);0>t&&(o=this.p0),1<t&&(o=this.p1);let a=this.project(e.p1);return 0>n&&(a=this.p0),1<n&&(a=this.p1),new u(o,a)}}normalize(){0>this.p1.compareTo(this.p0)&&this.reverse()}angle(){return t(this.p1.y-this.p0.y,this.p1.x-this.p0.x)}getCoordinate(e){return 0===e?this.p0:this.p1}distancePerpendicular(e){return g.a.pointToLinePerpendicular(e,this.p0,this.p1)}minY(){return C(this.p0.y,this.p1.y)}midPoint(){return u.midPoint(this.p0,this.p1)}projectionFactor(e){if(e.equals(this.p0))return 0;if(e.equals(this.p1))return 1;const t=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,o=t*t+n*n;if(0>=o)return s.a.NaN;const a=((e.x-this.p0.x)*t+(e.y-this.p0.y)*n)/o;return a}closestPoints(e){const t=this.intersection(e);if(null!==t)return[t,t];const n=[,,].fill(null);let o=s.a.MAX_VALUE,a=null;const i=this.closestPoint(e.p0);o=i.distance(e.p0),n[0]=i,n[1]=e.p0;const r=this.closestPoint(e.p1);a=r.distance(e.p1),a<o&&(o=a,n[0]=r,n[1]=e.p1);const d=e.closestPoint(this.p0);a=d.distance(this.p0),a<o&&(o=a,n[0]=this.p0,n[1]=d);const l=e.closestPoint(this.p1);return a=l.distance(this.p1),a<o&&(o=a,n[0]=this.p1,n[1]=l),n}closestPoint(e){const t=this.projectionFactor(e);if(0<t&&1>t)return this.project(e);const n=this.p0.distance(e),o=this.p1.distance(e);return n<o?this.p0:this.p1}maxX(){return E(this.p0.x,this.p1.x)}getLength(){return this.p0.distance(this.p1)}compareTo(e){const t=e,n=this.p0.compareTo(t.p0);return 0===n?this.p1.compareTo(t.p1):n}reverse(){const e=this.p0;this.p0=this.p1,this.p1=e}equalsTopo(e){return this.p0.equals(e.p0)&&this.p1.equals(e.p1)||this.p0.equals(e.p1)&&this.p1.equals(e.p0)}lineIntersection(e){try{const t=p.a.intersection(this.p0,this.p1,e.p0,e.p1);return t}catch(e){if(e instanceof a.a);else throw e}finally{}return null}maxY(){return E(this.p0.y,this.p1.y)}pointAlongOffset(e,t){const n=this.p0.x+e*(this.p1.x-this.p0.x),o=this.p0.y+e*(this.p1.y-this.p0.y),a=this.p1.x-this.p0.x,r=this.p1.y-this.p0.y,s=T(a*a+r*r);let d=0,l=0;if(0!==t){if(0>=s)throw new IllegalStateException('Cannot compute offset from zero-length line segment');d=t*a/s,l=t*r/s}const p=n-l,_=o+d,g=new i.a(p,_);return g}setCoordinates(){if(1===arguments.length){const e=arguments[0];this.setCoordinates(e.p0,e.p1)}else if(2===arguments.length){const e=arguments[0],t=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=t.x,this.p1.y=t.y}}segmentFraction(e){let t=this.projectionFactor(e);return 0>t?t=0:(1<t||s.a.isNaN(t))&&(t=1),t}toString(){return'LINESTRING( '+this.p0.x+' '+this.p0.y+', '+this.p1.x+' '+this.p1.y+')'}isHorizontal(){return this.p0.y===this.p1.y}distance(){if(arguments[0]instanceof u){const e=arguments[0];return g.a.segmentToSegment(this.p0,this.p1,e.p0,e.p1)}if(arguments[0]instanceof i.a){const e=arguments[0];return g.a.pointToSegment(e,this.p0,this.p1)}}pointAlong(e){const t=new i.a;return t.x=this.p0.x+e*(this.p1.x-this.p0.x),t.y=this.p0.y+e*(this.p1.y-this.p0.y),t}hashCode(){let e=java.lang.Double.doubleToLongBits(this.p0.x);e^=31*java.lang.Double.doubleToLongBits(this.p0.y);const t=c(e)^c(e>>32);let n=java.lang.Double.doubleToLongBits(this.p1.x);n^=31*java.lang.Double.doubleToLongBits(this.p1.y);const o=c(n)^c(n>>32);return t^o}getClass(){return u}get interfaces_(){return[d.a,_.a]}}n.a=u,u.constructor_=function(){if(this.p0=null,this.p1=null,0===arguments.length)u.constructor_.call(this,new i.a,new i.a);else if(1===arguments.length){const e=arguments[0];u.constructor_.call(this,e.p0,e.p1)}else if(2===arguments.length){const e=arguments[0],t=arguments[1];this.p0=e,this.p1=t}else if(4===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2],o=arguments[3];u.constructor_.call(this,new i.a(e,t),new i.a(n,o))}},u.serialVersionUID=3252005833466256400},function(e,t,n){'use strict';n.d(t,'a',function(){return a});var o={DEGREES:'degrees',FEET:'ft',METERS:'m',PIXELS:'pixels',TILE_PIXELS:'tile-pixels',USFEET:'us-ft'},a={};a[o.DEGREES]=6370997*(2*s)/360,a[o.FEET]=0.3048,a[o.METERS]=1,a[o.USFEET]=1200/3937,t.b=o},function(e,t,n){'use strict';function o(e,n,o,a,r,s,d){var p=e[n],_=e[n+1],g=e[o]-p,c=e[o+1]-_,u;if(0==g&&0==c)u=n;else{var y=((r-p)*g+(s-_)*c)/(g*g+c*c);if(1<y)u=o;else{if(0<y){for(var t=0;t<a;++t)d[t]=Object(l.c)(e[n+t],e[o+t],y);return void(d.length=a)}u=n}}for(var t=0;t<a;++t)d[t]=e[u+t];d.length=a}function a(e,t,n,o,a){var i=e[t],r=e[t+1];for(t+=o;t<n;t+=o){var s=e[t],d=e[t+1],p=Object(l.e)(i,r,s,d);p>a&&(a=p),i=s,r=d}return a}function r(e,t,n,o,r){for(var s=0,i=n.length,d;s<i;++s)d=n[s],r=a(e,t,d,o,r),t=d;return r}function s(e,t,n,a,r,s,d,p,_,g,c){if(t==n)return g;var u,i;if(0===r){if(i=Object(l.e)(d,p,e[t],e[t+1]),i<g){for(u=0;u<a;++u)_[u]=e[t+u];return _.length=a,i}return g}for(var y=c?c:[NaN,NaN],m=t+a;m<n;)if(o(e,m-a,m,a,d,p,y),i=Object(l.e)(d,p,y[0],y[1]),i<g){for(g=i,u=0;u<a;++u)_[u]=y[u];_.length=a,m+=a}else m+=a*E(0|(T(i)-T(g))/r,1);if(s&&(o(e,n-a,t,a,d,p,y),i=Object(l.e)(d,p,y[0],y[1]),i<g)){for(g=i,u=0;u<a;++u)_[u]=y[u];_.length=a}return g}function d(e,t,n,o,a,r,d,l,p,_,g){for(var c=g?g:[NaN,NaN],u=0,i=n.length,y;u<i;++u)y=n[u],_=s(e,t,y,o,a,r,d,l,p,_,c),t=y;return _}t.e=a,t.a=r,t.f=function(e,t,n,o,a){for(var s=0,i=n.length,d;s<i;++s)d=n[s],a=r(e,t,d,o,a),t=d[d.length-1];return a},t.d=s,t.b=d,t.c=function(e,t,n,o,a,r,s,l,p,_,g){for(var c=g?g:[NaN,NaN],u=0,i=n.length,y;u<i;++u)y=n[u],_=d(e,t,y,o,a,r,s,l,p,_,c),t=y[y.length-1];return _};var l=n(15)},function(e,t,n){'use strict';var o=n(10),a=n(93),r=n(2),s=n(144),d=n(5),l=n(46),i=n(164),p=n(36),_=n(63),g=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),c=function(e){function t(t,n,o,a){var i=e.call(this)||this;return i.tolerance=t,i.maxExtent=n,i.pixelRatio=a,i.maxLineWidth=0,i.resolution=o,i.beginGeometryInstruction1_=null,i.beginGeometryInstruction2_=null,i.bufferedMaxExtent_=null,i.instructions=[],i.coordinates=[],i.tmpCoordinate_=[],i.hitDetectionInstructions=[],i.state={},i}return g(t,e),t.prototype.applyPixelRatio=function(e){var t=this.pixelRatio;return 1==t?e:e.map(function(e){return e*t})},t.prototype.appendFlatCoordinates=function(e,t,n,o,a,d){var l=this.coordinates.length,p=this.getBufferedMaxExtent();d&&(t+=o);var _=e[t],g=e[t+1],c=this.tmpCoordinate_,u=!0,y,i,m;for(y=t+o;y<n;y+=o)c[0]=e[y],c[1]=e[y+1],m=Object(r.h)(p,c),m===i?m===s.a.INTERSECTING?(this.coordinates[l++]=c[0],this.coordinates[l++]=c[1],u=!1):u=!0:(u&&(this.coordinates[l++]=_,this.coordinates[l++]=g),this.coordinates[l++]=c[0],this.coordinates[l++]=c[1],u=!1),_=c[0],g=c[1],i=m;return(a&&u||y===t+o)&&(this.coordinates[l++]=_,this.coordinates[l++]=g),l},t.prototype.drawCustomCoordinates_=function(e,t,n,o,a){for(var r=0,i=n.length;r<i;++r){var s=n[r],d=this.appendFlatCoordinates(e,t,s,o,!1,!1);a.push(d),t=s}return t},t.prototype.drawCustom=function(e,t,n){this.beginGeometry(e,t);var o=e.getType(),a=e.getStride(),r=this.coordinates.length,s,p,g,c,u;if(o==d.a.MULTI_POLYGON){e=e,s=e.getOrientedFlatCoordinates(),c=[];var y=e.getEndss();u=0;for(var m=0,i=y.length,h;m<i;++m)h=[],u=this.drawCustomCoordinates_(s,u,y[m],a,h),c.push(h);this.instructions.push([_.c.CUSTOM,r,c,e,n,l.c])}else o==d.a.POLYGON||o==d.a.MULTI_LINE_STRING?(g=[],s=o==d.a.POLYGON?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),u=this.drawCustomCoordinates_(s,0,e.getEnds(),a,g),this.instructions.push([_.c.CUSTOM,r,g,e,n,l.b])):o==d.a.LINE_STRING||o==d.a.MULTI_POINT?(s=e.getFlatCoordinates(),p=this.appendFlatCoordinates(s,0,s.length,a,!1,!1),this.instructions.push([_.c.CUSTOM,r,p,e,n,l.a])):o==d.a.POINT&&(s=e.getFlatCoordinates(),this.coordinates.push(s[0],s[1]),p=this.coordinates.length,this.instructions.push([_.c.CUSTOM,r,p,e,n]));this.endGeometry(t)},t.prototype.beginGeometry=function(e,t){var n=e.getExtent();this.beginGeometryInstruction1_=[_.c.BEGIN_GEOMETRY,t,0,n],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[_.c.BEGIN_GEOMETRY,t,0,n],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},t.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},t.prototype.reverseHitDetectionInstructions=function(){var e=this.hitDetectionInstructions;e.reverse();var t=e.length,n=-1,a,i,r;for(a=0;a<t;++a)i=e[a],r=i[0],r==_.c.END_GEOMETRY?n=a:r==_.c.BEGIN_GEOMETRY&&(i[2]=a,Object(o.f)(this.hitDetectionInstructions,n,a),n=-1)},t.prototype.setFillStrokeStyle=function(e,t){var n=this.state;if(e){var o=e.getColor();n.fillStyle=Object(a.a)(o?o:p.b)}else n.fillStyle=void 0;if(t){var i=t.getColor();n.strokeStyle=Object(a.a)(i?i:p.k);var r=t.getLineCap();n.lineCap=void 0===r?p.d:r;var s=t.getLineDash();n.lineDash=s?s.slice():p.e;var d=t.getLineDashOffset();n.lineDashOffset=d?d:p.f;var l=t.getLineJoin();n.lineJoin=void 0===l?p.g:l;var _=t.getWidth();n.lineWidth=void 0===_?p.h:_;var g=t.getMiterLimit();n.miterLimit=void 0===g?p.i:g,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},t.prototype.createFill=function(e){var t=e.fillStyle,n=[_.c.SET_FILL_STYLE,t];return'string'!=typeof t&&n.push(!0),n},t.prototype.applyStroke=function(e){this.instructions.push(this.createStroke(e))},t.prototype.createStroke=function(e){return[_.c.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]},t.prototype.updateFillStyle=function(e,t){var n=e.fillStyle;('string'!=typeof n||e.currentFillStyle!=n)&&(void 0!==n&&this.instructions.push(t.call(this,e)),e.currentFillStyle=n)},t.prototype.updateStrokeStyle=function(e,t){var n=e.strokeStyle,a=e.lineCap,i=e.lineDash,r=e.lineDashOffset,s=e.lineJoin,d=e.lineWidth,l=e.miterLimit;e.currentStrokeStyle==n&&e.currentLineCap==a&&(i==e.currentLineDash||Object(o.b)(e.currentLineDash,i))&&e.currentLineDashOffset==r&&e.currentLineJoin==s&&e.currentLineWidth==d&&e.currentMiterLimit==l||(void 0!==n&&t.call(this,e),e.currentStrokeStyle=n,e.currentLineCap=a,e.currentLineDash=i,e.currentLineDashOffset=r,e.currentLineJoin=s,e.currentLineWidth=d,e.currentMiterLimit=l)},t.prototype.endGeometry=function(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var t=[_.c.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)},t.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Object(r.d)(this.maxExtent),0<this.maxLineWidth)){var e=this.resolution*(this.maxLineWidth+1)/2;Object(r.c)(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},t}(i.a);t.a=c},function(e,t){'use strict';t.a=function(){}},function(e,t){'use strict';class n{constructor(){n.constructor_.apply(this,arguments)}filter(){}getClass(){return n}get interfaces_(){return[]}}t.a=n,n.constructor_=function(){}},function(e,t,n){'use strict';function o(){}t.a=o;var a=n(34);o.prototype=Object.create(a.a.prototype),o.prototype.constructor=o,o.prototype.get=function(){},o.prototype.set=function(){},o.prototype.isEmpty=function(){}},function(e,t){'use strict';class n{constructor(){n.constructor_.apply(this,arguments)}filter(){}isDone(){}isGeometryChanged(){}getClass(){return n}get interfaces_(){return[]}}t.a=n,n.constructor_=function(){}},function(e,t){'use strict';function n(e){this.str=e}t.a=n,n.prototype.append=function(t){this.str+=t},n.prototype.setCharAt=function(e,t){this.str=this.str.substr(0,e)+t+this.str.substr(e+1)},n.prototype.toString=function(){return this.str}},function(e,t){'use strict';function n(e){this.value=e}t.a=n,n.prototype.intValue=function(){return this.value},n.prototype.compareTo=function(e){return this.value<e?-1:this.value>e?1:0},n.isNaN=(e)=>a(e)},function(e,t){'use strict';class n{constructor(){n.constructor_.apply(this,arguments)}getClass(){return n}get interfaces_(){return[]}}t.a=n,n.constructor_=function(){}},function(e,t,n){'use strict';var a=n(23),i=n(24),r=n(51),s=n(188);class d extends i.a{constructor(){super(),d.constructor_.apply(this,arguments)}isValid(){return!0}equalsExact(){if(2===arguments.length&&'number'==typeof arguments[1]&&arguments[0]instanceof a.a){const e=arguments[0],t=arguments[1];return!!this.isEquivalentClass(e)&&super.equalsExact.call(this,e,t)}return super.equalsExact.apply(this,arguments)}getCoordinate(){if(1===arguments.length&&o(arguments[0])){const e=arguments[0];return this._geometries[e].getCoordinate()}return super.getCoordinate.apply(this,arguments)}getBoundaryDimension(){return r.a.FALSE}getTypeCode(){return a.a.TYPECODE_MULTIPOINT}getDimension(){return 0}getBoundary(){return this.getFactory().createGeometryCollection()}getGeometryType(){return a.a.TYPENAME_MULTIPOINT}copy(){const e=Array(this._geometries.length).fill(null);for(let t=0;t<e.length;t++)e[t]=this._geometries[t].copy();return new d(e,this._factory)}getClass(){return d}get interfaces_(){return[s.a]}}t.a=d,d.constructor_=function(){const e=arguments[0],t=arguments[1];i.a.constructor_.call(this,e,t)},d.serialVersionUID=-8048474874175356000},function(e,t,n){'use strict';var o=n(1),a=n(6);class i{constructor(){i.constructor_.apply(this,arguments)}static isNorthern(e){return e===i.NE||e===i.NW}static isOpposite(e,t){if(e===t)return!1;return!(2!=(e-t+4)%4)}static commonHalfPlane(e,t){if(e===t)return e;if(2==(e-t+4)%4)return-1;const n=e<t?e:t,o=e>t?e:t;return 0==n&&3==o?3:n}static isInHalfPlane(e,t){return t===i.SE?e===i.SE||e===i.SW:e===t||e===t+1}static quadrant(){if('number'==typeof arguments[0]&&'number'==typeof arguments[1]){const e=arguments[0],t=arguments[1];if(0===e&&0===t)throw new a.a('Cannot compute the quadrant for point ( '+e+', '+t+' )');return 0<=e?0<=t?i.NE:i.SE:0<=t?i.NW:i.SW}if(arguments[0]instanceof o.a&&arguments[1]instanceof o.a){const e=arguments[0],t=arguments[1];if(t.x===e.x&&t.y===e.y)throw new a.a('Cannot compute the quadrant for two identical points '+e);return t.x>=e.x?t.y>=e.y?i.NE:i.SE:t.y>=e.y?i.NW:i.SW}}getClass(){return i}get interfaces_(){return[]}}t.a=i,i.constructor_=function(){},i.NE=0,i.NW=1,i.SW=2,i.SE=3},function(e,t,n){'use strict';var o=n(332),a=n(71),i=n(131),r=n(1),s=n(201),d=n(0),l=n(335);class p{constructor(){p.constructor_.apply(this,arguments)}static getNodedSubstrings(){if(1===arguments.length){const e=arguments[0],t=new d.a;return p.getNodedSubstrings(e,t),t}if(2===arguments.length){const e=arguments[0],t=arguments[1];for(let n=e.iterator();n.hasNext();){const e=n.next();e.getNodeList().addSplitEdges(t)}}}getCoordinates(){return this._pts}size(){return this._pts.length}getCoordinate(e){return this._pts[e]}isClosed(){return this._pts[0].equals(this._pts[this._pts.length-1])}getSegmentOctant(e){return e===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(e),this.getCoordinate(e+1))}setData(e){this._data=e}safeOctant(e,t){return e.equals2D(t)?0:s.a.octant(e,t)}getData(){return this._data}addIntersection(){if(2===arguments.length){const e=arguments[0],t=arguments[1];this.addIntersectionNode(e,t)}else if(4===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2],o=arguments[3],a=new r.a(e.getIntersection(o));this.addIntersection(a,t)}}toString(){return a.a.toLineString(new i.a(this._pts))}getNodeList(){return this._nodeList}addIntersectionNode(e,t){let n=t;const o=n+1;if(o<this._pts.length){const t=this._pts[o];e.equals2D(t)&&(n=o)}const a=this._nodeList.add(e,n);return a}addIntersections(e,t,n){for(let o=0;o<e.getIntersectionNum();o++)this.addIntersection(e,t,n,o)}getClass(){return p}get interfaces_(){return[l.a]}}t.a=p,p.constructor_=function(){this._nodeList=new o.a(this),this._pts=null,this._data=null;const e=arguments[0],t=arguments[1];this._pts=e,this._data=t}},function(e,t,n){'use strict';var o=n(212),a=n(9),i=n(367),r=n(371),s=n(191),d=n(12),l=n(6),p=n(372),_=n(373),g=n(374),c=n(375),u=n(29),y=n(205),m=n(379),h=n(208),f=n(0),x=n(4),I=n(110);class T extends m.a{constructor(){super(),T.constructor_.apply(this,arguments)}static overlayOp(e,t,n){const o=new T(e,t),a=o.getResultGeometry(n);return a}static union(e,t){if(e.isEmpty()||t.isEmpty()){if(e.isEmpty()&&t.isEmpty())return T.createEmptyResult(T.UNION,e,t,e.getFactory());if(e.isEmpty())return t.copy();if(t.isEmpty())return e.copy()}if(e.isGeometryCollection()||t.isGeometryCollection())throw new l.a('This method does not support GeometryCollection arguments');return c.a.overlayOp(e,t,T.UNION)}static intersection(e,t){if(e.isEmpty()||t.isEmpty())return T.createEmptyResult(T.INTERSECTION,e,t,e.getFactory());if(e.isGeometryCollection()){return r.a.map(e,new class{get interfaces_(){return[p.a]}map(e){return T.intersection(e,t)}})}return c.a.overlayOp(e,t,T.INTERSECTION)}static symDifference(e,t){if(e.isEmpty()||t.isEmpty()){if(e.isEmpty()&&t.isEmpty())return T.createEmptyResult(T.SYMDIFFERENCE,e,t,e.getFactory());if(e.isEmpty())return t.copy();if(t.isEmpty())return e.copy()}if(e.isGeometryCollection()||t.isGeometryCollection())throw new l.a('This method does not support GeometryCollection arguments');return c.a.overlayOp(e,t,T.SYMDIFFERENCE)}static resultDimension(e,t,n){const o=t.getDimension(),a=n.getDimension();let i=-1;return e===T.INTERSECTION?i=C(o,a):e===T.UNION?i=E(o,a):e===T.DIFFERENCE?i=o:e===T.SYMDIFFERENCE?i=E(o,a):void 0,i}static createEmptyResult(e,t,n,o){let a=null;switch(T.resultDimension(e,t,n)){case-1:a=o.createGeometryCollection();break;case 0:a=o.createPoint();break;case 1:a=o.createLineString();break;case 2:a=o.createPolygon();}return a}static difference(e,t){if(e.isEmpty())return T.createEmptyResult(T.DIFFERENCE,e,t,e.getFactory());if(t.isEmpty())return e.copy();if(e.isGeometryCollection()||t.isGeometryCollection())throw new l.a('This method does not support GeometryCollection arguments');return c.a.overlayOp(e,t,T.DIFFERENCE)}static isResultOfOp(){if(2===arguments.length){const e=arguments[0],t=arguments[1],n=e.getLocation(0),o=e.getLocation(1);return T.isResultOfOp(n,o,t)}if(3===arguments.length){let e=arguments[0],t=arguments[1];const n=arguments[2];return e===a.a.BOUNDARY&&(e=a.a.INTERIOR),t===a.a.BOUNDARY&&(t=a.a.INTERIOR),n===T.INTERSECTION?e===a.a.INTERIOR&&t===a.a.INTERIOR:n===T.UNION?e===a.a.INTERIOR||t===a.a.INTERIOR:n===T.DIFFERENCE?e===a.a.INTERIOR&&t!==a.a.INTERIOR:n===T.SYMDIFFERENCE&&(e===a.a.INTERIOR&&t!==a.a.INTERIOR||e!==a.a.INTERIOR&&t===a.a.INTERIOR)}}insertUniqueEdge(t){const e=this._edgeList.findEqualEdge(t);if(null!==e){const n=e.getLabel();let o=t.getLabel();e.isPointwiseEqual(t)||(o=new u.a(t.getLabel()),o.flip());const a=e.getDepth();a.isNull()&&a.add(n),a.add(o),n.merge(o)}else this._edgeList.add(t)}getGraph(){return this._graph}cancelDuplicateResultEdges(){for(let e=this._graph.getEdgeEnds().iterator();e.hasNext();){const t=e.next(),n=t.getSym();t.isInResult()&&n.isInResult()&&(t.setInResult(!1),n.setInResult(!1))}}isCoveredByLA(e){return!!this.isCovered(e,this._resultLineList)||!!this.isCovered(e,this._resultPolyList)}computeGeometry(e,t,n,o){const a=new f.a;return a.addAll(e),a.addAll(t),a.addAll(n),a.isEmpty()?T.createEmptyResult(o,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(a)}mergeSymLabels(){for(let e=this._graph.getNodes().iterator();e.hasNext();){const t=e.next();t.getEdges().mergeSymLabels()}}isCovered(e,t){for(let n=t.iterator();n.hasNext();){const t=n.next(),o=this._ptLocator.locate(e,t);if(o!==a.a.EXTERIOR)return!0}return!1}replaceCollapsedEdges(){const t=new f.a;for(let n=this._edgeList.iterator();n.hasNext();){const o=n.next();o.isCollapsed()&&(n.remove(),t.add(o.getCollapsedEdge()))}this._edgeList.addAll(t)}updateNodeLabelling(){for(let e=this._graph.getNodes().iterator();e.hasNext();){const t=e.next(),n=t.getEdges().getLabel();t.getLabel().merge(n)}}getResultGeometry(e){return this.computeOverlay(e),this._resultGeom}insertUniqueEdges(e){for(let t=e.iterator();t.hasNext();){const n=t.next();this.insertUniqueEdge(n)}}computeOverlay(e){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);const t=new f.a;this._arg[0].computeSplitEdges(t),this._arg[1].computeSplitEdges(t);this.insertUniqueEdges(t),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),i.a.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(e),this.cancelDuplicateResultEdges();const n=new s.a(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();const o=new _.a(this,this._geomFact,this._ptLocator);this._resultLineList=o.build(e);const a=new g.a(this,this._geomFact,this._ptLocator);this._resultPointList=a.build(e),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,e)}labelIncompleteNode(e,t){const n=this._ptLocator.locate(e.getCoordinate(),this._arg[t].getGeometry());e.getLabel().setLocation(t,n)}copyPoints(e){for(let t=this._arg[e].getNodeIterator();t.hasNext();){const n=t.next(),o=this._graph.addNode(n.getCoordinate());o.setLabel(e,n.getLabel().getLocation(e))}}findResultAreaEdges(e){for(let t=this._graph.getEdgeEnds().iterator();t.hasNext();){const n=t.next(),o=n.getLabel();o.isArea()&&!n.isInteriorAreaEdge()&&T.isResultOfOp(o.getLocation(0,d.a.RIGHT),o.getLocation(1,d.a.RIGHT),e)&&n.setInResult(!0)}}computeLabelsFromDepths(){for(let t=this._edgeList.iterator();t.hasNext();){const n=t.next(),e=n.getLabel(),o=n.getDepth();if(!o.isNull()){o.normalize();for(let t=0;2>t;t++)e.isNull(t)||!e.isArea()||o.isNull(t)||(0===o.getDelta(t)?e.toLine(t):(x.a.isTrue(!o.isNull(t,d.a.LEFT),'depth of LEFT side has not been initialized'),e.setLocation(t,d.a.LEFT,o.getLocation(t,d.a.LEFT)),x.a.isTrue(!o.isNull(t,d.a.RIGHT),'depth of RIGHT side has not been initialized'),e.setLocation(t,d.a.RIGHT,o.getLocation(t,d.a.RIGHT))))}}}computeLabelling(){for(let e=this._graph.getNodes().iterator();e.hasNext();){const t=e.next();t.getEdges().computeLabelling(this._arg)}this.mergeSymLabels(),this.updateNodeLabelling()}labelIncompleteNodes(){let e=0;for(let t=this._graph.getNodes().iterator();t.hasNext();){const o=t.next(),n=o.getLabel();o.isIsolated()&&(e++,n.isNull(0)?this.labelIncompleteNode(o,0):this.labelIncompleteNode(o,1)),o.getEdges().updateLabelling(n)}}isCoveredByA(e){return!!this.isCovered(e,this._resultPolyList)}getClass(){return T}get interfaces_(){return[]}}t.a=T,T.constructor_=function(){this._ptLocator=new o.a,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new h.a,this._resultPolyList=new f.a,this._resultLineList=new f.a,this._resultPointList=new f.a;const e=arguments[0],t=arguments[1];m.a.constructor_.call(this,e,t),this._graph=new I.a(new y.a()),this._geomFact=e.getFactory()},T.INTERSECTION=1,T.UNION=2,T.DIFFERENCE=3,T.SYMDIFFERENCE=4},function(e,t,n){'use strict';var o=n(89),a=n(11),r=n(13),i=n(14),s=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),d=function(e){function t(t){var n=e.call(this)||this;return n.eventTarget_=t,n.pendingRemovals_={},n.dispatching_={},n.listeners_={},n}return s(t,e),t.prototype.addEventListener=function(e,t){if(e&&t){var n=this.listeners_[e];n||(n=[],this.listeners_[e]=n),-1===n.indexOf(t)&&n.push(t)}},t.prototype.dispatchEvent=function(e){var t='string'==typeof e?new r.a(e):e,n=t.type;t.target||(t.target=this.eventTarget_||this);var o=this.listeners_[n],s;if(o){n in this.dispatching_||(this.dispatching_[n]=0,this.pendingRemovals_[n]=0),++this.dispatching_[n];for(var d=0,i=o.length;d<i;++d)if(!1===o[d].call(this,t)||t.propagationStopped){s=!1;break}if(--this.dispatching_[n],0===this.dispatching_[n]){var l=this.pendingRemovals_[n];for(delete this.pendingRemovals_[n];l--;)this.removeEventListener(n,a.c);delete this.dispatching_[n]}return s}},t.prototype.disposeInternal=function(){Object(i.b)(this.listeners_)},t.prototype.getListeners=function(e){return this.listeners_[e]},t.prototype.hasListener=function(e){return e?e in this.listeners_:0<Object.keys(this.listeners_).length},t.prototype.removeEventListener=function(e,t){var n=this.listeners_[e];if(n){var o=n.indexOf(t);-1!==o&&(e in this.pendingRemovals_?(n[o]=a.c,++this.pendingRemovals_[e]):(n.splice(o,1),0===n.length&&delete this.listeners_[e]))}},t}(o.a);t.a=d},function(e,t){'use strict';var n=function(){function e(){this.disposed_=!1}return e.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},e.prototype.disposeInternal=function(){},e}();t.a=n},function(e,t){'use strict';t.a={UNDEFINED:'undefined',LOADING:'loading',READY:'ready',ERROR:'error'}},function(e,t,n){'use strict';var o=n(147);n.d(t,'a',function(){return o.a});var a=n(118);n.d(t,'b',function(){return a.a});var i=n(239);n.d(t,'c',function(){return i.a});var r=n(150),s=n(117),d=n(148);n.d(t,'d',function(){return d.a});var l=n(151);n.d(t,'e',function(){return l.a});var p=n(45);n.d(t,'f',function(){return p.c});n(244)},function(e,t,n){'use strict';function o(e){var t=document.createElement('div');if(t.style.color=e,''!==t.style.color){document.body.appendChild(t);var n=getComputedStyle(t).color;return document.body.removeChild(t),n}return''}function a(e){var t,r,s,g,a;if(_.exec(e)&&(e=o(e)),p.exec(e)){var c=e.length-1,n=void 0;n=4>=c?1:2;var d=4==c||8==c;t=parseInt(e.substr(1+0*n,n),16),r=parseInt(e.substr(1+1*n,n),16),s=parseInt(e.substr(1+2*n,n),16),g=d?parseInt(e.substr(1+3*n,n),16):255,1==n&&(t=(t<<4)+t,r=(r<<4)+r,s=(s<<4)+s,d&&(g=(g<<4)+g)),a=[t,r,s,g/255]}else 0==e.indexOf('rgba(')?(a=e.slice(5,-1).split(',').map(Number),i(a)):0==e.indexOf('rgb(')?(a=e.slice(4,-1).split(',').map(Number),a.push(1),i(a)):Object(l.a)(!1,14);return a}function i(e){return e[0]=Object(s.a)(0|e[0]+0.5,0,255),e[1]=Object(s.a)(0|e[1]+0.5,0,255),e[2]=Object(s.a)(0|e[2]+0.5,0,255),e[3]=Object(s.a)(e[3],0,1),e}function r(e){var t=e[0];t!=(0|t)&&(t=0|t+0.5);var n=e[1];n!=(0|n)&&(n=0|n+0.5);var o=e[2];o!=(0|o)&&(o=0|o+0.5);var i=e[3]===void 0?1:e[3];return'rgba('+t+','+n+','+o+','+i+')'}t.b=function(e){return'string'==typeof e?e:r(e)},t.a=function(e){return Array.isArray(e)?e:d(e)},t.c=r;var l=n(26),s=n(15),p=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,_=/^([a-z]*)$|^hsla?\(.*\)$/i,d=function(){var e={},t=0;return function(n){var o;if(e.hasOwnProperty(n))o=e[n];else{if(t>=1024){var r=0;for(var i in e)0==(3&r++)&&(delete e[i],--t)}o=a(n),e[n]=o,++t}return o}}()},function(e,t,n){'use strict';t.a=function(e){return Array.isArray(e)?Object(o.c)(e):e};var o=n(92)},function(e,t,n){'use strict';function o(e,t,n,o,a){var r=Object(i.r)(Object(i.i)(),e,t,n,o);return!!Object(i.B)(a,r)&&(!!Object(i.f)(a,r)||r[0]>=a[0]&&r[2]<=a[2]||r[1]>=a[1]&&r[3]<=a[3]||Object(d.a)(e,t,n,o,function(e,t){return Object(i.C)(a,e,t)}))}function a(e,t,n,a,i){return!!o(e,t,n,a,i)||!!Object(s.b)(e,t,n,a,i[0],i[1])||!!Object(s.b)(e,t,n,a,i[0],i[3])||!!Object(s.b)(e,t,n,a,i[2],i[1])||!!Object(s.b)(e,t,n,a,i[2],i[3])}function r(e,t,n,r,d){if(!a(e,t,n[0],r,d))return!1;if(1===n.length)return!0;for(var l=1,i=n.length;l<i;++l)if(Object(s.a)(e,n[l-1],n[l],r,d)&&!o(e,n[l-1],n[l],r,d))return!1;return!0}t.a=o,t.b=function(e,t,n,a,r){for(var s=0,i=n.length;s<i;++s){if(o(e,t,n[s],a,r))return!0;t=n[s]}return!1},t.c=r,t.d=function(e,t,n,o,a){for(var s=0,i=n.length,d;s<i;++s){if(d=n[s],r(e,t,d,o,a))return!0;t=d[d.length-1]}return!1};var i=n(2),s=n(95),d=n(156)},function(e,t,n){'use strict';function o(e,t,n,o,a,i){for(var r=0,s=e[n-o],d=e[n-o+1];t<n;t+=o){var l=e[t],p=e[t+1];d<=i?p>i&&0<(l-s)*(i-d)-(a-s)*(p-d)&&r++:p<=i&&0>(l-s)*(i-d)-(a-s)*(p-d)&&r--,s=l,d=p}return 0!=r}function a(e,t,n,a,r,s){if(0===n.length)return!1;if(!o(e,t,n[0],a,r,s))return!1;for(var d=1,i=n.length;d<i;++d)if(o(e,n[d-1],n[d],a,r,s))return!1;return!0}t.a=function(e,t,n,a,r){var s=Object(i.s)(r,function(i){return!o(e,t,n,a,i[0],i[1])});return!s},t.b=o,t.c=a,t.d=function(e,t,n,o,r,s){if(0===n.length)return!1;for(var d=0,i=n.length,l;d<i;++d){if(l=n[d],a(e,t,l,o,r,s))return!0;t=l[l.length-1]}return!1};var i=n(2)},function(e,t,n){'use strict';function o(e){if('function'==typeof e)return e;var t;if(Array.isArray(e))t=e;else{Object(a.a)('function'==typeof e.getZIndex,41);t=[e]}return function(){return t}}var a=n(26),i=n(30),r=n(8),s=n(25),d=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l=function(e){function t(t){var n=e.call(this)||this;if(n.id_=void 0,n.geometryName_='geometry',n.style_=null,n.styleFunction_=void 0,n.geometryChangeKey_=null,n.addEventListener(Object(s.b)(n.geometryName_),n.handleGeometryChanged_),t)if('function'==typeof t.getSimplifiedGeometry){n.setGeometry(t)}else{n.setProperties(t)}return n}return d(t,e),t.prototype.clone=function(){var e=new t(this.getProperties());e.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&e.setGeometry(n.clone());var o=this.getStyle();return o&&e.setStyle(o),e},t.prototype.getGeometry=function(){return this.get(this.geometryName_)},t.prototype.getId=function(){return this.id_},t.prototype.getGeometryName=function(){return this.geometryName_},t.prototype.getStyle=function(){return this.style_},t.prototype.getStyleFunction=function(){return this.styleFunction_},t.prototype.handleGeometryChange_=function(){this.changed()},t.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Object(i.c)(this.geometryChangeKey_),this.geometryChangeKey_=null);var e=this.getGeometry();e&&(this.geometryChangeKey_=Object(i.a)(e,r.a.CHANGE,this.handleGeometryChange_,this)),this.changed()},t.prototype.setGeometry=function(e){this.set(this.geometryName_,e)},t.prototype.setStyle=function(e){this.style_=e,this.styleFunction_=e?o(e):void 0,this.changed()},t.prototype.setId=function(e){this.id_=e,this.changed()},t.prototype.setGeometryName=function(e){this.removeEventListener(Object(s.b)(this.geometryName_),this.handleGeometryChanged_),this.geometryName_=e,this.addEventListener(Object(s.b)(this.geometryName_),this.handleGeometryChanged_),this.handleGeometryChanged_()},t}(s.a);t.a=l},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(291);n.d(t,'Select',function(){return o.a})},function(e,t,n){'use strict';function o(e){return[e.x,e.y]}var a=n(1),i=n(38);t.a=class{constructor(e,t){this.geometryFactory=e||new i.a,this.ol=t||'undefined'!=typeof ol&&ol}inject(e,t,n,o,a,i,r,s){this.ol={geom:{Point:e,LineString:t,LinearRing:n,Polygon:o,MultiPoint:a,MultiLineString:i,MultiPolygon:r,GeometryCollection:s}}}read(e){const t=this.ol;if(e instanceof t.geom.Point)return this.convertFromPoint(e);return e instanceof t.geom.LineString?this.convertFromLineString(e):e instanceof t.geom.LinearRing?this.convertFromLinearRing(e):e instanceof t.geom.Polygon?this.convertFromPolygon(e):e instanceof t.geom.MultiPoint?this.convertFromMultiPoint(e):e instanceof t.geom.MultiLineString?this.convertFromMultiLineString(e):e instanceof t.geom.MultiPolygon?this.convertFromMultiPolygon(e):e instanceof t.geom.GeometryCollection?this.convertFromCollection(e):void 0}convertFromPoint(e){const t=e.getCoordinates();return this.geometryFactory.createPoint(new a.a(t[0],t[1]))}convertFromLineString(e){return this.geometryFactory.createLineString(e.getCoordinates().map(function(e){return new a.a(e[0],e[1])}))}convertFromLinearRing(e){return this.geometryFactory.createLinearRing(e.getCoordinates().map(function(e){return new a.a(e[0],e[1])}))}convertFromPolygon(e){const t=e.getLinearRings();let n=null;const o=[];for(let a=0;a<t.length;a++){const e=this.convertFromLinearRing(t[a]);0===a?n=e:o.push(e)}return this.geometryFactory.createPolygon(n,o)}convertFromMultiPoint(e){const t=e.getPoints().map(function(e){return this.convertFromPoint(e)},this);return this.geometryFactory.createMultiPoint(t)}convertFromMultiLineString(e){const t=e.getLineStrings().map(function(e){return this.convertFromLineString(e)},this);return this.geometryFactory.createMultiLineString(t)}convertFromMultiPolygon(e){const t=e.getPolygons().map(function(e){return this.convertFromPolygon(e)},this);return this.geometryFactory.createMultiPolygon(t)}convertFromCollection(e){const t=e.getGeometries().map(function(e){return this.read(e)},this);return this.geometryFactory.createGeometryCollection(t)}write(e){if('Point'===e.getGeometryType())return this.convertToPoint(e.getCoordinate());return'LineString'===e.getGeometryType()?this.convertToLineString(e):'LinearRing'===e.getGeometryType()?this.convertToLinearRing(e):'Polygon'===e.getGeometryType()?this.convertToPolygon(e):'MultiPoint'===e.getGeometryType()?this.convertToMultiPoint(e):'MultiLineString'===e.getGeometryType()?this.convertToMultiLineString(e):'MultiPolygon'===e.getGeometryType()?this.convertToMultiPolygon(e):'GeometryCollection'===e.getGeometryType()?this.convertToCollection(e):void 0}convertToPoint(e){return new this.ol.geom.Point([e.x,e.y])}convertToLineString(e){const t=e._points._coordinates.map(o);return new this.ol.geom.LineString(t)}convertToLinearRing(e){const t=e._points._coordinates.map(o);return new this.ol.geom.LinearRing(t)}convertToPolygon(e){const t=[e._shell._points._coordinates.map(o)];for(let n=0;n<e._holes.length;n++)t.push(e._holes[n]._points._coordinates.map(o));return new this.ol.geom.Polygon(t)}convertToMultiPoint(e){return new this.ol.geom.MultiPoint(e.getCoordinates().map(o))}convertToMultiLineString(e){const t=[];for(let n=0;n<e._geometries.length;n++)t.push(this.convertToLineString(e._geometries[n]).getCoordinates());return new this.ol.geom.MultiLineString(t)}convertToMultiPolygon(e){const t=[];for(let n=0;n<e._geometries.length;n++)t.push(this.convertToPolygon(e._geometries[n]).getCoordinates());return new this.ol.geom.MultiPolygon(t)}convertToCollection(e){const t=[];for(let n=0;n<e._geometries.length;n++){const o=e._geometries[n];t.push(this.write(o))}return new this.ol.geom.GeometryCollection(t)}}},function(e,t){'use strict';t.a=function(){}},function(e,t){'use strict';class n{constructor(){n.constructor_.apply(this,arguments)}isInBoundary(){}getClass(){return n}get interfaces_(){return[]}}t.a=n;class o{constructor(){o.constructor_.apply(this,arguments)}isInBoundary(e){return 1==e%2}getClass(){return o}get interfaces_(){return[n]}}o.constructor_=function(){};class a{constructor(){a.constructor_.apply(this,arguments)}isInBoundary(e){return 0<e}getClass(){return a}get interfaces_(){return[n]}}a.constructor_=function(){};class i{constructor(){i.constructor_.apply(this,arguments)}isInBoundary(e){return 1<e}getClass(){return i}get interfaces_(){return[n]}}i.constructor_=function(){};class r{constructor(){r.constructor_.apply(this,arguments)}isInBoundary(e){return 1===e}getClass(){return r}get interfaces_(){return[n]}}r.constructor_=function(){},n.Mod2BoundaryNodeRule=o,n.EndPointBoundaryNodeRule=a,n.MultiValentEndPointBoundaryNodeRule=i,n.MonoValentEndPointBoundaryNodeRule=r,n.constructor_=function(){},n.MOD2_BOUNDARY_RULE=new o,n.ENDPOINT_BOUNDARY_RULE=new a,n.MULTIVALENT_ENDPOINT_BOUNDARY_RULE=new i,n.MONOVALENT_ENDPOINT_BOUNDARY_RULE=new r,n.OGC_SFS_BOUNDARY_RULE=n.MOD2_BOUNDARY_RULE},function(e,t,n){'use strict';var a=n(3),i=n(34),r=n(1),s=n(0);class d extends s.a{constructor(){super(),d.constructor_.apply(this,arguments)}getCoordinate(e){return this.get(e)}addAll(){if(2===arguments.length&&'boolean'==typeof arguments[1]&&Object(a.a)(arguments[0],i.a)){const e=arguments[0],t=arguments[1];let n=!1;for(let o=e.iterator();o.hasNext();)this.add(o.next(),t),n=!0;return n}return super.addAll.apply(this,arguments)}clone(){const e=super.clone.call(this);for(let t=0;t<this.size();t++)e.add(t,this.get(t).clone());return e}toCoordinateArray(){return this.toArray(d.coordArrayType)}add(){if(1===arguments.length){const e=arguments[0];super.add.call(this,e)}else if(2===arguments.length){if(arguments[0]instanceof Array&&'boolean'==typeof arguments[1]){const e=arguments[0],t=arguments[1];return this.add(e,t,!0),!0}if(arguments[0]instanceof r.a&&'boolean'==typeof arguments[1]){const e=arguments[0],t=arguments[1];if(!t&&1<=this.size()){const t=this.get(this.size()-1);if(t.equals2D(e))return null}super.add.call(this,e)}else if(arguments[0]instanceof Object&&'boolean'==typeof arguments[1]){const e=arguments[0],t=arguments[1];return this.add(e,t),!0}}else if(3===arguments.length){if('boolean'==typeof arguments[2]&&arguments[0]instanceof Array&&'boolean'==typeof arguments[1]){const e=arguments[0],t=arguments[1],n=arguments[2];if(n)for(let n=0;n<e.length;n++)this.add(e[n],t);else for(let n=e.length-1;0<=n;n--)this.add(e[n],t);return!0}if('boolean'==typeof arguments[2]&&o(arguments[0])&&arguments[1]instanceof r.a){const e=arguments[0],t=arguments[1],n=arguments[2];if(!n){const n=this.size();if(0<n){if(0<e){const n=this.get(e-1);if(n.equals2D(t))return null}if(e<n){const n=this.get(e);if(n.equals2D(t))return null}}}super.add.call(this,e,t)}}else if(4===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2],o=arguments[3];let a=1;n>o&&(a=-1);for(let r=n;r!==o;r+=a)this.add(e[r],t);return!0}}closeRing(){0<this.size()&&this.add(new r.a(this.get(0)),!1)}getClass(){return d}get interfaces_(){return[]}}t.a=d,d.constructor_=function(){if(0===arguments.length);else if(1===arguments.length){const e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){const e=arguments[0],t=arguments[1];this.ensureCapacity(e.length),this.add(e,t)}},d.coordArrayType=[].fill(null)},function(e,t){'use strict';function n(e){this.message=e||''}t.a=n;n.prototype=new Error,n.prototype.name='NoSuchElementException'},function(e,t){'use strict';class n{constructor(){n.constructor_.apply(this,arguments)}filter(){}getClass(){return n}get interfaces_(){return[]}}t.a=n,n.constructor_=function(){}},function(e,t){'use strict';function n(e){this.str=e}t.a=n,n.prototype.append=function(t){this.str+=t},n.prototype.setCharAt=function(e,t){this.str=this.str.substr(0,e)+t+this.str.substr(e+1)},n.prototype.toString=function(){return this.str}},function(e,t){'use strict';class n{constructor(){n.constructor_.apply(this,arguments)}static bufferDistanceError(e){return 1-l(s/2/e/2)}getEndCapStyle(){return this._endCapStyle}isSingleSided(){return this._isSingleSided}setQuadrantSegments(e){this._quadrantSegments=e,0===this._quadrantSegments&&(this._joinStyle=n.JOIN_BEVEL),0>this._quadrantSegments&&(this._joinStyle=n.JOIN_MITRE,this._mitreLimit=d(this._quadrantSegments)),0>=e&&(this._quadrantSegments=1),this._joinStyle!==n.JOIN_ROUND&&(this._quadrantSegments=n.DEFAULT_QUADRANT_SEGMENTS)}getJoinStyle(){return this._joinStyle}setJoinStyle(e){this._joinStyle=e}setSimplifyFactor(e){this._simplifyFactor=0>e?0:e}getSimplifyFactor(){return this._simplifyFactor}getQuadrantSegments(){return this._quadrantSegments}setEndCapStyle(e){this._endCapStyle=e}getMitreLimit(){return this._mitreLimit}setMitreLimit(e){this._mitreLimit=e}setSingleSided(e){this._isSingleSided=e}getClass(){return n}get interfaces_(){return[]}}t.a=n,n.constructor_=function(){if(this._quadrantSegments=n.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=n.CAP_ROUND,this._joinStyle=n.JOIN_ROUND,this._mitreLimit=n.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=n.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){const e=arguments[0];this.setQuadrantSegments(e)}else if(2===arguments.length){const e=arguments[0],t=arguments[1];this.setQuadrantSegments(e),this.setEndCapStyle(t)}else if(4===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2],o=arguments[3];this.setQuadrantSegments(e),this.setEndCapStyle(t),this.setJoinStyle(n),this.setMitreLimit(o)}},n.CAP_ROUND=1,n.CAP_FLAT=2,n.CAP_SQUARE=3,n.JOIN_ROUND=1,n.JOIN_MITRE=2,n.JOIN_BEVEL=3,n.DEFAULT_QUADRANT_SEGMENTS=8,n.DEFAULT_MITRE_LIMIT=5,n.DEFAULT_SIMPLIFY_FACTOR=0.01},function(e,t,n){'use strict';var o=n(9),a=n(3),i=n(1),r=n(33),s=n(40),d=n(193);class l{constructor(){l.constructor_.apply(this,arguments)}static isOnLine(){if(arguments[0]instanceof i.a&&Object(a.a)(arguments[1],r.a)){const e=arguments[0],t=arguments[1],o=new s.a,a=new i.a,r=new i.a,d=t.size();for(let n=1;n<d;n++)if(t.getCoordinate(n-1,a),t.getCoordinate(n,r),o.computeIntersection(e,a,r),o.hasIntersection())return!0;return!1}if(arguments[0]instanceof i.a&&arguments[1]instanceof Array){const e=arguments[0],t=arguments[1],n=new s.a;for(let o=1;o<t.length;o++){const a=t[o-1],i=t[o];if(n.computeIntersection(e,a,i),n.hasIntersection())return!0}return!1}}static locateInRing(e,t){return d.a.locatePointInRing(e,t)}static isInRing(e,t){return l.locateInRing(e,t)!==o.a.EXTERIOR}getClass(){return l}get interfaces_(){return[]}}t.a=l,l.constructor_=function(){}},function(e,t,n){'use strict';var o=n(192);class a extends o.a{constructor(){super(),a.constructor_.apply(this,arguments)}getClass(){return a}get interfaces_(){return[]}}t.a=a,a.constructor_=function(){o.a.constructor_.call(this,'Projective point not representable on the Cartesian plane.')}},function(e,t,n){'use strict';var o=n(107),a=n(1),i=n(20);class r{constructor(){r.constructor_.apply(this,arguments)}static intersection(e,t,n,r){const s=e.y-t.y,d=t.x-e.x,l=e.x*t.y-t.x*e.y,p=n.y-r.y,_=r.x-n.x,g=n.x*r.y-r.x*n.y,c=s*_-p*d,u=(d*g-_*l)/c,y=(p*l-s*g)/c;if(i.a.isNaN(u)||i.a.isInfinite(u)||i.a.isNaN(y)||i.a.isInfinite(y))throw new o.a;return new a.a(u,y)}getY(){const e=this.y/this.w;if(i.a.isNaN(e)||i.a.isInfinite(e))throw new o.a;return e}getX(){const e=this.x/this.w;if(i.a.isNaN(e)||i.a.isInfinite(e))throw new o.a;return e}getCoordinate(){const e=new a.a;return e.x=this.getX(),e.y=this.getY(),e}getClass(){return r}get interfaces_(){return[]}}t.a=r,r.constructor_=function(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){const e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if('number'==typeof arguments[0]&&'number'==typeof arguments[1]){const e=arguments[0],t=arguments[1];this.x=e,this.y=t,this.w=1}else if(arguments[0]instanceof r&&arguments[1]instanceof r){const e=arguments[0],t=arguments[1];this.x=e.y*t.w-t.y*e.w,this.y=t.x*e.w-e.x*t.w,this.w=e.x*t.y-t.x*e.y}else if(arguments[0]instanceof a.a&&arguments[1]instanceof a.a){const e=arguments[0],t=arguments[1];this.x=e.y-t.y,this.y=t.x-e.x,this.w=e.x*t.y-t.x*e.y}}else if(3===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2];this.x=e,this.y=t,this.w=n}else if(4===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2],o=arguments[3],a=e.y-t.y,i=t.x-e.x,r=e.x*t.y-t.x*e.y,s=n.y-o.y,d=o.x-n.x,l=n.x*o.y-o.x*n.y;this.x=i*l-d*r,this.y=s*r-a*l,this.w=a*d-s*i}}},function(e,t,n){'use strict';var o=n(6),a=n(127),i=n(22);class r{constructor(){r.constructor_.apply(this,arguments)}static segmentToSegment(e,t,n,o){if(e.equals(t))return r.pointToSegment(e,n,o);if(n.equals(o))return r.pointToSegment(o,e,t);let d=!1;if(!i.a.intersects(e,t,n,o))d=!0;else{const a=(t.x-e.x)*(o.y-n.y)-(t.y-e.y)*(o.x-n.x);if(0==a)d=!0;else{const i=(e.y-n.y)*(o.x-n.x)-(e.x-n.x)*(o.y-n.y),l=(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y),p=l/a,s=i/a;(0>s||1<s||0>p||1<p)&&(d=!0)}}return d?a.a.min(r.pointToSegment(e,n,o),r.pointToSegment(t,n,o),r.pointToSegment(n,e,t),r.pointToSegment(o,e,t)):0}static pointToSegment(e,t,n){if(t.x===n.x&&t.y===n.y)return e.distance(t);const o=(n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y),a=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/o;if(0>=a)return e.distance(t);if(1<=a)return e.distance(n);const i=((t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y))/o;return d(i)*T(o)}static pointToLinePerpendicular(e,t,n){const o=(n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y),a=((t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y))/o;return d(a)*T(o)}static pointToSegmentString(e,t){if(0===t.length)throw new o.a('Line array must contain at least one vertex');let n=e.distance(t[0]);for(let o=0;o<t.length-1;o++){const a=r.pointToSegment(e,t[o],t[o+1]);a<n&&(n=a)}return n}getClass(){return r}get interfaces_(){return[]}}t.a=r,r.constructor_=function(){}},function(e,t,n){'use strict';var o=n(9),a=n(1),i=n(111),r=n(324),s=n(18),d=n(196),l=n(28),p=n(0),_=n(85),g=n(197);class c{constructor(){c.constructor_.apply(this,arguments)}static linkResultDirectedEdges(e){for(let t=e.iterator();t.hasNext();){const e=t.next();e.getEdges().linkResultDirectedEdges()}}printEdges(t){t.println('Edges:');for(let n=0;n<this._edges.size();n++){t.println('edge '+n+':');const o=this._edges.get(n);o.print(t),o.eiList.print(t)}}find(e){return this._nodes.find(e)}addNode(){if(arguments[0]instanceof i.a){const e=arguments[0];return this._nodes.addNode(e)}if(arguments[0]instanceof a.a){const e=arguments[0];return this._nodes.addNode(e)}}getNodeIterator(){return this._nodes.iterator()}linkResultDirectedEdges(){for(let e=this._nodes.iterator();e.hasNext();){const t=e.next();t.getEdges().linkResultDirectedEdges()}}debugPrintln(e){l.a.out.println(e)}isBoundaryNode(e,t){const n=this._nodes.find(t);if(null===n)return!1;const a=n.getLabel();return null!==a&&a.getLocation(e)===o.a.BOUNDARY}linkAllDirectedEdges(){for(let e=this._nodes.iterator();e.hasNext();){const t=e.next();t.getEdges().linkAllDirectedEdges()}}matchInSameDirection(e,t,n,o){return!!e.equals(n)&&s.a.index(e,t,o)===s.a.COLLINEAR&&_.a.quadrant(e,t)===_.a.quadrant(n,o)}getEdgeEnds(){return this._edgeEndList}debugPrint(e){l.a.out.print(e)}getEdgeIterator(){return this._edges.iterator()}findEdgeInSameDirection(t,n){for(let o=0;o<this._edges.size();o++){const a=this._edges.get(o),e=a.getCoordinates();if(this.matchInSameDirection(t,n,e[0],e[1]))return a;if(this.matchInSameDirection(t,n,e[e.length-1],e[e.length-2]))return a}return null}insertEdge(t){this._edges.add(t)}findEdgeEnd(t){for(let e=this.getEdgeEnds().iterator();e.hasNext();){const n=e.next();if(n.getEdge()===t)return n}return null}addEdges(e){for(let t=e.iterator();t.hasNext();){const n=t.next();this._edges.add(n);const e=new d.a(n,!0),o=new d.a(n,!1);e.setSym(o),o.setSym(e),this.add(e),this.add(o)}}add(t){this._nodes.add(t),this._edgeEndList.add(t)}getNodes(){return this._nodes.values()}findEdge(t,n){for(let o=0;o<this._edges.size();o++){const a=this._edges.get(o),e=a.getCoordinates();if(t.equals(e[0])&&n.equals(e[1]))return a}return null}getClass(){return c}get interfaces_(){return[]}}t.a=c,c.constructor_=function(){if(this._edges=new p.a,this._nodes=null,this._edgeEndList=new p.a,0===arguments.length)this._nodes=new r.a(new g.a());else if(1===arguments.length){const e=arguments[0];this._nodes=new r.a(e)}}},function(e,t,n){'use strict';var a=n(9),i=n(29),r=n(195);class s extends r.a{constructor(){super(),s.constructor_.apply(this,arguments)}isIncidentEdgeInResult(){for(let e=this.getEdges().getEdges().iterator();e.hasNext();){const t=e.next();if(t.getEdge().isInResult())return!0}return!1}isIsolated(){return 1===this._label.getGeometryCount()}getCoordinate(){return this._coord}print(e){e.println('node '+this._coord+' lbl: '+this._label)}computeIM(){}computeMergedLocation(e,t){let n=a.a.NONE;if(n=this._label.getLocation(t),!e.isNull(t)){const o=e.getLocation(t);n!==a.a.BOUNDARY&&(n=o)}return n}setLabel(){if(2===arguments.length&&o(arguments[1])&&o(arguments[0])){const e=arguments[0],t=arguments[1];null===this._label?this._label=new i.a(e,t):this._label.setLocation(e,t)}else return super.setLabel.apply(this,arguments)}getEdges(){return this._edges}mergeLabel(){if(arguments[0]instanceof s){const e=arguments[0];this.mergeLabel(e._label)}else if(arguments[0]instanceof i.a){const e=arguments[0];for(let t=0;2>t;t++){const n=this.computeMergedLocation(e,t),o=this._label.getLocation(t);o===a.a.NONE&&this._label.setLocation(t,n)}}}add(t){this._edges.insert(t),t.setNode(this)}setLabelBoundary(e){if(null===this._label)return null;let t=a.a.NONE;null!==this._label&&(t=this._label.getLocation(e));let n=null;switch(t){case a.a.BOUNDARY:n=a.a.INTERIOR;break;case a.a.INTERIOR:n=a.a.BOUNDARY;break;default:n=a.a.BOUNDARY;}this._label.setLocation(e,n)}getClass(){return s}get interfaces_(){return[]}}t.a=s,s.constructor_=function(){this._coord=null,this._edges=null;const e=arguments[0],t=arguments[1];this._coord=e,this._edges=t,this._label=new i.a(0,a.a.NONE)}},function(e,t){'use strict';class n{constructor(){n.constructor_.apply(this,arguments)}visitItem(){}getClass(){return n}get interfaces_(){return[]}}t.a=n,n.constructor_=function(){}},function(e,t,n){'use strict';t.b=function(e){if(Array.isArray(e))for(var t=0,n=e.length;t<n;++t)Object(o.c)(e[t]);else Object(o.c)(e)};var o=n(30),a=n(88),i=n(8),r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),s=function(e){function t(){var t=e.call(this)||this;return t.revision_=0,t}return r(t,e),t.prototype.changed=function(){++this.revision_,this.dispatchEvent(i.a.CHANGE)},t.prototype.getRevision=function(){return this.revision_},t.prototype.on=function(e,t){if(Array.isArray(e)){for(var n=e.length,a=Array(n),r=0;r<n;++r)a[r]=Object(o.a)(this,e[r],t);return a}return Object(o.a)(this,e,t)},t.prototype.once=function(e,t){if(Array.isArray(e)){for(var n=e.length,a=Array(n),r=0;r<n;++r)a[r]=Object(o.b)(this,e[r],t);return a}return Object(o.b)(this,e,t)},t.prototype.un=function(e,t){if(Array.isArray(e))for(var n=0,o=e.length;n<o;++n)this.removeEventListener(e[n],t);else this.removeEventListener(e,t)},t}(a.a);t.a=s},function(e,t,n){'use strict';var o=n(74),a=function(){function e(e){this.code_=e.code,this.units_=e.units,this.extent_=void 0===e.extent?null:e.extent,this.worldExtent_=void 0===e.worldExtent?null:e.worldExtent,this.axisOrientation_=void 0===e.axisOrientation?'enu':e.axisOrientation,this.global_=void 0!==e.global&&e.global,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}return e.prototype.canWrapX=function(){return this.canWrapX_},e.prototype.getCode=function(){return this.code_},e.prototype.getExtent=function(){return this.extent_},e.prototype.getUnits=function(){return this.units_},e.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||o.a[this.units_]},e.prototype.getWorldExtent=function(){return this.worldExtent_},e.prototype.getAxisOrientation=function(){return this.axisOrientation_},e.prototype.isGlobal=function(){return this.global_},e.prototype.setGlobal=function(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)},e.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},e.prototype.setDefaultTileGrid=function(e){this.defaultTileGrid_=e},e.prototype.setExtent=function(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)},e.prototype.setWorldExtent=function(e){this.worldExtent_=e},e.prototype.setGetPointResolution=function(e){this.getPointResolutionFunc_=e},e.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},e}();t.a=a},function(e,t){'use strict';t.a={ADDFEATURE:'addfeature',CHANGEFEATURE:'changefeature',CLEAR:'clear',REMOVEFEATURE:'removefeature'}},function(e,t,n){'use strict';var o=n(7),a=n(146),i=n.n(a),r=n(2),s=n(14),d=function(){function e(e){this.rbush_=new i.a(e),this.items_={}}return e.prototype.insert=function(e,t){var n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(n),this.items_[Object(o.c)(t)]=n},e.prototype.load=function(e,t){for(var n=Array(t.length),a=0,i=t.length;a<i;a++){var r=e[a],s=t[a],d={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],value:s};n[a]=d,this.items_[Object(o.c)(s)]=d}this.rbush_.load(n)},e.prototype.remove=function(e){var t=Object(o.c)(e),n=this.items_[t];return delete this.items_[t],null!==this.rbush_.remove(n)},e.prototype.update=function(e,t){var n=this.items_[Object(o.c)(t)],a=[n.minX,n.minY,n.maxX,n.maxY];Object(r.o)(a,e)||(this.remove(t),this.insert(e,t))},e.prototype.getAll=function(){var e=this.rbush_.all();return e.map(function(e){return e.value})},e.prototype.getInExtent=function(e){var t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]},n=this.rbush_.search(t);return n.map(function(e){return e.value})},e.prototype.forEach=function(e){return this.forEach_(this.getAll(),e)},e.prototype.forEachInExtent=function(e,t){return this.forEach_(this.getInExtent(e),t)},e.prototype.forEach_=function(e,t){for(var n=0,o=e.length,a;n<o;n++)if(a=t(e[n]),a)return a;return a},e.prototype.isEmpty=function(){return Object(s.d)(this.items_)},e.prototype.clear=function(){this.rbush_.clear(),this.items_={}},e.prototype.getExtent=function(e){var t=this.rbush_.toJSON();return Object(r.j)(t.minX,t.minY,t.maxX,t.maxY,e)},e.prototype.concat=function(e){for(var t in this.rbush_.load(e.rbush_.all()),e.items_)this.items_[t]=e.items_[t]},e}();t.a=d},function(e,t,n){'use strict';var o=n(7),a=function(){function e(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale}return e.prototype.clone=function(){return new e({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getOpacity=function(){return this.opacity_},e.prototype.getRotateWithView=function(){return this.rotateWithView_},e.prototype.getRotation=function(){return this.rotation_},e.prototype.getScale=function(){return this.scale_},e.prototype.getAnchor=function(){return Object(o.b)()},e.prototype.getImage=function(){return Object(o.b)()},e.prototype.getHitDetectionImage=function(){return Object(o.b)()},e.prototype.getImageState=function(){return Object(o.b)()},e.prototype.getImageSize=function(){return Object(o.b)()},e.prototype.getHitDetectionImageSize=function(){return Object(o.b)()},e.prototype.getOrigin=function(){return Object(o.b)()},e.prototype.getSize=function(){return Object(o.b)()},e.prototype.setOpacity=function(e){this.opacity_=e},e.prototype.setRotateWithView=function(e){this.rotateWithView_=e},e.prototype.setRotation=function(e){this.rotation_=e},e.prototype.setScale=function(e){this.scale_=e},e.prototype.listenImageChange=function(){Object(o.b)()},e.prototype.load=function(){Object(o.b)()},e.prototype.unlistenImageChange=function(){Object(o.b)()},e}();t.a=a},function(e,t){'use strict';var n=function(){function e(e){var t=e||{};this.color_=void 0===t.color?null:t.color}return e.prototype.clone=function(){var t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0})},e.prototype.getColor=function(){return this.color_},e.prototype.setColor=function(e){this.color_=e},e}();t.a=n},function(e,t,n){'use strict';n.d(t,'b',function(){return a}),n.d(t,'e',function(){return r}),n.d(t,'d',function(){return s}),n.d(t,'a',function(){return d}),n.d(t,'c',function(){return l});var o='undefined'==typeof navigator?'':navigator.userAgent.toLowerCase(),a=-1!==o.indexOf('firefox'),i=-1!==o.indexOf('safari')&&-1==o.indexOf('chrom'),r=-1!==o.indexOf('webkit')&&-1==o.indexOf('edge'),s=-1!==o.indexOf('macintosh'),d=window.devicePixelRatio||1,l='undefined'!=typeof Image&&Image.prototype.decode},function(e,t,n){'use strict';var o=n(7),a=n(25),i=n(2),r=n(58),s=n(43),d=n(74),l=n(44),p=n(11),_=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),g=Object(l.c)(),c=function(e){function t(){var t=e.call(this)||this;return t.extent_=Object(i.i)(),t.extentRevision_=-1,t.simplifiedGeometryMaxMinSquaredTolerance=0,t.simplifiedGeometryRevision=0,t.simplifyTransformedInternal=Object(p.d)(function(e,t,n){if(!n)return this.getSimplifiedGeometry(t);var o=this.clone();return o.applyTransform(n),o.getSimplifiedGeometry(t)}),t}return _(t,e),t.prototype.simplifyTransformed=function(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)},t.prototype.clone=function(){return Object(o.b)()},t.prototype.closestPointXY=function(){return Object(o.b)()},t.prototype.containsXY=function(e,t){var n=this.getClosestPoint([e,t]);return n[0]===e&&n[1]===t},t.prototype.getClosestPoint=function(e,t){var n=t?t:[NaN,NaN];return this.closestPointXY(e[0],e[1],n,Infinity),n},t.prototype.intersectsCoordinate=function(e){return this.containsXY(e[0],e[1])},t.prototype.computeExtent=function(){return Object(o.b)()},t.prototype.getExtent=function(e){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),Object(i.D)(this.extent_,e)},t.prototype.rotate=function(){Object(o.b)()},t.prototype.scale=function(){Object(o.b)()},t.prototype.simplify=function(e){return this.getSimplifiedGeometry(e*e)},t.prototype.getSimplifiedGeometry=function(){return Object(o.b)()},t.prototype.getType=function(){return Object(o.b)()},t.prototype.applyTransform=function(){Object(o.b)()},t.prototype.intersectsExtent=function(){return Object(o.b)()},t.prototype.translate=function(){Object(o.b)()},t.prototype.transform=function(e,t){var n=Object(s.c)(e),o=n.getUnits()==d.b.TILE_PIXELS?function(e,o,a){var d=n.getExtent(),p=n.getWorldExtent(),_=Object(i.x)(p)/Object(i.x)(d);return Object(l.b)(g,p[0],p[3],_,-_,0,0,0),Object(r.c)(e,0,e.length,a,g,o),Object(s.d)(n,t)(e,o,a)}:Object(s.d)(n,t);return this.applyTransform(o),this},t}(a.a);t.a=c},function(e,t,n){'use strict';var o=n(10),a=n(2),i=n(59),r=n(5),s=n(31),d=n(75),l=n(37),p=n(46),_=n(155),g=n(94),c=n(157),u=n(156),y=n(60),m=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),h=function(e){function t(t,n){var o=e.call(this)||this;return o.flatMidpoint_=null,o.flatMidpointRevision_=-1,o.maxDelta_=-1,o.maxDeltaRevision_=-1,void 0===n||Array.isArray(t[0])?o.setCoordinates(t,n):o.setFlatCoordinates(n,t),o}return m(t,e),t.prototype.appendCoordinate=function(e){this.flatCoordinates?Object(o.c)(this.flatCoordinates,e):this.flatCoordinates=e.slice(),this.changed()},t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout)},t.prototype.closestPointXY=function(e,t,n,o){return o<Object(a.e)(this.getExtent(),e,t)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=T(Object(d.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(d.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,n,o))},t.prototype.forEachSegment=function(e){return Object(u.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},t.prototype.getCoordinateAtM=function(e,t){if(this.layout!=i.a.XYM&&this.layout!=i.a.XYZM)return null;return Object(_.b)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,void 0!==t&&t)},t.prototype.getCoordinates=function(){return Object(p.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getCoordinateAt=function(e,t){return Object(_.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t)},t.prototype.getLength=function(){return Object(c.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(0.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},t.prototype.getSimplifiedGeometryInternal=function(e){var n=[];return n.length=Object(y.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new t(n,i.a.XY)},t.prototype.getType=function(){return r.a.LINE_STRING},t.prototype.intersectsExtent=function(e){return Object(g.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(l.b)(this.flatCoordinates,0,e,this.stride),this.changed()},t}(s.a);t.a=h},function(e,t,n){'use strict';var o=n(10),a=n(2),i=n(5),r=n(47),s=n(31),d=n(37),l=n(46),p=n(15),_=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),g=function(e){function t(t,n){var o=e.call(this)||this;return n&&!Array.isArray(t[0])?o.setFlatCoordinates(n,t):o.setCoordinates(t,n),o}return _(t,e),t.prototype.appendPoint=function(e){this.flatCoordinates?Object(o.c)(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()},t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout);return e},t.prototype.closestPointXY=function(e,t,n,o){if(o<Object(a.e)(this.getExtent(),e,t))return o;for(var r=this.flatCoordinates,s=this.stride,d=0,i=r.length,l;d<i;d+=s)if(l=Object(p.e)(e,t,r[d],r[d+1]),l<o){o=l;for(var _=0;_<s;++_)n[_]=r[d+_];n.length=s}return o},t.prototype.getCoordinates=function(){return Object(l.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getPoint=function(e){var t=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return 0>e||t<=e?null:new r.a(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)},t.prototype.getPoints=function(){for(var e=this.flatCoordinates,t=this.layout,n=this.stride,o=[],a=0,i=e.length,s;a<i;a+=n)s=new r.a(e.slice(a,a+n),t),o.push(s);return o},t.prototype.getType=function(){return i.a.MULTI_POINT},t.prototype.intersectsExtent=function(e){for(var t=this.flatCoordinates,n=this.stride,o=0,i=t.length;o<i;o+=n){var r=t[o],s=t[o+1];if(Object(a.g)(e,r,s))return!0}return!1},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(d.b)(this.flatCoordinates,0,e,this.stride),this.changed()},t}(s.a);t.a=g},function(e,t){'use strict';function n(e,t,n,o){for(var a=0,i=e[n-o],r=e[n-o+1];t<n;t+=o){var s=e[t],d=e[t+1];a+=r*s-i*d,i=s,r=d}return a/2}function o(e,t,o,a){for(var r=0,s=0,i=o.length,d;s<i;++s)d=o[s],r+=n(e,t,d,a),t=d;return r}t.a=n,t.b=o,t.c=function(e,t,n,a){for(var r=0,s=0,i=n.length,d;s<i;++s)d=n[s],r+=o(e,t,d,a),t=d[d.length-1];return r}},function(e,t,n){'use strict';var o=n(54),a=n(266),i=n(167),r=n(168),s=n(169),d=n(171),l=n(173),p=n(174),_=n(175),g=n(176),c=n(177),u=n(16),y=n(270),m=n(172),h=n(271),f=n(272);n.d(t,'a',function(){return f.a});var x=n(276),I=n(32),E=n(277);n.d(t,'b',function(){return E.a});var C=n(19);n.d(t,'c',function(){return C.b});var T=n(278),N=n(279);n.d(t,'d',function(){return N.a});n(280)},function(e,t){'use strict';function n(e){return I(e,3)}t.a=function(e){return 1-n(1-e)},t.b=function(e){return e}},function(e,t){'use strict';t.a={ACTIVE:'active'}},function(e,t,n){'use strict';var a=n(20);class i{constructor(){i.constructor_.apply(this,arguments)}static log10(e){const t=_(e);return a.a.isInfinite(t)?t:a.a.isNaN(t)?t:t/i.LOG_10}static min(e,t,n,o){let a=e;return t<a&&(a=t),n<a&&(a=n),o<a&&(a=o),a}static clamp(){if('number'==typeof arguments[2]&&'number'==typeof arguments[0]&&'number'==typeof arguments[1]){const e=arguments[0],t=arguments[1],n=arguments[2];return e<t?t:e>n?n:e}if(o(arguments[2])&&o(arguments[0])&&o(arguments[1])){const e=arguments[0],t=arguments[1],n=arguments[2];return e<t?t:e>n?n:e}}static wrap(e,t){return 0>e?t- -e%t:e%t}static max(){if(3===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2];let o=e;return t>o&&(o=t),n>o&&(o=n),o}if(4===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2],o=arguments[3];let a=e;return t>a&&(a=t),n>a&&(a=n),o>a&&(a=o),a}}static average(e,t){return(e+t)/2}getClass(){return i}get interfaces_(){return[]}}t.a=i,i.constructor_=function(){},i.LOG_10=2.302585092994046},function(e,t,n){'use strict';function o(){this.array_=[],arguments[0]instanceof a.a&&this.addAll(arguments[0])}t.a=o;var a=n(34),i=n(102),r=n(183),s=n(184);o.prototype=new s.a,o.prototype.contains=function(t){for(let n=0,e=this.array_.length;n<e;n++){const o=this.array_[n];if(o===t)return!0}return!1},o.prototype.add=function(e){return!this.contains(e)&&(this.array_.push(e),!0)},o.prototype.addAll=function(e){for(let t=e.iterator();t.hasNext();)this.add(t.next());return!0},o.prototype.remove=function(){throw new r.a},o.prototype.size=function(){return this.array_.length},o.prototype.isEmpty=function(){return 0===this.array_.length},o.prototype.toArray=function(){const e=[];for(let t=0,n=this.array_.length;t<n;t++)e.push(this.array_[t]);return e},o.prototype.iterator=function(){return new d(this)};const d=function(e){this.hashSet_=e,this.position_=0};d.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new i.a;return this.hashSet_.array_[this.position_++]},d.prototype.hasNext=function(){return!!(this.position_<this.hashSet_.size())},d.prototype.remove=function(){throw new r.a}},function(e,t,n){'use strict';function o(){}t.a=o;var a=n(0);o.sort=function(){const e=arguments[0];let n,o,t,a;if(1===arguments.length)a=function(e,t){return e.compareTo(t)},e.sort(a);else if(2===arguments.length)t=arguments[1],a=function(e,n){return t.compare(e,n)},e.sort(a);else if(3===arguments.length){o=e.slice(arguments[1],arguments[2]),o.sort();const t=e.slice(0,arguments[1]).concat(o,e.slice(arguments[2],e.length));for(e.splice(0,e.length),n=0;n<t.length;n++)e.push(t[n])}else if(4===arguments.length){o=e.slice(arguments[1],arguments[2]),t=arguments[3],a=function(e,n){return t.compare(e,n)},o.sort(a);const i=e.slice(0,arguments[1]).concat(o,e.slice(arguments[2],e.length));for(e.splice(0,e.length),n=0;n<i.length;n++)e.push(i[n])}},o.asList=function(e){const t=new a.a;for(let n=0,o=e.length;n<o;n++)t.add(e[n]);return t}},function(e,t,n){'use strict';var o=n(3),a=n(300),r=n(20),i=n(33),s=n(81);class d{constructor(){d.constructor_.apply(this,arguments)}static copyCoord(e,t,n,o){const a=C(e.getDimension(),n.getDimension());for(let i=0;i<a;i++)n.setOrdinate(o,i,e.getOrdinate(t,i))}static isRing(e){const t=e.size();return!(0!==t)||!(3>=t)&&e.getOrdinate(0,i.a.X)===e.getOrdinate(t-1,i.a.X)&&e.getOrdinate(0,i.a.Y)===e.getOrdinate(t-1,i.a.Y)}static isEqual(e,t){const n=e.size(),o=t.size();if(n!==o)return!1;const a=C(e.getDimension(),t.getDimension());for(let o=0;o<n;o++)for(let n=0;n<a;n++){const a=e.getOrdinate(o,n),i=t.getOrdinate(o,n);if(e.getOrdinate(o,n)!==t.getOrdinate(o,n)&&!(r.a.isNaN(a)&&r.a.isNaN(i)))return!1}return!0}static extend(e,t,o){const a=e.create(o,t.getDimension()),r=t.size();if(d.copy(t,0,a,0,r),0<r)for(let e=r;e<o;e++)d.copy(t,r-1,a,e,1);return a}static reverse(e){const t=e.size()-1,n=c(t/2);for(let o=0;o<=n;o++)d.swap(e,o,t-o)}static swap(e,t,n){if(t===n)return null;for(let o=0;o<e.getDimension();o++){const a=e.getOrdinate(t,o);e.setOrdinate(t,o,e.getOrdinate(n,o)),e.setOrdinate(n,o,a)}}static copy(e,t,n,o,a){for(let r=0;r<a;r++)d.copyCoord(e,t+r,n,o+r)}static toString(){if(1===arguments.length&&Object(o.a)(arguments[0],i.a)){const e=arguments[0],t=e.size();if(0===t)return'()';const n=e.getDimension(),o=new s.a;o.append('(');for(let r=0;r<t;r++){0<r&&o.append(' ');for(let t=0;t<n;t++)0<t&&o.append(','),o.append(a.a.toString(e.getOrdinate(r,t)))}return o.append(')'),o.toString()}}static ensureValidRing(e,t){const o=t.size();if(0===o)return t;if(3>=o)return d.createClosedRing(e,t,4);const n=t.getOrdinate(0,i.a.X)===t.getOrdinate(o-1,i.a.X)&&t.getOrdinate(0,i.a.Y)===t.getOrdinate(o-1,i.a.Y);return n?t:d.createClosedRing(e,t,o+1)}static createClosedRing(e,t,o){const a=e.create(o,t.getDimension()),r=t.size();d.copy(t,0,a,0,r);for(let n=r;n<o;n++)d.copy(t,0,a,n,1);return a}getClass(){return d}get interfaces_(){return[]}}t.a=d,d.constructor_=function(){}},function(e,t,n){'use strict';var a=n(3),r=n(1),i=n(6),s=n(20),d=n(33),l=n(21),p=n(81);class _{constructor(){_.constructor_.apply(this,arguments)}setOrdinate(e,t,n){switch(t){case d.a.X:this._coordinates[e].x=n;break;case d.a.Y:this._coordinates[e].y=n;break;case d.a.Z:this._coordinates[e].z=n;break;default:throw new i.a('invalid ordinateIndex');}}size(){return this._coordinates.length}getOrdinate(e,t){return t===d.a.X?this._coordinates[e].x:t===d.a.Y?this._coordinates[e].y:t===d.a.Z?this._coordinates[e].z:s.a.NaN}getCoordinate(){if(1===arguments.length){const e=arguments[0];return this._coordinates[e]}if(2===arguments.length){const e=arguments[0],t=arguments[1];t.x=this._coordinates[e].x,t.y=this._coordinates[e].y,t.z=this._coordinates[e].z}}getCoordinateCopy(e){return new r.a(this._coordinates[e])}getDimension(){return this._dimension}getX(e){return this._coordinates[e].x}expandEnvelope(e){for(let t=0;t<this._coordinates.length;t++)e.expandToInclude(this._coordinates[t]);return e}copy(){const e=Array(this.size()).fill(null);for(let t=0;t<this._coordinates.length;t++)e[t]=this._coordinates[t].copy();return new _(e,this._dimension)}toString(){if(0<this._coordinates.length){const e=new p.a(17*this._coordinates.length);e.append('('),e.append(this._coordinates[0]);for(let t=1;t<this._coordinates.length;t++)e.append(', '),e.append(this._coordinates[t]);return e.append(')'),e.toString()}return'()'}getY(e){return this._coordinates[e].y}toCoordinateArray(){return this._coordinates}getClass(){return _}get interfaces_(){return[d.a,l.a]}}t.a=_,_.constructor_=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array){const e=arguments[0];_.constructor_.call(this,e,3)}else if(o(arguments[0])){const e=arguments[0];this._coordinates=Array(e).fill(null);for(let t=0;t<e;t++)this._coordinates[t]=new r.a}else if(Object(a.a)(arguments[0],d.a)){const e=arguments[0];if(null===e)return this._coordinates=[].fill(null),null;this._dimension=e.getDimension(),this._coordinates=Array(e.size()).fill(null);for(let t=0;t<this._coordinates.length;t++)this._coordinates[t]=e.getCoordinateCopy(t)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&o(arguments[1])){const e=arguments[0],t=arguments[1];this._coordinates=e,this._dimension=t,null===e&&(this._coordinates=[].fill(null))}else if(o(arguments[0])&&o(arguments[1])){const e=arguments[0],t=arguments[1];this._coordinates=Array(e).fill(null),this._dimension=t;for(let t=0;t<e;t++)this._coordinates[t]=new r.a}},_.serialVersionUID=-915438501601840600},function(e,t,o){'use strict';var a=o(190),i=o(1),r=o(20),s=o(82),l=o(17),p=o(21);class g{constructor(){g.constructor_.apply(this,arguments)}static mostPrecise(e,t){return 0<=e.compareTo(t)?e:t}equals(e){if(!(e instanceof g))return!1;const t=e;return this._modelType===t._modelType&&this._scale===t._scale}compareTo(e){const t=this.getMaximumSignificantDigits(),n=e.getMaximumSignificantDigits();return new s.a(t).compareTo(new s.a(n))}getScale(){return this._scale}isFloating(){return this._modelType===g.FLOATING||this._modelType===g.FLOATING_SINGLE}getType(){return this._modelType}toString(){let e='UNKNOWN';return this._modelType===g.FLOATING?e='Floating':this._modelType===g.FLOATING_SINGLE?e='Floating-Single':this._modelType===g.FIXED&&(e='Fixed (Scale='+this.getScale()+')'),e}makePrecise(){if('number'==typeof arguments[0]){const e=arguments[0];if(r.a.isNaN(e))return e;if(this._modelType===g.FLOATING_SINGLE){return e}return this._modelType===g.FIXED?n(e*this._scale)/this._scale:e}if(arguments[0]instanceof i.a){const e=arguments[0];if(this._modelType===g.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}}getMaximumSignificantDigits(){let e=16;return this._modelType===g.FLOATING?e=16:this._modelType===g.FLOATING_SINGLE?e=6:this._modelType===g.FIXED&&(e=1+c(y(_(this.getScale())/2.302585092994046))),e}setScale(e){this._scale=d(e)}getClass(){return g}get interfaces_(){return[p.a,l.a]}}t.a=g;class u{constructor(){u.constructor_.apply(this,arguments)}readResolve(){return u.nameToTypeMap.get(this._name)}toString(){return this._name}getClass(){return u}get interfaces_(){return[p.a]}}u.constructor_=function(){this._name=null;const e=arguments[0];this._name=e,u.nameToTypeMap.put(e,this)},u.serialVersionUID=-5528602631731590000,u.nameToTypeMap=new a.a,g.Type=u,g.constructor_=function(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=g.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof u){const e=arguments[0];this._modelType=e,e===g.FIXED&&this.setScale(1)}else if('number'==typeof arguments[0]){const e=arguments[0];this._modelType=g.FIXED,this.setScale(e)}else if(arguments[0]instanceof g){const e=arguments[0];this._modelType=e._modelType,this._scale=e._scale}},g.serialVersionUID=7777263578777804000,g.FIXED=new u('FIXED'),g.FLOATING=new u('FLOATING'),g.FLOATING_SINGLE=new u('FLOATING SINGLE'),g.maximumPreciseValue=9007199254740992},function(e,t,n){'use strict';var o=n(326),a=n(86),i=n(336),r=n(337),s=n(0),d=n(338);class l extends d.a{constructor(){super(),l.constructor_.apply(this,arguments)}getMonotoneChains(){return this._monoChains}getNodedSubstrings(){return a.a.getNodedSubstrings(this._nodedSegStrings)}getIndex(){return this._index}add(e){const t=r.a.getChains(e.getCoordinates(),e);for(let n=t.iterator();n.hasNext();){const e=n.next();e.setId(this._idCounter++),this._index.insert(e.getEnvelope(),e),this._monoChains.add(e)}}computeNodes(e){this._nodedSegStrings=e;for(let t=e.iterator();t.hasNext();)this.add(t.next());this.intersectChains()}intersectChains(){const e=new p(this._segInt);for(let t=this._monoChains.iterator();t.hasNext();){const n=t.next(),o=this._index.query(n.getEnvelope());for(let t=o.iterator();t.hasNext();){const o=t.next();if(o.getId()>n.getId()&&(n.computeOverlaps(o,e),this._nOverlaps++),this._segInt.isDone())return null}}}getClass(){return l}get interfaces_(){return[]}}t.a=l;class p extends i.a{constructor(){super(),p.constructor_.apply(this,arguments)}overlap(){if(4===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2],o=arguments[3],a=e.getContext(),i=n.getContext();this._si.processIntersections(a,t,i,o)}else return super.overlap.apply(this,arguments)}getClass(){return p}get interfaces_(){return[]}}p.constructor_=function(){this._si=null;const e=arguments[0];this._si=e},l.SegmentOverlapAction=p,l.constructor_=function(){if(this._monoChains=new s.a,this._index=new o.a,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,0===arguments.length);else if(1===arguments.length){const e=arguments[0];d.a.constructor_.call(this,e)}}},function(e,t,n){'use strict';var o=n(199),a=n(0),i=n(21),r=n(4);class s{constructor(){s.constructor_.apply(this,arguments)}getLevel(){return this._level}size(){return this._childBoundables.size()}getChildBoundables(){return this._childBoundables}addChildBoundable(e){r.a.isTrue(null===this._bounds),this._childBoundables.add(e)}isEmpty(){return this._childBoundables.isEmpty()}getBounds(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds}getClass(){return s}get interfaces_(){return[o.a,i.a]}}t.a=s,s.constructor_=function(){if(this._childBoundables=new a.a,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){const e=arguments[0];this._level=e}},s.serialVersionUID=6493722185909574000},function(e,t){'use strict';class n{constructor(){n.constructor_.apply(this,arguments)}computeNodes(){}getNodedSubstrings(){}getClass(){return n}get interfaces_(){return[]}}t.a=n,n.constructor_=function(){}},function(e,t){'use strict';class n{constructor(){n.constructor_.apply(this,arguments)}processIntersections(){}isDone(){}getClass(){return n}get interfaces_(){return[]}}t.a=n,n.constructor_=function(){}},function(e,t,n){'use strict';var o=n(351),a=n(353),i=n(354),r=n(12),s=n(1),d=n(29),l=n(22),p=n(81),_=n(356),g=n(195);class c extends g.a{constructor(){super(),c.constructor_.apply(this,arguments)}static updateIM(){if(2===arguments.length&&arguments[1]instanceof a.a&&arguments[0]instanceof d.a){const e=arguments[0],t=arguments[1];t.setAtLeastIfValid(e.getLocation(0,r.a.ON),e.getLocation(1,r.a.ON),1),e.isArea()&&(t.setAtLeastIfValid(e.getLocation(0,r.a.LEFT),e.getLocation(1,r.a.LEFT),2),t.setAtLeastIfValid(e.getLocation(0,r.a.RIGHT),e.getLocation(1,r.a.RIGHT),2))}else return super.updateIM.apply(this,arguments)}getDepth(){return this._depth}getCollapsedEdge(){const e=[,,].fill(null);e[0]=this.pts[0],e[1]=this.pts[1];const t=new c(e,d.a.toLineLabel(this._label));return t}isIsolated(){return this._isIsolated}getCoordinates(){return this.pts}setIsolated(e){this._isIsolated=e}setName(e){this._name=e}equals(t){if(!(t instanceof c))return!1;const n=t;if(this.pts.length!==n.pts.length)return!1;let e=!0,o=!0,a=this.pts.length;for(let r=0;r<this.pts.length;r++)if(this.pts[r].equals2D(n.pts[r])||(e=!1),this.pts[r].equals2D(n.pts[--a])||(o=!1),!e&&!o)return!1;return!0}getCoordinate(){if(0===arguments.length)return 0<this.pts.length?this.pts[0]:null;if(1===arguments.length){const e=arguments[0];return this.pts[e]}}print(e){e.print('edge '+this._name+': '),e.print('LINESTRING (');for(let t=0;t<this.pts.length;t++)0<t&&e.print(','),e.print(this.pts[t].x+' '+this.pts[t].y);e.print(')  '+this._label+' '+this._depthDelta)}computeIM(e){c.updateIM(this._label,e)}isCollapsed(){return!!this._label.isArea()&&!(3!==this.pts.length)&&!!this.pts[0].equals(this.pts[2])}isClosed(){return this.pts[0].equals(this.pts[this.pts.length-1])}getMaximumSegmentIndex(){return this.pts.length-1}getDepthDelta(){return this._depthDelta}getNumPoints(){return this.pts.length}printReverse(e){e.print('edge '+this._name+': ');for(let t=this.pts.length-1;0<=t;t--)e.print(this.pts[t]+' ');e.println('')}getMonotoneChainEdge(){return null===this._mce&&(this._mce=new i.a(this)),this._mce}getEnvelope(){if(null===this._env){this._env=new l.a;for(let e=0;e<this.pts.length;e++)this._env.expandToInclude(this.pts[e])}return this._env}addIntersection(e,t,n,o){const a=new s.a(e.getIntersection(o));let i=t,r=e.getEdgeDistance(n,o);const d=i+1;if(d<this.pts.length){const e=this.pts[d];a.equals2D(e)&&(i=d,r=0)}this.eiList.add(a,i,r)}toString(){const e=new p.a;e.append('edge '+this._name+': '),e.append('LINESTRING (');for(let t=0;t<this.pts.length;t++)0<t&&e.append(','),e.append(this.pts[t].x+' '+this.pts[t].y);return e.append(')  '+this._label+' '+this._depthDelta),e.toString()}isPointwiseEqual(t){if(this.pts.length!==t.pts.length)return!1;for(let e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0}setDepthDelta(e){this._depthDelta=e}getEdgeIntersectionList(){return this.eiList}addIntersections(e,t,n){for(let o=0;o<e.getIntersectionNum();o++)this.addIntersection(e,t,n,o)}getClass(){return c}get interfaces_(){return[]}}t.a=c,c.constructor_=function(){if(this.pts=null,this._env=null,this.eiList=new o.a(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new _.a,this._depthDelta=0,1===arguments.length){const e=arguments[0];c.constructor_.call(this,e,null)}else if(2===arguments.length){const e=arguments[0],t=arguments[1];this.pts=e,this._label=t}}},function(e,t,n){'use strict';var o=n(365),a=n(87);n.d(t,'a',function(){return a.a})},function(e,t,n){'use strict';var o=n(71),a=n(1),i=n(20),r=n(99);class s{constructor(){s.constructor_.apply(this,arguments)}getMin(){return this._min}intersects(e,t){return this._min>t||this._max<e?!1:!0}getMax(){return this._max}toString(){return o.a.toLineString(new a.a(this._min,0),new a.a(this._max,0))}getClass(){return s}get interfaces_(){return[]}}t.a=s;class d{constructor(){d.constructor_.apply(this,arguments)}compare(e,t){const n=e,o=t,a=(n._min+n._max)/2,i=(o._min+o._max)/2;return a<i?-1:a>i?1:0}getClass(){return d}get interfaces_(){return[r.a]}}d.constructor_=function(){},s.NodeComparator=d,s.constructor_=function(){this._min=i.a.POSITIVE_INFINITY,this._max=i.a.NEGATIVE_INFINITY}},function(e,t,n){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=n(97),s=n(41),d=n(391),l=n(209),p=n.n(l),_=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var o in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},g=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(a===void 0){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if('value'in a)return a.value;var r=a.get;return void 0===r?void 0:r.call(o)},u=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,_({title:'TopoloyOp',className:'ole-control-topology',image:p.a},e)));return n.selectInteraction=new r.Select({toggleCondition:function(){return!0},layers:n.layerFilter,hitTolerance:void 0===e.hitTolerance?10:e.hitTolerance,multi:!0,style:e.style}),n.selectInteraction.on('select',function(){var e=n.selectInteraction.getFeatures();try{n.applyTopologyOperation(e.getArray())}catch(t){d.a.logError('Unable to process features.'),e.clear()}}),n}return i(t,e),g(t,[{key:'applyTopologyOperation',value:function(e){this.topologyFeatures=e}},{key:'activate',value:function(){this.map.addInteraction(this.selectInteraction),this.addedFeatures=[],c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'activate',this).call(this)}},{key:'deactivate',value:function(e){this.addedFeatures=[],this.map.removeInteraction(this.selectInteraction),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'deactivate',this).call(this,e)}}]),t}(s.a);t.a=u},function(e,t,n){'use strict';var o=n(7),a=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=function(e){function t(t){var n=this,a='latest'===o.a?o.a:'v'+o.a.split('-')[0],i='Assertion failed. See https://openlayers.org/en/'+a+'/doc/errors/#'+t+' for details.';return n=e.call(this,i)||this,n.code=t,n.name='AssertionError',n.message=i,n}return a(t,e),t}(Error);t.a=i},function(e,t){'use strict';t.a={PROPERTYCHANGE:'propertychange'}},function(e,t,n){'use strict';var o=n(11),a=n(219),i=n(25),r=n(35),s=n(30),d=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l=function(e){function t(t){var n=e.call(this)||this;return n.element=t.element?t.element:null,n.target_=null,n.map_=null,n.listenerKeys=[],n.render=t.render?t.render:o.c,t.target&&n.setTarget(t.target),n}return d(t,e),t.prototype.disposeInternal=function(){Object(r.b)(this.element),e.prototype.disposeInternal.call(this)},t.prototype.getMap=function(){return this.map_},t.prototype.setMap=function(e){this.map_&&Object(r.b)(this.element);for(var t=0,n=this.listenerKeys.length;t<n;++t)Object(s.c)(this.listenerKeys[t]);if(this.listenerKeys.length=0,this.map_=e,this.map_){var i=this.target_?this.target_:e.getOverlayContainerStopEvent();i.appendChild(this.element),this.render!==o.c&&this.listenerKeys.push(Object(s.a)(e,a.a.POSTRENDER,this.render,this)),e.render()}},t.prototype.setTarget=function(e){this.target_='string'==typeof e?document.getElementById(e):e},t}(i.a);t.a=l},function(e,t){'use strict';t.a={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},function(e,n,o){'use strict';n.a=function(e,n,o){var d=Object(i.h)(e[1]),p=Object(i.h)(n[1]),_=(p-d)/2,g=Object(i.h)(n[0]-e[0])/2,c=r(_)*r(_)+r(g)*r(g)*l(d)*l(p);return 2*(o||s)*t(T(c),T(1-c))},n.b=function(e,n,o,a){var d=Object(i.h)(e[1]),p=Object(i.h)(e[0]),_=n/(a||s),g=Math.asin(r(d)*l(_)+l(d)*r(_)*l(o)),c=p+t(r(o)*r(_)*l(d),l(_)-r(d)*r(g));return[Object(i.g)(c),Object(i.g)(g)]};var i=o(15),a=o(5),s=6371008.8;/**
 * @license
 * Latitude/longitude spherical geodesy formulae taken from
 * http://www.movable-type.co.uk/scripts/latlong.html
 * Licensed under CC-BY-3.0.
 */},function(e){!function(n,t){e.exports=t()}(this,function(){'use strict';function x(n,o,r,e,a){!function i(t,n,r,e,a){for(;e>r;){if(600<e-r){var y=e-r+1,o=n-r+1,s=_(y),l=.5*g(2*s/3),h=.5*T(s*l*(y-l)/y)*(0>o-y/2?-1:1),u=E(r,p(n-o*l/y+h)),m=C(e,p(n+(y-o)*l/y+h));i(t,n,u,m,a)}var c=t[n],f=r,d=e;for(N(t,r,n),0<a(t[e],c)&&N(t,r,e);f<d;){for(N(t,f,d),f++,d--;0>a(t[f],c);)f++;for(;0<a(t[d],c);)d--}0===a(t[r],c)?N(t,r,d):N(t,++d,e),d<=n&&(r=d+1),n<=d&&(e=d-1)}}(n,o,r||0,e||n.length-1,a||i)}function N(e,t,o){var n=e[t];e[t]=e[o],e[o]=n}function i(e,t){return e<t?-1:e>t?1:0}function n(e,t,o){if(!o)return t.indexOf(e);for(var a=0;a<t.length;a++)if(o(e,t[a]))return a;return-1}function S(e,t){L(e,0,e.children.length,t,e)}function L(o,t,i,n,r){r||(r=P(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var e=t,a;e<i;e++)a=o.children[e],O(r,o.leaf?n(a):a);return r}function O(e,t){return e.minX=C(e.minX,t.minX),e.minY=C(e.minY,t.minY),e.maxX=E(e.maxX,t.maxX),e.maxY=E(e.maxY,t.maxY),e}function o(e,t){return e.minX-t.minX}function a(e,t){return e.minY-t.minY}function R(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function h(e){return e.maxX-e.minX+(e.maxY-e.minY)}function u(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function s(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function P(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function b(t,i,n,r,e){for(var a=[i,n];a.length;)if(!((n=a.pop())-(i=a.pop())<=r)){var s=i+y((n-i)/r/2)*r;x(t,s,i,n,e),a.push(i,s,s,n)}}var e=function(e){void 0===e&&(e=9),this._maxEntries=E(4,e),this._minEntries=E(2,y(.4*this._maxEntries)),this.clear()};return e.prototype.all=function(){return this._all(this.data,[])},e.prototype.search=function(d){var t=this.data,i=[];if(!s(d,t))return i;for(var n=this.toBBox,r=[];t;){for(var e=0;e<t.children.length;e++){var a=t.children[e],l=t.leaf?n(a):a;s(d,l)&&(t.leaf?i.push(a):u(d,l)?this._all(a,i):r.push(a))}t=r.pop()}return i},e.prototype.collides=function(o){var t=this.data;if(!s(o,t))return!1;for(var i=[];t;){for(var n=0;n<t.children.length;n++){var r=t.children[n],e=t.leaf?this.toBBox(r):r;if(s(o,e)){if(t.leaf||u(o,e))return!0;i.push(r)}}t=i.pop()}return!1},e.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var o=0;o<e.length;o++)this.insert(e[o]);return this}var a=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=a;else if(this.data.height===a.height)this._splitRoot(this.data,a);else{if(this.data.height<a.height){var n=this.data;this.data=a,a=n}this._insert(a,this.data.height-a.height-1,!0)}return this},e.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},e.prototype.clear=function(){return this.data=P([]),this},e.prototype.remove=function(e,d){if(!e)return this;for(var i=this.data,p=this.toBBox(e),o=[],s=[],l,_,r;i||o.length;){if(i||(i=o.pop(),_=o[o.length-1],l=s.pop(),r=!0),i.leaf){var a=n(e,i.children,d);if(-1!==a)return i.children.splice(a,1),o.push(i),this._condense(o),this}r||i.leaf||!u(i,p)?_?(l++,i=_.children[l],r=!1):i=null:(o.push(i),s.push(l),l=0,_=i,i=i.children[0])}return this},e.prototype.toBBox=function(e){return e},e.prototype.compareMinX=function(e,t){return e.minX-t.minX},e.prototype.compareMinY=function(e,t){return e.minY-t.minY},e.prototype.toJSON=function(){return this.data},e.prototype.fromJSON=function(e){return this.data=e,this},e.prototype._all=function(e,t){for(var o=[];e;)e.leaf?t.push.apply(t,e.children):o.push.apply(o,e.children),e=o.pop();return t},e.prototype._build=function(a,t,i,n){var r=i-t+1,d=this._maxEntries,o;if(r<=d)return S(o=P(a.slice(t,i+1)),this.toBBox),o;n||(n=y(_(r)/_(d)),d=y(r/I(d,n-1))),(o=P([])).leaf=!1,o.height=n;var e=y(r/d),s=e*y(T(d));b(a,t,i,s,this.compareMinX);for(var l=t,p;l<=i;l+=s){p=C(l+s-1,i),b(a,l,p,e,this.compareMinY);for(var g=l,u;g<=p;g+=e)u=C(g+e-1,p),o.children.push(this._build(a,g,u,n-1))}return S(o,this.toBBox),o},e.prototype._chooseSubtree=function(d,t,i,n){for(;n.push(t),!t.leaf&&n.length-1!==i;){for(var r=1/0,e=1/0,a=void 0,p=0;p<t.children.length;p++){var o=t.children[p],s=R(o),l=(_=d,g=o,(E(g.maxX,_.maxX)-C(g.minX,_.minX))*(E(g.maxY,_.maxY)-C(g.minY,_.minY))-s);l<e?(e=l,r=s<r?s:r,a=o):l==e&&s<r&&(r=s,a=o)}t=a||t.children[0]}var _,g;return t},e.prototype._insert=function(o,t,i){var n=i?o:this.toBBox(o),r=[],e=this._chooseSubtree(n,this.data,t,r);for(e.children.push(o),O(e,n);0<=t&&r[t].children.length>this._maxEntries;)this._split(r,t),t--;this._adjustParentBBoxes(n,r,t)},e.prototype._split=function(a,t){var i=a[t],n=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,n);var e=this._chooseSplitIndex(i,r,n),s=P(i.children.splice(e,i.children.length-e));s.height=i.height,s.leaf=i.leaf,S(i,this.toBBox),S(s,this.toBBox),t?a[t-1].children.push(s):this._splitRoot(i,s)},e.prototype._splitRoot=function(e,t){this.data=P([e,t]),this.data.height=e.height+1,this.data.leaf=!1,S(this.data,this.toBBox)},e.prototype._chooseSplitIndex=function(_,t,i){for(var n=1/0,g=1/0,c=t,p,r,e,a,o,s,l;c<=i-t;c++){var u=L(_,0,c,this.toBBox),d=L(_,c,i,this.toBBox),y=(r=u,e=d,a=void 0,o=void 0,s=void 0,l=void 0,a=E(r.minX,e.minX),o=E(r.minY,e.minY),s=C(r.maxX,e.maxX),l=C(r.maxY,e.maxY),E(0,s-a)*E(0,l-o)),m=R(u)+R(d);y<n?(n=y,p=c,g=m<g?m:g):y==n&&m<g&&(g=m,p=c)}return p||i-t},e.prototype._chooseSplitAxis=function(s,t,i){var n=s.leaf?this.compareMinX:o,r=s.leaf?this.compareMinY:a;this._allDistMargin(s,t,i,n)<this._allDistMargin(s,t,i,r)&&s.children.sort(n)},e.prototype._allDistMargin=function(o,t,i,n){o.children.sort(n);for(var r=this.toBBox,e=L(o,0,t,r),a=L(o,i-t,i,r),s=h(e)+h(a),d=t,l;d<i-t;d++)l=o.children[d],O(e,o.leaf?r(l):l),s+=h(e);for(var _=i-t-1,g;_>=t;_--)g=o.children[_],O(a,o.leaf?r(g):g),s+=h(a);return s},e.prototype._adjustParentBBoxes=function(e,t,o){for(var n=o;0<=n;n--)O(t[n],e)},e.prototype._condense=function(e){for(var t=e.length-1,o=void 0;0<=t;t--)0===e[t].children.length?0<t?(o=e[t-1].children).splice(o.indexOf(e[t]),1):this.clear():S(e[t],this.toBBox)},e})},function(e,t,n){'use strict';var o=n(148),a=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=function(e){function t(t){var n=this,o=t?t:{};return n=e.call(this,{points:Infinity,fill:o.fill,radius:o.radius,stroke:o.stroke})||this,n}return a(t,e),t.prototype.clone=function(){var e=new t({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius()});return e.setOpacity(this.getOpacity()),e.setScale(this.getScale()),e},t.prototype.setRadius=function(e){this.radius_=e,this.render()},t}(o.a);t.a=i},function(e,t,n){'use strict';var o=n(92),a=n(93),i=n(35),d=n(56),p=n(36),_=n(117),g=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),c=function(e){function t(t){var n=this,o=void 0!==t.rotateWithView&&t.rotateWithView;return n=e.call(this,{opacity:1,rotateWithView:o,rotation:void 0===t.rotation?0:t.rotation,scale:1})||this,n.canvas_=null,n.hitDetectionCanvas_=null,n.fill_=void 0===t.fill?null:t.fill,n.origin_=[0,0],n.points_=t.points,n.radius_=void 0===t.radius?t.radius1:t.radius,n.radius2_=t.radius2,n.angle_=void 0===t.angle?0:t.angle,n.stroke_=void 0===t.stroke?null:t.stroke,n.anchor_=null,n.size_=null,n.imageSize_=null,n.hitDetectionImageSize_=null,n.render(),n}return g(t,e),t.prototype.clone=function(){var e=new t({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()});return e.setOpacity(this.getOpacity()),e.setScale(this.getScale()),e},t.prototype.getAnchor=function(){return this.anchor_},t.prototype.getAngle=function(){return this.angle_},t.prototype.getFill=function(){return this.fill_},t.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_},t.prototype.getImage=function(){return this.canvas_},t.prototype.getImageSize=function(){return this.imageSize_},t.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},t.prototype.getImageState=function(){return d.a.LOADED},t.prototype.getOrigin=function(){return this.origin_},t.prototype.getPoints=function(){return this.points_},t.prototype.getRadius=function(){return this.radius_},t.prototype.getRadius2=function(){return this.radius2_},t.prototype.getSize=function(){return this.size_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.listenImageChange=function(){},t.prototype.load=function(){},t.prototype.unlistenImageChange=function(){},t.prototype.render=function(){var e=p.d,t=p.g,n=0,o=null,r=0,s=0,d;this.stroke_&&(d=this.stroke_.getColor(),null===d&&(d=p.k),d=Object(a.a)(d),s=this.stroke_.getWidth(),void 0===s&&(s=p.h),o=this.stroke_.getLineDash(),r=this.stroke_.getLineDashOffset(),t=this.stroke_.getLineJoin(),void 0===t&&(t=p.g),e=this.stroke_.getLineCap(),void 0===e&&(e=p.d),n=this.stroke_.getMiterLimit(),void 0===n&&(n=p.i));var l=2*(this.radius_+s)+1,_={strokeStyle:d,strokeWidth:s,size:l,lineCap:e,lineDash:o,lineDashOffset:r,lineJoin:t,miterLimit:n},g=Object(i.a)(l,l);this.canvas_=g.canvas,l=this.canvas_.width;var c=l;this.draw_(_,g,0,0),this.createHitDetectionCanvas_(_),this.anchor_=[l/2,l/2],this.size_=[l,l],this.imageSize_=[c,c]},t.prototype.draw_=function(e,t,n,o){var d,i,_;t.setTransform(1,0,0,1,0,0),t.translate(n,o),t.beginPath();var g=this.points_;if(g===Infinity)t.arc(e.size/2,e.size/2,this.radius_,0,2*s,!0);else{var c=void 0===this.radius2_?this.radius_:this.radius2_;for(c!==this.radius_&&(g=2*g),d=0;d<=g;d++)i=2*d*s/g-s/2+this.angle_,_=0==d%2?this.radius_:c,t.lineTo(e.size/2+_*l(i),e.size/2+_*r(i))}if(this.fill_){var u=this.fill_.getColor();null===u&&(u=p.b),t.fillStyle=Object(a.a)(u),t.fill()}this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,t.setLineDash&&e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke()),t.closePath()},t.prototype.createHitDetectionCanvas_=function(e){if(this.hitDetectionImageSize_=[e.size,e.size],this.hitDetectionCanvas_=this.canvas_,this.fill_){var t=this.fill_.getColor(),n=0;if('string'==typeof t&&(t=Object(o.a)(t)),null===t?n=1:Array.isArray(t)&&(n=4===t.length?t[3]:1),0===n){var a=Object(i.a)(e.size,e.size);this.hitDetectionCanvas_=a.canvas,this.drawHitDetectionCanvas_(e,a,0,0)}}},t.prototype.drawHitDetectionCanvas_=function(e,t,n,o){t.setTransform(1,0,0,1,0,0),t.translate(n,o),t.beginPath();var a=this.points_;if(a===Infinity)t.arc(e.size/2,e.size/2,this.radius_,0,2*s,!0);else{var d=void 0===this.radius2_?this.radius_:this.radius2_;d!==this.radius_&&(a=2*a);var _,i,g;for(_=0;_<=a;_++)g=2*_*s/a-s/2+this.angle_,i=0==_%2?this.radius_:d,t.lineTo(e.size/2+i*l(g),e.size/2+i*r(g))}t.fillStyle=p.b,t.fill(),this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.stroke()),t.closePath()},t}(_.a);t.a=c},function(e,t){'use strict';t.a={FRACTION:'fraction',PIXELS:'pixels'}},function(e,t,n){'use strict';t.a=function(e,t,n,o,a,i){var r=s.a.get(t,o,i);return r||(r=new p(e,t,n,o,a,i),s.a.set(t,o,i,r)),r};var o=n(35),a=n(88),i=n(8),r=n(56),s=n(240),d=n(241),l=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),p=function(e){function t(t,n,o,a,i,r){var s=e.call(this)||this;return s.hitDetectionImage_=null,s.image_=t?t:new Image,null!==a&&(s.image_.crossOrigin=a),s.canvas_=r?document.createElement('canvas'):null,s.color_=r,s.unlisten_=null,s.imageState_=i,s.size_=o,s.src_=n,s.tainted_,s}return l(t,e),t.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===r.a.LOADED){this.tainted_=!1;var e=Object(o.a)(1,1);try{e.drawImage(this.image_,0,0),e.getImageData(0,0,1,1)}catch(t){this.tainted_=!0}}return!0===this.tainted_},t.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(i.a.CHANGE)},t.prototype.handleImageError_=function(){this.imageState_=r.a.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},t.prototype.handleImageLoad_=function(){this.imageState_=r.a.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.replaceColor_(),this.dispatchChangeEvent_()},t.prototype.getImage=function(){return this.canvas_?this.canvas_:this.image_},t.prototype.getImageState=function(){return this.imageState_},t.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],t=this.size_[1],n=Object(o.a)(e,t);n.fillRect(0,0,e,t),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},t.prototype.getSize=function(){return this.size_},t.prototype.getSrc=function(){return this.src_},t.prototype.load=function(){if(this.imageState_==r.a.IDLE){this.imageState_=r.a.LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=Object(d.a)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},t.prototype.replaceColor_=function(){if(this.color_&&!this.isTainted_()){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var e=this.canvas_.getContext('2d');e.drawImage(this.image_,0,0);for(var t=e.getImageData(0,0,this.image_.width,this.image_.height),n=t.data,o=this.color_[0]/255,a=this.color_[1]/255,r=this.color_[2]/255,s=0,i=n.length;s<i;s+=4)n[s]*=o,n[s+1]*=a,n[s+2]*=r;e.putImageData(t,0,0)}},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(a.a)},function(e,t){'use strict';var n=function(){function e(e){var t=e||{};this.color_=void 0===t.color?null:t.color,this.lineCap_=t.lineCap,this.lineDash_=void 0===t.lineDash?null:t.lineDash,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}return e.prototype.clone=function(){var t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},e.prototype.getColor=function(){return this.color_},e.prototype.getLineCap=function(){return this.lineCap_},e.prototype.getLineDash=function(){return this.lineDash_},e.prototype.getLineDashOffset=function(){return this.lineDashOffset_},e.prototype.getLineJoin=function(){return this.lineJoin_},e.prototype.getMiterLimit=function(){return this.miterLimit_},e.prototype.getWidth=function(){return this.width_},e.prototype.setColor=function(e){this.color_=e},e.prototype.setLineCap=function(e){this.lineCap_=e},e.prototype.setLineDash=function(e){this.lineDash_=e},e.prototype.setLineDashOffset=function(e){this.lineDashOffset_=e},e.prototype.setLineJoin=function(e){this.lineJoin_=e},e.prototype.setMiterLimit=function(e){this.miterLimit_=e},e.prototype.setWidth=function(e){this.width_=e},e}();t.a=n},function(e,t){'use strict';t.a={POINT:'point',LINE:'line'}},function(e,t,n){'use strict';var o=n(2),a=n(5),i=n(31),r=n(37),s=n(58),d=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l=function(e){function t(t,n,o){var a=e.call(this)||this;if(void 0!==o&&void 0===n)a.setFlatCoordinates(o,t);else{var i=n?n:0;a.setCenterAndRadius(t,i,o)}return a}return d(t,e),t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),void 0,this.layout)},t.prototype.closestPointXY=function(e,t,n,o){var a=this.flatCoordinates,r=e-a[0],s=t-a[1],d=r*r+s*s;if(d<o){if(0==d)for(var l=0;l<this.stride;++l)n[l]=a[l];else{var i=this.getRadius()/T(d);n[0]=a[0]+i*r,n[1]=a[1]+i*s;for(var l=2;l<this.stride;++l)n[l]=a[l]}return n.length=this.stride,d}return o},t.prototype.containsXY=function(e,t){var n=this.flatCoordinates,o=e-n[0],a=t-n[1];return o*o+a*a<=this.getRadiusSquared_()},t.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},t.prototype.computeExtent=function(e){var t=this.flatCoordinates,n=t[this.stride]-t[0];return Object(o.j)(t[0]-n,t[1]-n,t[0]+n,t[1]+n,e)},t.prototype.getRadius=function(){return T(this.getRadiusSquared_())},t.prototype.getRadiusSquared_=function(){var e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],t=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+t*t},t.prototype.getType=function(){return a.a.CIRCLE},t.prototype.intersectsExtent=function(e){var t=this.getExtent();if(Object(o.B)(e,t)){var n=this.getCenter();return e[0]<=n[0]&&e[2]>=n[0]||e[1]<=n[1]&&e[3]>=n[1]||Object(o.s)(e,this.intersectsCoordinate.bind(this))}return!1},t.prototype.setCenter=function(e){var t=this.stride,n=this.flatCoordinates[t]-this.flatCoordinates[0],o=e.slice();o[t]=o[0]+n;for(var a=1;a<t;++a)o[t+a]=e[a];this.setFlatCoordinates(this.layout,o),this.changed()},t.prototype.setCenterAndRadius=function(e,t,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]);var o=this.flatCoordinates,a=Object(r.a)(o,0,e,this.stride);o[a++]=o[0]+t;for(var s=1,i=this.stride;s<i;++s)o[a++]=o[s];o.length=a,this.changed()},t.prototype.getCoordinates=function(){return null},t.prototype.setCoordinates=function(){},t.prototype.setRadius=function(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()},t.prototype.rotate=function(e,t){var n=this.getCenter(),o=this.getStride();this.setCenter(Object(s.a)(n,0,n.length,o,e,t,n)),this.changed()},t.prototype.translate=function(e,t){var n=this.getCenter(),o=this.getStride();this.setCenter(Object(s.d)(n,0,n.length,o,e,t,n)),this.changed()},t}(i.a);l.prototype.transform,t.a=l},function(e,t,n){'use strict';function o(e){for(var t=[],n=0,o=e.length;n<o;++n)t.push(e[n].clone());return t}var a=n(30),r=n(8),s=n(2),i=n(120),d=n(5),l=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),p=function(e){function t(t){var n=e.call(this)||this;return n.geometries_=t?t:null,n.changeEventsKeys_=[],n.listenGeometriesChange_(),n}return l(t,e),t.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(a.c),this.changeEventsKeys_.length=0},t.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var e=0,t=this.geometries_.length;e<t;++e)this.changeEventsKeys_.push(Object(a.a)(this.geometries_[e],r.a.CHANGE,this.changed,this))},t.prototype.clone=function(){var e=new t(null);return e.setGeometries(this.geometries_),e},t.prototype.closestPointXY=function(e,t,n,o){if(o<Object(s.e)(this.getExtent(),e,t))return o;for(var a=this.geometries_,r=0,i=a.length;r<i;++r)o=a[r].closestPointXY(e,t,n,o);return o},t.prototype.containsXY=function(e,t){for(var n=this.geometries_,o=0,a=n.length;o<a;++o)if(n[o].containsXY(e,t))return!0;return!1},t.prototype.computeExtent=function(e){Object(s.k)(e);for(var t=this.geometries_,n=0,o=t.length;n<o;++n)Object(s.p)(e,t[n].getExtent());return e},t.prototype.getGeometries=function(){return o(this.geometries_)},t.prototype.getGeometriesArray=function(){return this.geometries_},t.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),0>e||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var n=[],o=this.geometries_,a=!1,r=0,i=o.length;r<i;++r){var s=o[r],d=s.getSimplifiedGeometry(e);n.push(d),d!==s&&(a=!0)}if(a){var l=new t(null);return l.setGeometriesArray(n),l}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this},t.prototype.getType=function(){return d.a.GEOMETRY_COLLECTION},t.prototype.intersectsExtent=function(e){for(var t=this.geometries_,n=0,o=t.length;n<o;++n)if(t[n].intersectsExtent(e))return!0;return!1},t.prototype.isEmpty=function(){return 0===this.geometries_.length},t.prototype.rotate=function(e,t){for(var n=this.geometries_,o=0,a=n.length;o<a;++o)n[o].rotate(e,t);this.changed()},t.prototype.scale=function(e,t,n){var o=n;o||(o=Object(s.w)(this.getExtent()));for(var a=this.geometries_,r=0,i=a.length;r<i;++r)a[r].scale(e,t,o);this.changed()},t.prototype.setGeometries=function(e){this.setGeometriesArray(o(e))},t.prototype.setGeometriesArray=function(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()},t.prototype.applyTransform=function(e){for(var t=this.geometries_,n=0,o=t.length;n<o;++n)t[n].applyTransform(e);this.changed()},t.prototype.translate=function(e,t){for(var n=this.geometries_,o=0,a=n.length;o<a;++o)n[o].translate(e,t);this.changed()},t.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),e.prototype.disposeInternal.call(this)},t}(i.a);t.a=p},function(e,t,n){'use strict';function o(e,t,n,o,a,s){if(n==t)return null;var d;if(a<e[t+o-1])return s?(d=e.slice(t,t+o),d[o-1]=a,d):null;if(e[n-1]<a)return s?(d=e.slice(n-o,n),d[o-1]=a,d):null;if(a==e[t+o-1])return e.slice(t,t+o);for(var l=t/o,p=n/o,_;l<p;)_=l+p>>1,a<e[(_+1)*o-1]?p=_:l=_+1;var g=e[l*o-1];if(a==g)return e.slice((l-1)*o,(l-1)*o+o);var c=e[(l+1)*o-1];d=[];for(var u=0;u<o-1;++u)d.push(Object(r.c)(e[(l-1)*o+u],e[l*o+u],(a-g)/(c-g)));return d.push(a),d}t.a=function(e,s,d,l,p,_){var g=NaN,c=NaN,u=(d-s)/l;if(1==u)g=e[s],c=e[s+1];else if(2==u)g=(1-p)*e[s]+p*e[s+l],c=(1-p)*e[s+1]+p*e[s+l+1];else if(0!=u){for(var n=e[s],y=e[s+1],m=0,h=[0],f=s+l;f<d;f+=l){var i=e[f],x=e[f+1];m+=T((i-n)*(i-n)+(x-y)*(x-y)),h.push(m),n=i,y=x}var I=p*m,E=Object(a.a)(h,I);if(0>E){var C=(I-h[-E-2])/(h[-E-1]-h[-E-2]),t=s+(-E-2)*l;g=Object(r.c)(e[t],e[t+l],C),c=Object(r.c)(e[t+1],e[t+l+1],C)}else g=e[s+E*l],c=e[s+E*l+1]}return _?(_[0]=g,_[1]=c,_):[g,c]},t.b=o,t.c=function(e,t,n,a,r,s,d){if(d)return o(e,t,n[n.length-1],a,r,s);var l;if(r<e[a-1])return s?(l=e.slice(0,a),l[a-1]=r,l):null;if(e[e.length-1]<r)return s?(l=e.slice(e.length-a),l[a-1]=r,l):null;for(var p=0,i=n.length,_;p<i;++p)if(_=n[p],t!=_){if(r<e[t+a-1])return null;if(r<=e[_-1])return o(e,t,_,a,r,!1);t=_}return null};var a=n(10),r=n(15)},function(e,t){'use strict';t.a=function(e,t,n,o,a){for(var i=[e[t],e[t+1]],r=[],s;t+o<n;t+=o){if(r[0]=e[t+o],r[1]=e[t+o+1],s=a(i,r),s)return s;i[0]=r[0],i[1]=r[1]}return!1}},function(e,t){'use strict';t.a=function(e,t,n,o){for(var a=e[t],r=e[t+1],s=0,d=t+o;d<n;d+=o){var i=e[d],l=e[d+1];s+=T((i-a)*(i-a)+(l-r)*(l-r)),a=i,r=l}return s}},function(e,t,n){'use strict';var o=n(10),a=n(2),i=n(59),r=n(5),s=n(121),d=n(31),l=n(75),p=n(37),_=n(46),g=n(155),c=n(94),u=n(60),y=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),m=function(e){function t(t,n,a){var r=e.call(this)||this;if(r.ends_=[],r.maxDelta_=-1,r.maxDeltaRevision_=-1,Array.isArray(t[0]))r.setCoordinates(t,n);else if(void 0!==n&&a)r.setFlatCoordinates(n,t),r.ends_=a;else{for(var s=r.getLayout(),d=t,l=[],p=[],_=0,i=d.length,g;_<i;++_)g=d[_],0===_&&(s=g.getLayout()),Object(o.c)(l,g.getFlatCoordinates()),p.push(l.length);r.setFlatCoordinates(s,l),r.ends_=p}return r}return y(t,e),t.prototype.appendLineString=function(e){this.flatCoordinates?Object(o.c)(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},t.prototype.closestPointXY=function(e,t,n,o){return o<Object(a.e)(this.getExtent(),e,t)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=T(Object(l.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(l.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,n,o))},t.prototype.getCoordinateAtM=function(e,t,n){if(this.layout!=i.a.XYM&&this.layout!=i.a.XYZM||0===this.flatCoordinates.length)return null;return Object(g.c)(this.flatCoordinates,0,this.ends_,this.stride,e,void 0!==t&&t,void 0!==n&&n)},t.prototype.getCoordinates=function(){return Object(_.b)(this.flatCoordinates,0,this.ends_,this.stride)},t.prototype.getEnds=function(){return this.ends_},t.prototype.getLineString=function(e){return 0>e||this.ends_.length<=e?null:new s.a(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)},t.prototype.getLineStrings=function(){for(var e=this.flatCoordinates,t=this.ends_,n=this.layout,o=[],a=0,r=0,i=t.length;r<i;++r){var d=t[r],l=new s.a(e.slice(a,d),n);o.push(l),a=d}return o},t.prototype.getFlatMidpoints=function(){for(var e=[],t=this.flatCoordinates,n=0,a=this.ends_,r=this.stride,s=0,i=a.length;s<i;++s){var d=a[s],l=Object(g.a)(t,n,d,r,0.5);Object(o.c)(e,l),n=d}return e},t.prototype.getSimplifiedGeometryInternal=function(e){var n=[],o=[];return n.length=Object(u.b)(this.flatCoordinates,0,this.ends_,this.stride,e,n,0,o),new t(n,i.a.XY,o)},t.prototype.getType=function(){return r.a.MULTI_LINE_STRING},t.prototype.intersectsExtent=function(e){return Object(c.b)(this.flatCoordinates,0,this.ends_,this.stride,e)},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Object(p.c)(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},t}(d.a);t.a=m},function(e,t,n){'use strict';var o=n(10),a=n(2),i=n(59),r=n(5),s=n(122),d=n(48),l=n(31),p=n(123),_=n(246),g=n(75),c=n(95),u=n(37),y=n(46),m=n(160),h=n(94),f=n(161),x=n(60),I=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),E=function(e){function t(t,n,a){var r=e.call(this)||this;if(r.endss_=[],r.flatInteriorPointsRevision_=-1,r.flatInteriorPoints_=null,r.maxDelta_=-1,r.maxDeltaRevision_=-1,r.orientedRevision_=-1,r.orientedFlatCoordinates_=null,!a&&!Array.isArray(t[0])){for(var s=r.getLayout(),d=t,l=[],p=[],_=0,i=d.length,g;_<i;++_){g=d[_],0===_&&(s=g.getLayout());for(var c=l.length,u=g.getEnds(),y=0,m=u.length;y<m;++y)u[y]+=c;Object(o.c)(l,g.getFlatCoordinates()),p.push(u)}n=s,t=l,a=p}return void 0!==n&&a?(r.setFlatCoordinates(n,t),r.endss_=a):r.setCoordinates(t,n),r}return I(t,e),t.prototype.appendPolygon=function(e){var t;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();else{var n=this.flatCoordinates.length;Object(o.c)(this.flatCoordinates,e.getFlatCoordinates()),t=e.getEnds().slice();for(var a=0,i=t.length;a<i;++a)t[a]+=n}this.endss_.push(t),this.changed()},t.prototype.clone=function(){for(var e=this.endss_.length,n=Array(e),o=0;o<e;++o)n[o]=this.endss_[o].slice();return new t(this.flatCoordinates.slice(),this.layout,n)},t.prototype.closestPointXY=function(e,t,n,o){return o<Object(a.e)(this.getExtent(),e,t)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=T(Object(g.f)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(g.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,n,o))},t.prototype.containsXY=function(e,t){return Object(c.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)},t.prototype.getArea=function(){return Object(p.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},t.prototype.getCoordinates=function(e){var t;return void 0===e?t=this.flatCoordinates:(t=this.getOrientedFlatCoordinates().slice(),Object(f.d)(t,0,this.endss_,this.stride,e)),Object(y.c)(t,0,this.endss_,this.stride)},t.prototype.getEndss=function(){return this.endss_},t.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var e=Object(_.a)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Object(m.b)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},t.prototype.getInteriorPoints=function(){return new s.a(this.getFlatInteriorPoints().slice(),i.a.XYM)},t.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;Object(f.b)(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Object(f.d)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},t.prototype.getSimplifiedGeometryInternal=function(e){var n=[],o=[];return n.length=Object(x.d)(this.flatCoordinates,0,this.endss_,this.stride,T(e),n,0,o),new t(n,i.a.XY,o)},t.prototype.getPolygon=function(e){if(0>e||this.endss_.length<=e)return null;var t;if(0===e)t=0;else{var n=this.endss_[e-1];t=n[n.length-1]}var o=this.endss_[e].slice(),a=o[o.length-1];if(0!==t)for(var r=0,i=o.length;r<i;++r)o[r]-=t;return new d.a(this.flatCoordinates.slice(t,a),this.layout,o)},t.prototype.getPolygons=function(){for(var e=this.layout,t=this.flatCoordinates,n=this.endss_,o=[],a=0,r=0,i=n.length;r<i;++r){var s=n[r].slice(),l=s[s.length-1];if(0!=a)for(var p=0,_=s.length;p<_;++p)s[p]-=a;var g=new d.a(t.slice(a,l),e,s);o.push(g),a=l}return o},t.prototype.getType=function(){return r.a.MULTI_POLYGON},t.prototype.intersectsExtent=function(e){return Object(h.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=Object(u.d)(this.flatCoordinates,0,e,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{var o=n[n.length-1];this.flatCoordinates.length=0===o.length?0:o[o.length-1]}this.changed()},t}(l.a);t.a=E},function(e,t,n){'use strict';function o(e,t,n,o,s,l,p){for(var _=s[l+1],g=[],c=0,u=n.length,y,i,m,h,f,x,I,E;c<u;++c)for(E=n[c],h=e[E-o],x=e[E-o+1],y=t;y<E;y+=o)f=e[y],I=e[y+1],(_<=x&&I<=_||x<=_&&_<=I)&&(m=(_-x)/(I-x)*(f-h)+h,g.push(m)),h=f,x=I;var C=NaN,T=-Infinity;for(g.sort(a.e),h=g[0],(y=1,i=g.length);y<i;++y){f=g[y];var N=d(f-h);N>T&&(m=(h+f)/2,Object(r.c)(e,t,n,o,m,_)&&(C=m,T=N)),h=f}return isNaN(C)&&(C=s[l]),p?(p.push(C,_,T),p):[C,_,T]}t.a=o,t.b=function(e,t,n,a,r){for(var s=[],d=0,i=n.length,l;d<i;++d)l=n[d],s=o(e,t,l,a,r,2*d,s),t=l[l.length-1];return s};var a=n(10),r=n(95)},function(e,t,n){'use strict';function o(e,t,n,o){for(var a=0,i=e[n-o],r=e[n-o+1];t<n;t+=o){var s=e[t],d=e[t+1];a+=(s-i)*(d+r),i=s,r=d}return 0<a}function a(e,t,n,a,r){for(var s=r!==void 0&&r,d=0,i=n.length;d<i;++d){var l=n[d],p=o(e,t,l,a);if(0===d){if(s&&p||!s&&!p)return!1;}else if(s&&!p||!s&&p)return!1;t=l}return!0}function r(e,t,n,a,r){for(var d=r!==void 0&&r,l=0,i=n.length;l<i;++l){var p=n[l],_=o(e,t,p,a),g=0===l?d&&_||!d&&!_:d&&!_||!d&&_;g&&Object(s.a)(e,t,p,a),t=p}return t}t.a=a,t.b=function(e,t,n,o,r){for(var s=0,i=n.length,d;s<i;++s){if(d=n[s],!a(e,t,d,o,r))return!1;d.length&&(t=d[d.length-1])}return!0},t.c=r,t.d=function(e,t,n,o,a){for(var s=0,i=n.length;s<i;++s)t=r(e,t,n[s],o,a);return t};var s=n(245)},function(e,t){'use strict';t.a={OPACITY:'opacity',VISIBLE:'visible',EXTENT:'extent',Z_INDEX:'zIndex',MAX_RESOLUTION:'maxResolution',MIN_RESOLUTION:'minResolution',MAX_ZOOM:'maxZoom',MIN_ZOOM:'minZoom',SOURCE:'source'}},function(e,t){'use strict';t.a={PRERENDER:'prerender',POSTRENDER:'postrender',PRECOMPOSE:'precompose',POSTCOMPOSE:'postcompose',RENDERCOMPLETE:'rendercomplete'}},function(e,t){'use strict';var n=function(){function e(){}return e.prototype.drawCustom=function(){},e.prototype.drawGeometry=function(){},e.prototype.setStyle=function(){},e.prototype.drawCircle=function(){},e.prototype.drawFeature=function(){},e.prototype.drawGeometryCollection=function(){},e.prototype.drawLineString=function(){},e.prototype.drawMultiLineString=function(){},e.prototype.drawMultiPoint=function(){},e.prototype.drawMultiPolygon=function(){},e.prototype.drawPoint=function(){},e.prototype.drawPolygon=function(){},e.prototype.drawText=function(){},e.prototype.setFillStrokeStyle=function(){},e.prototype.setImageStyle=function(){},e.prototype.setTextStyle=function(){},e}();t.a=n},function(e,t,n){'use strict';n.d(t,'a',function(){return c});var o=n(7),a=n(93),r=n(2),i=n(256),s=n(5),d=n(36),l=n(63),p=n(76),_=n(152),g=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),c={left:0,end:0,center:0.5,right:1,start:1,top:0,middle:0.5,hanging:0.2,alphabetic:0.8,ideographic:0.8,bottom:1},u=function(e){function t(t,n,o,a){var i=e.call(this,t,n,o,a)||this;return i.declutterGroups_,i.labels_=null,i.text_='',i.textOffsetX_=0,i.textOffsetY_=0,i.textRotateWithView_=void 0,i.textRotation_=0,i.textFillState_=null,i.fillStates={},i.textStrokeState_=null,i.strokeStates={},i.textState_={},i.textStates={},i.textKey_='',i.fillKey_='',i.strokeKey_='',d.o.prune(),i}return g(t,e),t.prototype.finish=function(){var t=e.prototype.finish.call(this);return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t},t.prototype.drawText=function(e,t){var n=this.textFillState_,a=this.textStrokeState_,p=this.textState_;if(''!==this.text_&&p&&(n||a)){var g=this.coordinates.length,c=e.getType(),u=null,y=2,m=2,h,f;if(p.placement===_.a.LINE){if(!Object(r.B)(this.getBufferedMaxExtent(),e.getExtent()))return;var x;if(u=e.getFlatCoordinates(),m=e.getStride(),c==s.a.LINE_STRING)x=[u.length];else if(c==s.a.MULTI_LINE_STRING)x=e.getEnds();else if(c==s.a.POLYGON)x=e.getEnds().slice(0,1);else if(c==s.a.MULTI_POLYGON){var I=e.getEndss();for(x=[],h=0,f=I.length;h<f;++h)x.push(I[h][0])}this.beginGeometry(e,t);for(var E=p.textAlign,C=0,T=void 0,N=0,o=x.length;N<o;++N){if(void 0==E){var S=Object(i.a)(p.maxAngle,u,C,x[N],m);C=S[0],T=S[1]}else T=x[N];for(h=C;h<T;h+=m)this.coordinates.push(u[h],u[h+1]);y=this.coordinates.length,C=x[N];var L=this.declutterGroups_?0===N?this.declutterGroups_[0]:[].concat(this.declutterGroups_[0]):null;this.drawChars_(g,y,L),g=y}this.endGeometry(t)}else{var O=null;switch(p.overflow||(O=[]),c){case s.a.POINT:case s.a.MULTI_POINT:u=e.getFlatCoordinates(),y=u.length;break;case s.a.LINE_STRING:u=e.getFlatMidpoint();break;case s.a.CIRCLE:u=e.getCenter();break;case s.a.MULTI_LINE_STRING:u=e.getFlatMidpoints(),y=u.length;break;case s.a.POLYGON:u=e.getFlatInteriorPoint(),p.overflow||O.push(u[2]/this.resolution),m=3;break;case s.a.MULTI_POLYGON:var R=e.getFlatInteriorPoints();for(u=[],h=0,f=R.length;h<f;h+=3)p.overflow||O.push(R[h+2]/this.resolution),u.push(R[h],R[h+1]);if(y=u.length,0==y)return;break;default:}y=this.appendFlatCoordinates(u,0,y,m,!1,!1),this.saveTextStates_(),(p.backgroundFill||p.backgroundStroke)&&(this.setFillStrokeStyle(p.backgroundFill,p.backgroundStroke),p.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),p.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,t);var P=this.pixelRatio;this.instructions.push([l.c.DRAW_IMAGE,g,y,null,NaN,NaN,this.declutterGroups_,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,1,NaN,p.padding==d.j?d.j:p.padding.map(function(e){return e*P}),!!p.backgroundFill,!!p.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,O]),this.hitDetectionInstructions.push([l.c.DRAW_IMAGE,g,y,null,NaN,NaN,this.declutterGroups_,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,1/this.pixelRatio,NaN,p.padding,!!p.backgroundFill,!!p.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,O]),this.endGeometry(t)}}},t.prototype.saveTextStates_=function(){var e=this.textStrokeState_,t=this.textState_,n=this.textFillState_,o=this.strokeKey_;e&&!(o in this.strokeStates)&&(this.strokeStates[o]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash});var a=this.textKey_;a in this.textStates||(this.textStates[a]={font:t.font,textAlign:t.textAlign||d.l,textBaseline:t.textBaseline||d.m,scale:t.scale});var i=this.fillKey_;n&&!(i in this.fillStates)&&(this.fillStates[i]={fillStyle:n.fillStyle})},t.prototype.drawChars_=function(e,t,n){var o=this.textStrokeState_,a=this.textState_,i=this.strokeKey_,r=this.textKey_,s=this.fillKey_;this.saveTextStates_();var d=this.pixelRatio,p=c[a.textBaseline],_=this.textOffsetY_*d,g=this.text_,u=a.scale,y=o?o.lineWidth*u/2:0;this.instructions.push([l.c.DRAW_CHARS,e,t,p,n,a.overflow,s,a.maxAngle,d,_,i,y*d,g,r,1]),this.hitDetectionInstructions.push([l.c.DRAW_CHARS,e,t,p,n,a.overflow,s,a.maxAngle,1,_,i,y,g,r,1/d])},t.prototype.setTextStyle=function(e,t){var n,i,r;if(!e)this.text_='';else{this.declutterGroups_=t;var s=e.getFill();s?(i=this.textFillState_,!i&&(i={},this.textFillState_=i),i.fillStyle=Object(a.a)(s.getColor()||d.b)):(i=null,this.textFillState_=i);var l=e.getStroke();if(!l)r=null,this.textStrokeState_=r;else{r=this.textStrokeState_,r||(r={},this.textStrokeState_=r);var p=l.getLineDash(),_=l.getLineDashOffset(),g=l.getWidth(),c=l.getMiterLimit();r.lineCap=l.getLineCap()||d.d,r.lineDash=p?p.slice():d.e,r.lineDashOffset=void 0===_?d.f:_,r.lineJoin=l.getLineJoin()||d.g,r.lineWidth=void 0===g?d.h:g,r.miterLimit=void 0===c?d.i:c,r.strokeStyle=Object(a.a)(l.getColor()||d.k)}n=this.textState_;var u=e.getFont()||d.c;Object(d.a)(u);var y=e.getScale();n.overflow=e.getOverflow(),n.font=u,n.maxAngle=e.getMaxAngle(),n.placement=e.getPlacement(),n.textAlign=e.getTextAlign(),n.textBaseline=e.getTextBaseline()||d.m,n.backgroundFill=e.getBackgroundFill(),n.backgroundStroke=e.getBackgroundStroke(),n.padding=e.getPadding()||d.j,n.scale=void 0===y?1:y;var m=e.getOffsetX(),h=e.getOffsetY(),f=e.getRotateWithView(),x=e.getRotation();this.text_=e.getText()||'',this.textOffsetX_=void 0===m?0:m,this.textOffsetY_=void 0===h?0:h,this.textRotateWithView_=void 0!==f&&f,this.textRotation_=void 0===x?0:x,this.strokeKey_=r?('string'==typeof r.strokeStyle?r.strokeStyle:Object(o.c)(r.strokeStyle))+r.lineCap+r.lineDashOffset+'|'+r.lineWidth+r.lineJoin+r.miterLimit+'['+r.lineDash.join()+']':'',this.textKey_=n.font+n.scale+(n.textAlign||'?'),this.fillKey_=i?'string'==typeof i.fillStyle?i.fillStyle:'|'+Object(o.c)(i.fillStyle):''}},t}(p.a);t.b=u},function(e,t){'use strict';t.a={CIRCLE:'Circle',DEFAULT:'Default',IMAGE:'Image',LINE_STRING:'LineString',POLYGON:'Polygon',TEXT:'Text'}},function(e,t,n){'use strict';function o(e){var t=!1;if(e.type==a.a.DBLCLICK){var n=e.originalEvent,o=e.map,r=e.coordinate,s=n.shiftKey?-this.delta_:this.delta_,d=o.getView();Object(i.c)(d,s,r,this.duration_),e.preventDefault(),t=!0}return!t}var a=n(64),i=n(32),r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),s=function(e){function t(t){var n=e.call(this,{handleEvent:o})||this,a=t?t:{};return n.delta_=a.delta?a.delta:1,n.duration_=void 0===a.duration?250:a.duration,n}return r(t,e),t}(i.a);t.a=s},function(e,t,n){'use strict';function o(e){return Object(s.i)(e)&&Object(s.k)(e)}var a=n(65),i=n(125),s=n(16),d=n(11),p=n(19),_=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),g=function(e){function t(t){var n=e.call(this,{stopDown:d.a})||this,a=t?t:{};return n.kinetic_=a.kinetic,n.lastCentroid=null,n.lastPointersCount_,n.panning_=!1,n.condition_=a.condition?a.condition:o,n.noKinetic_=!1,n}return _(t,e),t.prototype.handleDragEvent=function(e){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var t=this.targetPointers,n=Object(p.a)(t);if(t.length!=this.lastPointersCount_)this.kinetic_&&this.kinetic_.begin();else if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var o=[this.lastCentroid[0]-n[0],n[1]-this.lastCentroid[1]],i=e.map,r=i.getView();Object(a.f)(o,r.getResolution()),Object(a.e)(o,r.getRotation()),r.adjustCenterInternal(o)}this.lastCentroid=n,this.lastPointersCount_=t.length},t.prototype.handleUpEvent=function(e){var t=e.map,n=t.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var o=this.kinetic_.getDistance(),a=this.kinetic_.getAngle(),s=n.getCenterInternal(),d=t.getPixelFromCoordinateInternal(s),p=t.getCoordinateFromPixelInternal([d[0]-o*l(a),d[1]-o*r(a)]);n.animateInternal({center:n.getConstrainedCenter(p),duration:500,easing:i.a})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},t.prototype.handleDownEvent=function(e){if(0<this.targetPointers.length&&this.condition_(e)){var t=e.map,n=t.getView();return this.lastCentroid=null,n.getAnimating()&&n.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=1<this.targetPointers.length,!0}return!1},t}(p.b);t.a=g},function(e,n,o){'use strict';var a=o(170),i=o(16),r=o(11),s=o(19),d=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l=function(e){function n(t){var n=this,o=t?t:{};return n=e.call(this,{stopDown:r.a})||this,n.condition_=o.condition?o.condition:i.b,n.lastAngle_=void 0,n.duration_=void 0===o.duration?250:o.duration,n}return d(n,e),n.prototype.handleDragEvent=function(e){if(Object(i.g)(e)){var n=e.map,o=n.getView();if(o.getConstraints().rotation!==a.a){var r=n.getSize(),s=e.pixel,d=t(r[1]/2-s[1],s[0]-r[0]/2);if(void 0!==this.lastAngle_){var l=d-this.lastAngle_;o.adjustRotationInternal(-l)}this.lastAngle_=d}}},n.prototype.handleUpEvent=function(e){if(!Object(i.g)(e))return!0;var t=e.map,n=t.getView();return n.endInteraction(this.duration_),!1},n.prototype.handleDownEvent=function(e){if(!Object(i.g)(e))return!1;if(Object(i.f)(e)&&this.condition_(e)){var t=e.map;return t.getView().beginInteraction(),this.lastAngle_=void 0,!0}return!1},n}(s.b);n.a=l},function(e,t,n){'use strict';t.a=function(e){return void 0===e?void 0:0};var o=n(15)},function(e,t,n){'use strict';function o(){var e=this.getMap(),t=e.getView(),n=e.getSize(),o=this.getGeometry().getExtent();if(this.out_){var i=t.calculateExtentInternal(n),s=Object(r.m)([e.getPixelFromCoordinateInternal(Object(r.u)(o)),e.getPixelFromCoordinateInternal(Object(r.z)(o))]),d=t.getResolutionForExtentInternal(s,n);Object(r.E)(i,1/d),o=i}var l=t.getConstrainedResolution(t.getResolutionForExtentInternal(o,n)),p=t.getConstrainedCenter(Object(r.w)(o),l);t.animateInternal({resolution:l,center:p,duration:this.duration_,easing:a.a})}var a=n(125),i=n(16),r=n(2),s=n(172),d=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l=function(e){function t(t){var n=this,a=t?t:{},r=a.condition?a.condition:i.l;return n=e.call(this,{condition:r,className:a.className||'ol-dragzoom',minArea:a.minArea,onBoxEnd:o})||this,n.duration_=void 0===a.duration?200:a.duration,n.out_=void 0!==a.out&&a.out,n}return d(t,e),t}(s.a);t.a=l},function(e,t,n){'use strict';var o=n(13),a=n(16),i=n(11),r=n(19),s=n(268),d=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l={BOXSTART:'boxstart',BOXDRAG:'boxdrag',BOXEND:'boxend'},p=function(e){function t(t,n,o){var a=e.call(this,t)||this;return a.coordinate=n,a.mapBrowserEvent=o,a}return d(t,e),t}(o.a),_=function(e){function t(t){var n=e.call(this)||this,o=t?t:{};return n.box_=new s.a(o.className||'ol-dragbox'),n.minArea_=void 0===o.minArea?64:o.minArea,n.onBoxEnd_=o.onBoxEnd?o.onBoxEnd:i.c,n.startPixel_=null,n.condition_=o.condition?o.condition:a.c,n.boxEndCondition_=o.boxEndCondition?o.boxEndCondition:n.defaultBoxEndCondition,n}return d(t,e),t.prototype.defaultBoxEndCondition=function(e,t,n){var o=n[0]-t[0],a=n[1]-t[1];return o*o+a*a>=this.minArea_},t.prototype.getGeometry=function(){return this.box_.getGeometry()},t.prototype.handleDragEvent=function(e){Object(a.g)(e)&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new p(l.BOXDRAG,e.coordinate,e)))},t.prototype.handleUpEvent=function(e){return!Object(a.g)(e)||(this.box_.setMap(null),this.boxEndCondition_(e,this.startPixel_,e.pixel)&&(this.onBoxEnd_(e),this.dispatchEvent(new p(l.BOXEND,e.coordinate,e))),!1)},t.prototype.handleDownEvent=function(e){return!!Object(a.g)(e)&&Object(a.f)(e)&&this.condition_(e)&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new p(l.BOXSTART,e.coordinate,e)),!0)},t}(r.b);t.a=_},function(e,t,n){'use strict';function o(e){var t=!1;if(e.type==i.a.KEYDOWN){var n=e.originalEvent,o=n.keyCode;if(this.condition_(e)&&(o==r.a.DOWN||o==r.a.LEFT||o==r.a.RIGHT||o==r.a.UP)){var s=e.map,l=s.getView(),p=l.getResolution()*this.pixelDelta_,_=0,g=0;o==r.a.DOWN?g=-p:o==r.a.LEFT?_=-p:o==r.a.RIGHT?_=p:g=p;var c=[_,g];Object(a.e)(c,l.getRotation()),Object(d.b)(l,c,this.duration_),e.preventDefault(),t=!0}}return!t}var a=n(65),i=n(8),r=n(269),s=n(16),d=n(32),l=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),p=function(e){function t(t){var n=e.call(this,{handleEvent:o})||this,a=t||{};return n.defaultCondition_=function(e){return Object(s.i)(e)&&Object(s.n)(e)},n.condition_=void 0===a.condition?n.defaultCondition_:a.condition,n.duration_=void 0===a.duration?100:a.duration,n.pixelDelta_=void 0===a.pixelDelta?128:a.pixelDelta,n}return l(t,e),t}(d.a);t.a=p},function(e,t,n){'use strict';function o(e){var t=!1;if(e.type==a.a.KEYDOWN||e.type==a.a.KEYPRESS){var n=e.originalEvent,o=n.charCode;if(this.condition_(e)&&(o==43||o==45)){var i=e.map,s=o==43?this.delta_:-this.delta_,d=i.getView();Object(r.c)(d,s,void 0,this.duration_),e.preventDefault(),t=!0}}return!t}var a=n(8),i=n(16),r=n(32),s=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),d=function(e){function t(t){var n=e.call(this,{handleEvent:o})||this,a=t?t:{};return n.condition_=a.condition?a.condition:i.n,n.delta_=a.delta?a.delta:1,n.duration_=void 0===a.duration?100:a.duration,n}return s(t,e),t}(r.a);t.a=d},function(e,t,n){'use strict';var o=n(16),a=n(8),i=n(119),r=n(32),s=n(15),l=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),p={TRACKPAD:'trackpad',WHEEL:'wheel'},_=function(e){function t(t){var n=this,a=t?t:{};return n=e.call(this,a)||this,n.totalDelta_=0,n.lastDelta_=0,n.maxDelta_=void 0===a.maxDelta?1:a.maxDelta,n.duration_=void 0===a.duration?250:a.duration,n.timeout_=void 0===a.timeout?80:a.timeout,n.useAnchor_=void 0===a.useAnchor||a.useAnchor,n.condition_=a.condition?a.condition:o.c,n.lastAnchor_=null,n.startTime_=void 0,n.timeoutId_,n.mode_=void 0,n.trackpadEventGap_=400,n.trackpadTimeoutId_,n.trackpadDeltaPerZoom_=300,n}return l(t,e),t.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var e=this.getMap().getView();e.endInteraction(void 0,Math.sign(this.lastDelta_),this.lastAnchor_)},t.prototype.handleEvent=function(e){if(!this.condition_(e))return!0;var t=e.type;if(t!==a.a.WHEEL)return!0;e.preventDefault();var n=e.map,o=e.originalEvent;this.useAnchor_&&(this.lastAnchor_=e.coordinate);var r;if(e.type==a.a.WHEEL&&(r=o.deltaY,i.b&&o.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(r/=i.a),o.deltaMode===WheelEvent.DOM_DELTA_LINE&&(r*=40)),0===r)return!1;this.lastDelta_=r;var s=Date.now();if(void 0===this.startTime_&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=4>d(r)?p.TRACKPAD:p.WHEEL),this.mode_===p.TRACKPAD){var l=n.getView();return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):l.beginInteraction(),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.trackpadEventGap_),l.adjustZoom(-r/this.trackpadDeltaPerZoom_,this.lastAnchor_),this.startTime_=s,!1}this.totalDelta_+=r;var _=E(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),_),!1},t.prototype.handleWheelZoom_=function(e){var t=e.getView();t.getAnimating()&&t.cancelAnimations();var n=Object(s.a)(this.totalDelta_,-this.maxDelta_,this.maxDelta_);Object(r.c)(t,-n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},t.prototype.setMouseAnchor=function(e){this.useAnchor_=e,e||(this.lastAnchor_=null)},t}(r.a);t.a=_},function(e,n,o){'use strict';var a=o(11),i=o(19),r=o(170),s=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l=function(e){function n(t){var n=this,o=t?t:{},i=o;return i.stopDown||(i.stopDown=a.a),n=e.call(this,i)||this,n.anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0===o.threshold?0.3:o.threshold,n.duration_=void 0===o.duration?250:o.duration,n}return s(n,e),n.prototype.handleDragEvent=function(e){var n=0,o=this.targetPointers[0],a=this.targetPointers[1],s=t(a.clientY-o.clientY,a.clientX-o.clientX);if(void 0!==this.lastAngle_){var l=s-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&d(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=l}this.lastAngle_=s;var p=e.map,_=p.getView();if(_.getConstraints().rotation!==r.a){var g=p.getViewport().getBoundingClientRect(),c=Object(i.a)(this.targetPointers);c[0]-=g.left,c[1]-=g.top,this.anchor_=p.getCoordinateFromPixelInternal(c),this.rotating_&&(p.render(),_.adjustRotationInternal(n,this.anchor_))}},n.prototype.handleUpEvent=function(e){if(2>this.targetPointers.length){var t=e.map,n=t.getView();return n.endInteraction(this.duration_),!1}return!0},n.prototype.handleDownEvent=function(e){if(2<=this.targetPointers.length){var t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1},n}(i.b);n.a=l},function(e,t,n){'use strict';var o=n(11),a=n(19),i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=function(e){function t(t){var n=this,a=t?t:{},i=a;return i.stopDown||(i.stopDown=o.a),n=e.call(this,i)||this,n.anchor_=null,n.duration_=void 0===a.duration?400:a.duration,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return i(t,e),t.prototype.handleDragEvent=function(e){var t=1,n=this.targetPointers[0],o=this.targetPointers[1],i=n.clientX-o.clientX,r=n.clientY-o.clientY,s=T(i*i+r*r);void 0!==this.lastDistance_&&(t=this.lastDistance_/s),this.lastDistance_=s;var d=e.map,l=d.getView();1!=t&&(this.lastScaleDelta_=t);var p=d.getViewport().getBoundingClientRect(),_=Object(a.a)(this.targetPointers);_[0]-=p.left,_[1]-=p.top,this.anchor_=d.getCoordinateFromPixelInternal(_),d.render(),l.adjustResolutionInternal(t,this.anchor_)},t.prototype.handleUpEvent=function(e){if(2>this.targetPointers.length){var t=e.map,n=t.getView(),o=1<this.lastScaleDelta_?1:-1;return n.endInteraction(this.duration_,o),!1}return!0},t.prototype.handleDownEvent=function(e){if(2<=this.targetPointers.length){var t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1},t}(a.b);t.a=r},function(e,t){'use strict';function n(e,t){this.low=0|t,this.high=0|e}t.a=n,n.toBinaryString=function(e){let t='',n;for(n=2147483648;0<n;n>>>=1)t+=(e.high&n)===n?'1':'0';for(n=2147483648;0<n;n>>>=1)t+=(e.low&n)===n?'1':'0';return t}},function(e,t,n){'use strict';var o=n(3),a=n(33);class i{constructor(){i.constructor_.apply(this,arguments)}create(){if(1===arguments.length){if(arguments[0]instanceof Array){arguments[0]}else if(Object(o.a)(arguments[0],a.a)){arguments[0]}}else if(2===arguments.length){const e=arguments[0],t=arguments[1]}}getClass(){return i}get interfaces_(){return[]}}t.a=i,i.constructor_=function(){}},function(e,t,n){'use strict';var o=n(27),a=n(100),i=n(49),r=n(0),s=n(68),d=n(50);class l{constructor(){l.constructor_.apply(this,arguments)}static getBoundary(){if(1===arguments.length){const e=arguments[0],t=new l(e);return t.getBoundary()}if(2===arguments.length){const e=arguments[0],t=arguments[1],n=new l(e,t);return n.getBoundary()}}boundaryMultiLineString(e){if(this._geom.isEmpty())return this.getEmptyMultiPoint();const t=this.computeBoundaryCoordinates(e);return 1===t.length?this._geomFact.createPoint(t[0]):this._geomFact.createMultiPointFromCoords(t)}getBoundary(){return this._geom instanceof o.a?this.boundaryLineString(this._geom):this._geom instanceof d.a?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()}boundaryLineString(e){if(this._geom.isEmpty())return this.getEmptyMultiPoint();if(e.isClosed()){const t=this._bnRule.isInBoundary(2);return t?e.getStartPoint():this._geomFact.createMultiPoint()}return this._geomFact.createMultiPoint([e.getStartPoint(),e.getEndPoint()])}getEmptyMultiPoint(){return this._geomFact.createMultiPoint()}computeBoundaryCoordinates(e){const t=new r.a;this._endpointMap=new s.a;for(let t=0;t<e.getNumGeometries();t++){const n=e.getGeometryN(t);0===n.getNumPoints()||(this.addEndpoint(n.getCoordinateN(0)),this.addEndpoint(n.getCoordinateN(n.getNumPoints()-1)))}for(let n=this._endpointMap.entrySet().iterator();n.hasNext();){const e=n.next(),o=e.getValue(),a=o.count;this._bnRule.isInBoundary(a)&&t.add(e.getKey())}return i.a.toCoordinateArray(t)}addEndpoint(e){let t=this._endpointMap.get(e);null===t&&(t=new p,this._endpointMap.put(e,t)),t.count++}getClass(){return l}get interfaces_(){return[]}}t.a=l,l.constructor_=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){const e=arguments[0];l.constructor_.call(this,e,a.a.MOD2_BOUNDARY_RULE)}else if(2===arguments.length){const e=arguments[0],t=arguments[1];this._geom=e,this._geomFact=e.getFactory(),this._bnRule=t}};class p{constructor(){p.constructor_.apply(this,arguments)}getClass(){return p}get interfaces_(){return[]}}p.constructor_=function(){this.count=null}},function(e,t){'use strict';function n(e){this.message=e||''}t.a=n;n.prototype=new Error,n.prototype.name='IndexOutOfBoundsException'},function(e,t){'use strict';function n(){}t.a=n;n.prototype.get=function(){},n.prototype.put=function(){},n.prototype.size=function(){},n.prototype.values=function(){},n.prototype.entrySet=function(){}},function(e,t){'use strict';function n(e){this.message=e||''}t.a=n;n.prototype=new Error,n.prototype.name='OperationNotSupported'},function(e,t,n){'use strict';function o(){}t.a=o;var a=n(34);o.prototype=new a.a,o.prototype.contains=function(){}},function(e,t){'use strict';class n{constructor(){n.constructor_.apply(this,arguments)}getClass(){return n}get interfaces_(){return[]}}t.a=n,n.constructor_=function(){}},function(e,t,n){'use strict';function o(){this.array_=[],arguments[0]instanceof a.a&&this.addAll(arguments[0])}t.a=o;var a=n(34),i=n(102),r=n(183),s=n(298);o.prototype=new s.a,o.prototype.contains=function(t){for(let n=0,e=this.array_.length;n<e;n++){const o=this.array_[n];if(0===o.compareTo(t))return!0}return!1},o.prototype.add=function(t){if(this.contains(t))return!1;for(let n=0,e=this.array_.length;n<e;n++){const o=this.array_[n];if(1===o.compareTo(t))return this.array_.splice(n,0,t),!0}return this.array_.push(t),!0},o.prototype.addAll=function(e){for(let t=e.iterator();t.hasNext();)this.add(t.next());return!0},o.prototype.remove=function(){throw new r.a},o.prototype.size=function(){return this.array_.length},o.prototype.isEmpty=function(){return 0===this.array_.length},o.prototype.toArray=function(){const e=[];for(let t=0,n=this.array_.length;t<n;t++)e.push(this.array_[t]);return e},o.prototype.iterator=function(){return new d(this)};const d=function(e){this.treeSet_=e,this.position_=0};d.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new i.a;return this.treeSet_.array_[this.position_++]},d.prototype.hasNext=function(){return!!(this.position_<this.treeSet_.size())},d.prototype.remove=function(){throw new r.a}},function(e,t){'use strict';function n(){}t.a=n,n.isWhitespace=(e)=>32>=e&&0<=e||127===e,n.toUpperCase=(e)=>e.toUpperCase()},function(e,t){'use strict';class n{constructor(){n.constructor_.apply(this,arguments)}getClass(){return n}get interfaces_(){return[]}}t.a=n,n.constructor_=function(){}},function(e,t,n){'use strict';var o=n(1),a=n(308);class i{constructor(){i.constructor_.apply(this,arguments)}static orientationIndex(e,t,n){const o=i.orientationIndexFilter(e,t,n);if(1>=o)return o;const r=a.a.valueOf(t.x).selfAdd(-e.x),s=a.a.valueOf(t.y).selfAdd(-e.y),d=a.a.valueOf(n.x).selfAdd(-t.x),l=a.a.valueOf(n.y).selfAdd(-t.y);return r.selfMultiply(l).selfSubtract(s.selfMultiply(d)).signum()}static signOfDet2x2(){if(arguments[3]instanceof a.a&&arguments[2]instanceof a.a&&arguments[0]instanceof a.a&&arguments[1]instanceof a.a){const e=arguments[0],t=arguments[1],n=arguments[2],o=arguments[3],a=e.multiply(o).selfSubtract(t.multiply(n));return a.signum()}if('number'==typeof arguments[3]&&'number'==typeof arguments[2]&&'number'==typeof arguments[0]&&'number'==typeof arguments[1]){const e=arguments[0],t=arguments[1],n=arguments[2],o=arguments[3],i=a.a.valueOf(e),r=a.a.valueOf(t),s=a.a.valueOf(n),d=a.a.valueOf(o),l=i.multiply(d).selfSubtract(r.multiply(s));return l.signum()}}static intersection(e,t,n,i){const r=a.a.valueOf(i.y).selfSubtract(n.y).selfMultiply(a.a.valueOf(t.x).selfSubtract(e.x)),s=a.a.valueOf(i.x).selfSubtract(n.x).selfMultiply(a.a.valueOf(t.y).selfSubtract(e.y)),d=r.subtract(s),l=a.a.valueOf(i.x).selfSubtract(n.x).selfMultiply(a.a.valueOf(e.y).selfSubtract(n.y)),p=a.a.valueOf(i.y).selfSubtract(n.y).selfMultiply(a.a.valueOf(e.x).selfSubtract(n.x)),_=l.subtract(p),g=_.selfDivide(d).doubleValue(),c=a.a.valueOf(e.x).selfAdd(a.a.valueOf(t.x).selfSubtract(e.x).selfMultiply(g)).doubleValue(),u=a.a.valueOf(t.x).selfSubtract(e.x).selfMultiply(a.a.valueOf(e.y).selfSubtract(n.y)),m=a.a.valueOf(t.y).selfSubtract(e.y).selfMultiply(a.a.valueOf(e.x).selfSubtract(n.x)),h=u.subtract(m),f=h.selfDivide(d).doubleValue(),x=a.a.valueOf(n.y).selfAdd(a.a.valueOf(i.y).selfSubtract(n.y).selfMultiply(f)).doubleValue();return new o.a(c,x)}static orientationIndexFilter(e,t,n){let o=null;const a=(e.x-n.x)*(t.y-n.y),r=(e.y-n.y)*(t.x-n.x),s=a-r;if(0<a){if(0>=r)return i.signum(s);o=a+r}else if(0>a){if(0<=r)return i.signum(s);o=-a-r}else return i.signum(s);const d=i.DP_SAFE_EPSILON*o;return s>=d||-s>=d?i.signum(s):2}static signum(e){return 0<e?1:0>e?-1:0}getClass(){return i}get interfaces_(){return[]}}t.a=i,i.constructor_=function(){},i.DP_SAFE_EPSILON=1e-15},function(e,t,n){'use strict';function o(){this.map_=new Map}t.a=o;var a=n(0),i=n(182),r=n(128);o.prototype=new i.a,o.prototype.get=function(e){return this.map_.get(e)||null},o.prototype.put=function(e,t){return this.map_.set(e,t),t},o.prototype.values=function(){const e=new a.a,t=this.map_.values();for(let n=t.next();!n.done;)e.add(n.value),n=t.next();return e},o.prototype.entrySet=function(){const e=new r.a;return this.map_.entries().forEach((t)=>e.add(t)),e},o.prototype.size=function(){return this.map_.size()}},function(e,t,n){'use strict';var o=n(106),a=n(39),i=n(321),r=n(0),s=n(4),d=n(110);class l{constructor(){l.constructor_.apply(this,arguments)}sortShellsAndHoles(e,t,n){for(let o=e.iterator();o.hasNext();){const e=o.next();e.isHole()?n.add(e):t.add(e)}}computePolygons(e){const t=new r.a;for(let n=e.iterator();n.hasNext();){const e=n.next(),o=e.toPolygon(this._geometryFactory);t.add(o)}return t}placeFreeHoles(e,t){for(let n=t.iterator();n.hasNext();){const t=n.next();if(null===t.getShell()){const n=this.findEdgeRingContaining(t,e);if(null===n)throw new a.a('unable to assign hole to a shell',t.getCoordinate(0));t.setShell(n)}}}buildMinimalEdgeRings(e,t,n){const o=new r.a;for(let a=e.iterator();a.hasNext();){const e=a.next();if(2<e.getMaxNodeDegree()){e.linkDirectedEdgesForMinimalEdgeRings();const o=e.buildMinimalRings(),a=this.findShell(o);null===a?n.addAll(o):(this.placePolygonHoles(a,o),t.add(a))}else o.add(e)}return o}containsPoint(e){for(let t=this._shellList.iterator();t.hasNext();){const n=t.next();if(n.containsPoint(e))return!0}return!1}buildMaximalEdgeRings(e){const t=new r.a;for(let n=e.iterator();n.hasNext();){const e=n.next();if(e.isInResult()&&e.getLabel().isArea()&&null===e.getEdgeRing()){const n=new i.a(e,this._geometryFactory);t.add(n),n.setInResult()}}return t}placePolygonHoles(e,t){for(let n=t.iterator();n.hasNext();){const t=n.next();t.isHole()&&t.setShell(e)}}getPolygons(){const e=this.computePolygons(this._shellList);return e}findEdgeRingContaining(e,t){const n=e.getLinearRing(),a=n.getEnvelopeInternal(),i=n.getCoordinateN(0);let r=null,s=null;for(let n=t.iterator();n.hasNext();){const e=n.next(),t=e.getLinearRing(),d=t.getEnvelopeInternal();null!=r&&(s=r.getLinearRing().getEnvelopeInternal());let l=!1;d.contains(a)&&o.a.isInRing(i,t.getCoordinates())&&(l=!0),l&&(null==r||s.contains(d))&&(r=e)}return r}findShell(e){let t=0,n=null;for(let o=e.iterator();o.hasNext();){const e=o.next();e.isHole()||(n=e,t++)}return s.a.isTrue(1>=t,'found two shells in MinimalEdgeRing list'),n}add(){if(1===arguments.length){const e=arguments[0];this.add(e.getEdgeEnds(),e.getNodes())}else if(2===arguments.length){const e=arguments[0],t=arguments[1];d.a.linkResultDirectedEdges(t);const n=this.buildMaximalEdgeRings(e),o=new r.a,a=this.buildMinimalEdgeRings(n,this._shellList,o);this.sortShellsAndHoles(a,this._shellList,o),this.placeFreeHoles(this._shellList,o)}}getClass(){return l}get interfaces_(){return[]}}t.a=l,l.constructor_=function(){this._geometryFactory=null,this._shellList=new r.a;const e=arguments[0];this._geometryFactory=e}},function(e,t){'use strict';t.a=function(){}},function(e,t,n){'use strict';var o=n(9),a=n(3),i=n(1),r=n(18),s=n(33);class d{constructor(){d.constructor_.apply(this,arguments)}static locatePointInRing(){if(arguments[0]instanceof i.a&&Object(a.a)(arguments[1],s.a)){const e=arguments[0],t=arguments[1],n=new d(e),o=new i.a,a=new i.a;for(let e=1;e<t.size();e++)if(t.getCoordinate(e,o),t.getCoordinate(e-1,a),n.countSegment(o,a),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof i.a&&arguments[1]instanceof Array){const e=arguments[0],t=arguments[1],n=new d(e);for(let e=1;e<t.length;e++){const o=t[e],a=t[e-1];if(n.countSegment(o,a),n.isOnSegment())return n.getLocation()}return n.getLocation()}}countSegment(e,t){if(e.x<this._p.x&&t.x<this._p.x)return null;if(this._p.x===t.x&&this._p.y===t.y)return this._isPointOnSegment=!0,null;if(e.y===this._p.y&&t.y===this._p.y){let n=e.x,o=t.x;return n>o&&(n=t.x,o=e.x),this._p.x>=n&&this._p.x<=o&&(this._isPointOnSegment=!0),null}if(e.y>this._p.y&&t.y<=this._p.y||t.y>this._p.y&&e.y<=this._p.y){let n=r.a.index(e,t,this._p);if(n===r.a.COLLINEAR)return this._isPointOnSegment=!0,null;t.y<e.y&&(n=-n),n===r.a.LEFT&&this._crossingCount++}}isPointInPolygon(){return this.getLocation()!==o.a.EXTERIOR}getLocation(){return this._isPointOnSegment?o.a.BOUNDARY:1==this._crossingCount%2?o.a.INTERIOR:o.a.EXTERIOR}isOnSegment(){return this._isPointOnSegment}getClass(){return d}get interfaces_(){return[]}}t.a=d,d.constructor_=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;const e=arguments[0];this._p=e}},function(e,t,n){'use strict';var o=n(9),a=n(12),i=n(106),r=n(39),s=n(18),d=n(29),l=n(0),p=n(4);class _{constructor(){_.constructor_.apply(this,arguments)}computeRing(){if(null!==this._ring)return null;const e=Array(this._pts.size()).fill(null);for(let t=0;t<this._pts.size();t++)e[t]=this._pts.get(t);this._ring=this._geometryFactory.createLinearRing(e),this._isHole=s.a.isCCW(this._ring.getCoordinates())}isIsolated(){return 1===this._label.getGeometryCount()}computePoints(e){this._startDe=e;let t=e,n=!0;do{if(null===t)throw new r.a('Found null DirectedEdge');if(t.getEdgeRing()===this)throw new r.a('Directed Edge visited twice during ring-building at '+t.getCoordinate());this._edges.add(t);const e=t.getLabel();p.a.isTrue(e.isArea()),this.mergeLabel(e),this.addPoints(t.getEdge(),t.isForward(),n),n=!1,this.setEdgeRing(t,this),t=this.getNext(t)}while(t!==this._startDe)}getLinearRing(){return this._ring}getCoordinate(e){return this._pts.get(e)}computeMaxNodeDegree(){this._maxNodeDegree=0;let e=this._startDe;do{const t=e.getNode(),n=t.getEdges().getOutgoingDegree(this);n>this._maxNodeDegree&&(this._maxNodeDegree=n),e=this.getNext(e)}while(e!==this._startDe);this._maxNodeDegree*=2}addPoints(e,t,n){const o=e.getCoordinates();if(t){let e=1;n&&(e=0);for(let t=e;t<o.length;t++)this._pts.add(o[t])}else{let e=o.length-2;n&&(e=o.length-1);for(let t=e;0<=t;t--)this._pts.add(o[t])}}isHole(){return this._isHole}setInResult(){let e=this._startDe;do e.getEdge().setInResult(!0),e=e.getNext();while(e!==this._startDe)}containsPoint(e){const t=this.getLinearRing(),n=t.getEnvelopeInternal();if(!n.contains(e))return!1;if(!i.a.isInRing(e,t.getCoordinates()))return!1;for(let t=this._holes.iterator();t.hasNext();){const n=t.next();if(n.containsPoint(e))return!1}return!0}addHole(e){this._holes.add(e)}isShell(){return null===this._shell}getLabel(){return this._label}getEdges(){return this._edges}getMaxNodeDegree(){return 0>this._maxNodeDegree&&this.computeMaxNodeDegree(),this._maxNodeDegree}getShell(){return this._shell}mergeLabel(){if(1===arguments.length){const e=arguments[0];this.mergeLabel(e,0),this.mergeLabel(e,1)}else if(2===arguments.length){const e=arguments[0],t=arguments[1],n=e.getLocation(t,a.a.RIGHT);if(n===o.a.NONE)return null;if(this._label.getLocation(t)===o.a.NONE)return this._label.setLocation(t,n),null}}setShell(e){this._shell=e,null!==e&&e.addHole(this)}toPolygon(e){const t=Array(this._holes.size()).fill(null);for(let n=0;n<this._holes.size();n++)t[n]=this._holes.get(n).getLinearRing();const n=e.createPolygon(this.getLinearRing(),t);return n}getClass(){return _}get interfaces_(){return[]}}t.a=_,_.constructor_=function(){if(this._startDe=null,this._maxNodeDegree=-1,this._edges=new l.a,this._pts=new l.a,this._label=new d.a(o.a.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new l.a,this._geometryFactory=null,0===arguments.length);else if(2===arguments.length){const e=arguments[0],t=arguments[1];this._geometryFactory=t,this.computePoints(e),this.computeRing()}}},function(e,t,n){'use strict';var o=n(4);class a{constructor(){a.constructor_.apply(this,arguments)}setVisited(e){this._isVisited=e}setInResult(e){this._isInResult=e}isCovered(){return this._isCovered}isCoveredSet(){return this._isCoveredSet}setLabel(e){this._label=e}getLabel(){return this._label}setCovered(e){this._isCovered=e,this._isCoveredSet=!0}updateIM(e){o.a.isTrue(2<=this._label.getGeometryCount(),'found partial label'),this.computeIM(e)}isInResult(){return this._isInResult}isVisited(){return this._isVisited}getClass(){return a}get interfaces_(){return[]}}t.a=a,a.constructor_=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){const e=arguments[0];this._label=e}}},function(e,t,n){'use strict';var o=n(9),a=n(325),r=n(12),i=n(39),s=n(29);class d extends a.a{constructor(){super(),d.constructor_.apply(this,arguments)}static depthFactor(e,t){if(e===o.a.EXTERIOR&&t===o.a.INTERIOR)return 1;return e===o.a.INTERIOR&&t===o.a.EXTERIOR?-1:0}getNextMin(){return this._nextMin}getDepth(e){return this._depth[e]}setVisited(e){this._isVisited=e}computeDirectedLabel(){this._label=new s.a(this._edge.getLabel()),this._isForward||this._label.flip()}getNext(){return this._next}setDepth(e,t){if(-999!==this._depth[e]&&this._depth[e]!==t)throw new i.a('assigned depths do not match',this.getCoordinate());this._depth[e]=t}isInteriorAreaEdge(){let e=!0;for(let t=0;2>t;t++)this._label.isArea(t)&&this._label.getLocation(t,r.a.LEFT)===o.a.INTERIOR&&this._label.getLocation(t,r.a.RIGHT)===o.a.INTERIOR||(e=!1);return e}setNextMin(e){this._nextMin=e}print(e){super.print.call(this,e),e.print(' '+this._depth[r.a.LEFT]+'/'+this._depth[r.a.RIGHT]),e.print(' ('+this.getDepthDelta()+')'),this._isInResult&&e.print(' inResult')}setMinEdgeRing(e){this._minEdgeRing=e}isLineEdge(){const e=this._label.isLine(0)||this._label.isLine(1),t=!this._label.isArea(0)||this._label.allPositionsEqual(0,o.a.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,o.a.EXTERIOR);return e&&t&&n}setEdgeRing(e){this._edgeRing=e}getMinEdgeRing(){return this._minEdgeRing}getDepthDelta(){let e=this._edge.getDepthDelta();return this._isForward||(e=-e),e}setInResult(e){this._isInResult=e}getSym(){return this._sym}isForward(){return this._isForward}getEdge(){return this._edge}printEdge(e){this.print(e),e.print(' '),this._isForward?this._edge.print(e):this._edge.printReverse(e)}setSym(e){this._sym=e}setVisitedEdge(e){this.setVisited(e),this._sym.setVisited(e)}setEdgeDepths(e,t){let n=this.getEdge().getDepthDelta();this._isForward||(n=-n);let o=1;e===r.a.LEFT&&(o=-1);const a=r.a.opposite(e),i=n*o;this.setDepth(e,t),this.setDepth(a,t+i)}getEdgeRing(){return this._edgeRing}isInResult(){return this._isInResult}setNext(e){this._next=e}isVisited(){return this._isVisited}getClass(){return d}get interfaces_(){return[]}}t.a=d,d.constructor_=function(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];const e=arguments[0],t=arguments[1];if(a.a.constructor_.call(this,e),this._isForward=t,t)this.init(e.getCoordinate(0),e.getCoordinate(1));else{const t=e.getNumPoints()-1;this.init(e.getCoordinate(t),e.getCoordinate(t-1))}this.computeDirectedLabel()}},function(e,t,n){'use strict';var o=n(111);class a{constructor(){a.constructor_.apply(this,arguments)}createNode(e){return new o.a(e,null)}getClass(){return a}get interfaces_(){return[]}}t.a=a,a.constructor_=function(){}},function(e,t,n){'use strict';var o=n(199),a=n(21);class i{constructor(){i.constructor_.apply(this,arguments)}getItem(){return this._item}getBounds(){return this._bounds}getClass(){return i}get interfaces_(){return[o.a,a.a]}}t.a=i,i.constructor_=function(){this._bounds=null,this._item=null;const e=arguments[0],t=arguments[1];this._bounds=e,this._item=t}},function(e,t){'use strict';class n{constructor(){n.constructor_.apply(this,arguments)}getBounds(){}getClass(){return n}get interfaces_(){return[]}}t.a=n,n.constructor_=function(){}},function(e,t){'use strict';function n(){}t.a=n;n.prototype.hasNext=function(){},n.prototype.next=function(){},n.prototype.remove=function(){}},function(e,t,n){'use strict';var o=n(1),a=n(6);class i{constructor(){i.constructor_.apply(this,arguments)}static octant(){if('number'==typeof arguments[0]&&'number'==typeof arguments[1]){const e=arguments[0],t=arguments[1];if(0===e&&0===t)throw new a.a('Cannot compute the octant for point ( '+e+', '+t+' )');const n=d(e),o=d(t);return 0<=e?0<=t?n>=o?0:1:n>=o?7:6:0<=t?n>=o?3:2:n>=o?4:5}if(arguments[0]instanceof o.a&&arguments[1]instanceof o.a){const e=arguments[0],t=arguments[1],n=t.x-e.x,o=t.y-e.y;if(0==n&&0==o)throw new a.a('Cannot compute the octant for two identical points '+e);return i.octant(n,o)}}getClass(){return i}get interfaces_(){return[]}}t.a=i,i.constructor_=function(){}},function(e,t){'use strict';class n{constructor(){n.constructor_.apply(this,arguments)}getCoordinates(){}size(){}getCoordinate(){}isClosed(){}setData(){}getData(){}getClass(){return n}get interfaces_(){return[]}}t.a=n,n.constructor_=function(){}},function(e,t,n){'use strict';var o=n(22);class a{constructor(){a.constructor_.apply(this,arguments)}getLineSegment(e,t){t.p0=this._pts[e],t.p1=this._pts[e+1]}computeSelect(e,t,n,o){const a=this._pts[t],i=this._pts[n];if(1==n-t)return o.select(this,t),null;if(!e.intersects(a,i))return null;const r=c((t+n)/2);t<r&&this.computeSelect(e,t,r,o),r<n&&this.computeSelect(e,r,n,o)}getCoordinates(){const e=Array(this._end-this._start+1).fill(null);let t=0;for(let n=this._start;n<=this._end;n++)e[t++]=this._pts[n];return e}computeOverlaps(){if(2===arguments.length){const e=arguments[0],t=arguments[1];this.computeOverlaps(this._start,this._end,e,e._start,e._end,t)}else if(6===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2],o=arguments[3],a=arguments[4],i=arguments[5];if(1==t-e&&1==a-o)return i.overlap(this,e,n,o),null;if(!this.overlaps(e,t,n,o,a))return null;const r=c((e+t)/2),s=c((o+a)/2);e<r&&(o<s&&this.computeOverlaps(e,r,n,o,s,i),s<a&&this.computeOverlaps(e,r,n,s,a,i)),r<t&&(o<s&&this.computeOverlaps(r,t,n,o,s,i),s<a&&this.computeOverlaps(r,t,n,s,a,i))}}setId(e){this._id=e}select(e,t){this.computeSelect(e,this._start,this._end,t)}getEnvelope(){if(null===this._env){const e=this._pts[this._start],t=this._pts[this._end];this._env=new o.a(e,t)}return this._env}overlaps(e,t,n,a,i){return o.a.intersects(this._pts[e],this._pts[t],n._pts[a],n._pts[i])}getEndIndex(){return this._end}getStartIndex(){return this._start}getContext(){return this._context}getId(){return this._id}getClass(){return a}get interfaces_(){return[]}}t.a=a,a.constructor_=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;const e=arguments[0],t=arguments[1],n=arguments[2],o=arguments[3];this._pts=e,this._start=t,this._end=n,this._context=o}},function(e,n,o){'use strict';var a=o(18);class i{constructor(){i.constructor_.apply(this,arguments)}static toDegrees(e){return 180*e/s}static normalize(e){for(;e>s;)e-=i.PI_TIMES_2;for(;e<=-s;)e+=i.PI_TIMES_2;return e}static angle(){if(1===arguments.length){const e=arguments[0];return t(e.y,e.x)}if(2===arguments.length){const e=arguments[0],n=arguments[1],o=n.x-e.x,a=n.y-e.y;return t(a,o)}}static isAcute(e,t,n){const o=e.x-t.x,a=e.y-t.y,i=n.x-t.x,r=n.y-t.y;return 0<o*i+a*r}static isObtuse(e,t,n){const o=e.x-t.x,a=e.y-t.y,i=n.x-t.x,r=n.y-t.y;return 0>o*i+a*r}static interiorAngle(e,t,n){const o=i.angle(t,e),a=i.angle(t,n);return d(a-o)}static normalizePositive(e){if(0>e){for(;0>e;)e+=i.PI_TIMES_2;e>=i.PI_TIMES_2&&(e=0)}else{for(;e>=i.PI_TIMES_2;)e-=i.PI_TIMES_2;0>e&&(e=0)}return e}static angleBetween(e,t,n){const o=i.angle(t,e),a=i.angle(t,n);return i.diff(o,a)}static diff(e,t){let n=null;return n=e<t?t-e:e-t,n>s&&(n=2*s-n),n}static toRadians(e){return e*s/180}static getTurn(e,t){const n=r(t-e);return 0<n?i.COUNTERCLOCKWISE:0>n?i.CLOCKWISE:i.NONE}static angleBetweenOriented(e,t,n){const o=i.angle(t,e),a=i.angle(t,n),r=a-o;return r<=-s?r+i.PI_TIMES_2:r>s?r-i.PI_TIMES_2:r}getClass(){return i}get interfaces_(){return[]}}n.a=i,i.constructor_=function(){},i.PI_TIMES_2=2*s,i.PI_OVER_2=s/2,i.PI_OVER_4=s/4,i.COUNTERCLOCKWISE=a.a.COUNTERCLOCKWISE,i.CLOCKWISE=a.a.CLOCKWISE,i.NONE=a.a.COLLINEAR},function(e,t,n){'use strict';var o=n(346),a=n(111),i=n(197);class r extends i.a{constructor(){super(),r.constructor_.apply(this,arguments)}createNode(e){return new a.a(e,new o.a())}getClass(){return r}get interfaces_(){return[]}}t.a=r,r.constructor_=function(){}},function(e,t){'use strict';class n{constructor(){n.constructor_.apply(this,arguments)}locate(){}getClass(){return n}get interfaces_(){return[]}}t.a=n,n.constructor_=function(){}},function(e,t,n){'use strict';var o=n(200),a=n(102),i=n(24);class r{constructor(){r.constructor_.apply(this,arguments)}static isAtomic(e){return!(e instanceof i.a)}next(){if(this._atStart)return this._atStart=!1,r.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new a.a;const e=this._parent.getGeometryN(this._index++);return e instanceof i.a?(this._subcollectionIterator=new r(e),this._subcollectionIterator.next()):e}remove(){throw new UnsupportedOperationException(this.getClass().getName())}hasNext(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)}getClass(){return r}get interfaces_(){return[o.a]}}t.a=r,r.constructor_=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;const e=arguments[0];this._parent=e,this._atStart=!0,this._index=0,this._max=e.getNumGeometries()}},function(e,t,n){'use strict';var o=n(349),a=n(0),i=n(68);class r{constructor(){r.constructor_.apply(this,arguments)}print(t){t.print('MULTILINESTRING ( ');for(let n=0;n<this._edges.size();n++){const o=this._edges.get(n);0<n&&t.print(','),t.print('(');const e=o.getCoordinates();for(let n=0;n<e.length;n++)0<n&&t.print(','),t.print(e[n].x+' '+e[n].y);t.println(')')}t.print(')  ')}addAll(e){for(let t=e.iterator();t.hasNext();)this.add(t.next())}findEdgeIndex(t){for(let e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1}iterator(){return this._edges.iterator()}getEdges(){return this._edges}get(e){return this._edges.get(e)}findEqualEdge(t){const e=new o.a(t.getCoordinates()),n=this._ocaMap.get(e);return n}add(t){this._edges.add(t);const e=new o.a(t.getCoordinates());this._ocaMap.put(e,t)}getClass(){return r}get interfaces_(){return[]}}t.a=r,r.constructor_=function(){this._edges=new a.a,this._ocaMap=new i.a}},function(e){e.exports='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NzIuNTM4IiBoZWlnaHQ9IjU1Ni4wOTQiIHZpZXdCb3g9IjAgMCA1MzYuNzU1IDUyMS4zMzgiPjxnIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCI+PHBhdGggZD0iTTQ5MS45NzggMTA0Ljg1OEwzNzUuMDUzIDMyMi42MzNsLTE5Ny45OTUgMzMuNTI4LTUyLjExMiAxMjAuNTYyIDUwLjUwOC0xMjAuNzY1IDIwMC0zMHoiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSI5MCIvPjxwYXRoIGQ9Ik00OTEuOTc4IDEwNC44NThMMzc1LjA1MyAzMjIuNjMzbC0xOTcuOTk1IDMzLjUyOC01Mi4xMTIgMTIwLjU2MiA1MC41MDgtMTIwLjc2NSAyMDAtMzB6IiBzdHJva2U9IiNmZmYiIHN0cm9rZS13aWR0aD0iNDAiLz48cGF0aCBkPSJNMzgxLjk3OCAxNC44NThMMjY1LjA1MyAyMzIuNjMzIDY3LjA1OCAyNjYuMTYgMTQuOTQ2IDM4Ni43MjNsNTAuNTA4LTEyMC43NjUgMjAwLTMweiIgc3Ryb2tlPSIjOGE4YThhIiBzdHJva2Utd2lkdGg9IjMwIi8+PC9nPjwvc3ZnPg=='},function(e,t,n){'use strict';var o=n(186),a=n(366),i=n(3),r=n(20),s=n(211),d=n(132),l=n(83);class p{constructor(){p.constructor_.apply(this,arguments)}static snap(e,t,n){const o=[,,].fill(null),a=new p(e);o[0]=a.snapTo(t,n);const i=new p(t);return o[1]=i.snapTo(o[0],n),o}static computeOverlaySnapTolerance(){if(1===arguments.length){const e=arguments[0];let t=p.computeSizeBasedSnapTolerance(e);const n=e.getPrecisionModel();if(n.getType()===d.a.FIXED){const e=2*(1/n.getScale())/1.415;e>t&&(t=e)}return t}if(2===arguments.length){const e=arguments[0],t=arguments[1];return C(p.computeOverlaySnapTolerance(e),p.computeOverlaySnapTolerance(t))}}static computeSizeBasedSnapTolerance(e){const t=e.getEnvelopeInternal(),n=C(t.getHeight(),t.getWidth()),o=n*p.SNAP_PRECISION_FACTOR;return o}static snapToSelf(e,t,n){const o=new p(e);return o.snapToSelf(t,n)}snapTo(e,t){const n=this.extractTargetCoordinates(e),o=new _(t,n);return o.transform(this._srcGeom)}snapToSelf(e,t){const n=this.extractTargetCoordinates(this._srcGeom),o=new _(e,n,!0),a=o.transform(this._srcGeom);let r=a;return t&&Object(i.a)(r,l.a)&&(r=a.buffer(0)),r}computeSnapTolerance(e){const t=this.computeMinimumSegmentLength(e);return t/10}extractTargetCoordinates(e){const t=new o.a,n=e.getCoordinates();for(let o=0;o<n.length;o++)t.add(n[o]);return t.toArray([].fill(null))}computeMinimumSegmentLength(e){let t=r.a.MAX_VALUE;for(let n=0;n<e.length-1;n++){const o=e[n].distance(e[n+1]);o<t&&(t=o)}return t}getClass(){return p}get interfaces_(){return[]}}t.a=p,p.constructor_=function(){this._srcGeom=null;const e=arguments[0];this._srcGeom=e},p.SNAP_PRECISION_FACTOR=1e-9;class _ extends a.a{constructor(){super(),_.constructor_.apply(this,arguments)}snapLine(e,t){const n=new s.a(e,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(t)}transformCoordinates(e){const t=e.toCoordinateArray(),n=this.snapLine(t,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(n)}getClass(){return _}get interfaces_(){return[]}}_.constructor_=function(){if(this._snapTolerance=null,this._snapPts=null,this._isSelfSnap=!1,2===arguments.length){const e=arguments[0],t=arguments[1];this._snapTolerance=e,this._snapPts=t}else if(3===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2];this._snapTolerance=e,this._snapPts=t,this._isSelfSnap=n}}},function(e,t,n){'use strict';var o=n(27),a=n(101),r=n(1),i=n(20),s=n(73);class d{constructor(){d.constructor_.apply(this,arguments)}static isClosed(e){return!(1>=e.length)&&e[0].equals2D(e[e.length-1])}snapVertices(e,t){const n=this._isClosed?e.size()-1:e.size();for(let o=0;o<n;o++){const n=e.get(o),a=this.findSnapForVertex(n,t);null!==a&&(e.set(o,new r.a(a)),0===o&&this._isClosed&&e.set(e.size()-1,new r.a(a)))}}findSnapForVertex(e,t){for(let n=0;n<t.length;n++){if(e.equals2D(t[n]))return null;if(e.distance(t[n])<this._snapTolerance)return t[n]}return null}snapTo(e){const t=new a.a(this._srcPts);this.snapVertices(t,e),this.snapSegments(t,e);const n=t.toCoordinateArray();return n}snapSegments(e,t){if(0===t.length)return null;let n=t.length;t[0].equals2D(t[t.length-1])&&(n=t.length-1);for(let o=0;o<n;o++){const n=t[o],a=this.findSegmentIndexToSnap(n,e);0<=a&&e.add(a+1,new r.a(n),!1)}}findSegmentIndexToSnap(e,t){let n=i.a.MAX_VALUE,o=-1;for(let a=0;a<t.size()-1;a++){if(this._seg.p0=t.get(a),this._seg.p1=t.get(a+1),this._seg.p0.equals2D(e)||this._seg.p1.equals2D(e))if(this._allowSnappingToSourceVertices)continue;else return-1;const i=this._seg.distance(e);i<this._snapTolerance&&i<n&&(n=i,o=a)}return o}setAllowSnappingToSourceVertices(e){this._allowSnappingToSourceVertices=e}getClass(){return d}get interfaces_(){return[]}}t.a=d,d.constructor_=function(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new s.a,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof o.a&&'number'==typeof arguments[1]){const e=arguments[0],t=arguments[1];d.constructor_.call(this,e.getCoordinates(),t)}else if(arguments[0]instanceof Array&&'number'==typeof arguments[1]){const e=arguments[0],t=arguments[1];this._srcPts=e,this._isClosed=d.isClosed(e),this._snapTolerance=t}}},function(e,t,n){'use strict';var o=n(9),a=n(27),i=n(6),r=n(69),s=n(52),d=n(106),l=n(100),_=n(70),g=n(207),c=n(24),u=n(50);class p{constructor(){p.constructor_.apply(this,arguments)}locateInPolygonRing(e,t){return t.getEnvelopeInternal().intersects(e)?d.a.locateInRing(e,t.getCoordinates()):o.a.EXTERIOR}intersects(e,t){return this.locate(e,t)!==o.a.EXTERIOR}updateLocationInfo(e){e===o.a.INTERIOR&&(this._isIn=!0),e===o.a.BOUNDARY&&this._numBoundaries++}computeLocation(e,t){if(t instanceof r.a&&this.updateLocationInfo(this.locateOnPoint(e,t)),t instanceof a.a)this.updateLocationInfo(this.locateOnLineString(e,t));else if(t instanceof s.a)this.updateLocationInfo(this.locateInPolygon(e,t));else if(t instanceof u.a){const n=t;for(let t=0;t<n.getNumGeometries();t++){const o=n.getGeometryN(t);this.updateLocationInfo(this.locateOnLineString(e,o))}}else if(t instanceof _.a){const n=t;for(let t=0;t<n.getNumGeometries();t++){const o=n.getGeometryN(t);this.updateLocationInfo(this.locateInPolygon(e,o))}}else if(t instanceof c.a)for(const n=new g.a(t);n.hasNext();){const o=n.next();o!==t&&this.computeLocation(e,o)}}locateOnPoint(e,t){const n=t.getCoordinate();return n.equals2D(e)?o.a.INTERIOR:o.a.EXTERIOR}locateOnLineString(e,t){if(!t.getEnvelopeInternal().intersects(e))return o.a.EXTERIOR;const n=t.getCoordinateSequence();return!t.isClosed()&&(e.equals(n.getCoordinate(0))||e.equals(n.getCoordinate(n.size()-1)))?o.a.BOUNDARY:d.a.isOnLine(e,n)?o.a.INTERIOR:o.a.EXTERIOR}locateInPolygon(e,t){if(t.isEmpty())return o.a.EXTERIOR;const n=t.getExteriorRing(),a=this.locateInPolygonRing(e,n);if(a===o.a.EXTERIOR)return o.a.EXTERIOR;if(a===o.a.BOUNDARY)return o.a.BOUNDARY;for(let n=0;n<t.getNumInteriorRing();n++){const a=t.getInteriorRingN(n),i=this.locateInPolygonRing(e,a);if(i===o.a.INTERIOR)return o.a.EXTERIOR;if(i===o.a.BOUNDARY)return o.a.BOUNDARY}return o.a.INTERIOR}locate(e,t){return t.isEmpty()?o.a.EXTERIOR:t instanceof a.a?this.locateOnLineString(e,t):t instanceof s.a?this.locateInPolygon(e,t):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(e,t),this._boundaryRule.isInBoundary(this._numBoundaries)?o.a.BOUNDARY:0<this._numBoundaries||this._isIn?o.a.INTERIOR:o.a.EXTERIOR)}getClass(){return p}get interfaces_(){return[]}}t.a=p,p.constructor_=function(){if(this._boundaryRule=l.a.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){const e=arguments[0];if(null===e)throw new i.a('Rule must be non-null');this._boundaryRule=e}}},function(e,t){'use strict';class n{constructor(){n.constructor_.apply(this,arguments)}static isAdjacentSegments(e,t){return 1===d(e-t)}isTrivialIntersection(e,t,o,a){if(e===o&&1===this._li.getIntersectionNum()){if(n.isAdjacentSegments(t,a))return!0;if(e.isClosed()){const n=e.getNumPoints()-1;if(0===t&&a===n||0===a&&t===n)return!0}}return!1}getProperIntersectionPoint(){return this._properIntersectionPoint}setIsDoneIfProperInt(e){this._isDoneWhenProperInt=e}hasProperInteriorIntersection(){return this._hasProperInterior}isBoundaryPointInternal(e,t){for(let n=t.iterator();n.hasNext();){const t=n.next(),o=t.getCoordinate();if(e.isIntersection(o))return!0}return!1}hasProperIntersection(){return this._hasProper}hasIntersection(){return this._hasIntersection}isDone(){return this._isDone}isBoundaryPoint(e,t){return null!==t&&(!!this.isBoundaryPointInternal(e,t[0])||!!this.isBoundaryPointInternal(e,t[1]))}setBoundaryNodes(e,t){this._bdyNodes=[,,].fill(null),this._bdyNodes[0]=e,this._bdyNodes[1]=t}addIntersections(e,t,n,o){if(e===n&&t===o)return null;this.numTests++;const a=e.getCoordinates()[t],i=e.getCoordinates()[t+1],r=n.getCoordinates()[o],s=n.getCoordinates()[o+1];this._li.computeIntersection(a,i,r,s),this._li.hasIntersection()&&(this._recordIsolated&&(e.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,!this.isTrivialIntersection(e,t,n,o)&&(this._hasIntersection=!0,(this._includeProper||!this._li.isProper())&&(e.addIntersections(this._li,t,0),n.addIntersections(this._li,o,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),!this.isBoundaryPoint(this._li,this._bdyNodes)&&(this._hasProperInterior=!0))))}getClass(){return n}get interfaces_(){return[]}}t.a=n,n.constructor_=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;const e=arguments[0],t=arguments[1],n=arguments[2];this._li=e,this._includeProper=t,this._recordIsolated=n}},function(e,t,n){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=n(399),s=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(a===void 0){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if('value'in a)return a.value;var r=a.get;return void 0===r?void 0:r.call(o)},l=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.controls=(e||{}).controls,n.ignoreKeys=['title','image','className'],n}return i(t,e),s(t,[{key:'activate',value:function(){var e=this;d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'activate',this).call(this),this.controls=this.controls||this.editor.getControls().getArray(),this.restoreProperties(),this.restoreActiveControls(),this.controls.forEach(function(t){t.addEventListener('propertychange',function(t){e.storeProperties(t.detail.control.getProperties().title,t.detail.properties)}),t.addEventListener('change:active',function(){e.storeActiveControls()})})}},{key:'deactivate',value:function(){d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'deactivate',this).call(this),this.controls.forEach(function(e){e.removeEventListener('propertychange')})}},{key:'storeProperties',value:function(e,t){for(var n={},o=Object.keys(t),a=0,i;a<o.length;a+=1)i=o[a],-1!==this.ignoreKeys.indexOf(i)||t[i]instanceof Object||(n[i]=t[i]);return n}},{key:'restoreProperties',value:function(){}},{key:'storeActiveControls',value:function(){var e=this.editor.getActiveControls();return e.getArray().map(function(e){return e.getProperties().title})}},{key:'restoreActiveControls',value:function(){}}]),t}(r.a);t.a=l},function(e,t,n){e.exports=n(216)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(217),a=n(225),i=n(397),r=n(97);n.d(t,'control',function(){return a}),n.d(t,'service',function(){return i}),n.d(t,'interaction',function(){return r}),n.d(t,'Editor',function(){return o.a})},function(e,t,n){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var a=n(54),i=n(218),r=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(){function e(t,n){o(this,e),this.map=t,this.controls=new a.a,this.activeControls=new a.a,this.services=new a.a,this.options=n||{},this.editFeature=null,'undefined'==typeof this.options.showToolbar&&(this.options.showToolbar=!0),this.options.showToolbar&&(this.toolbar=new i.a(this.map,this.controls,this.options.target))}return r(e,[{key:'addControl',value:function(e){var t=this;e.setMap(this.map),e.setEditor(this),e.addEventListener('change:active',function(n){t.activeStateChange(n.detail.control)}),this.controls.push(e)}},{key:'addService',value:function(e){e.setMap(this.map),e.setEditor(this),e.activate(),this.services.push(e)}},{key:'addControls',value:function(e){for(var t=e instanceof a.a?e:new a.a(e),n=0;n<t.getLength();n+=1)this.addControl(t.item(n))}},{key:'remove',value:function(){this.controls.forEach(function(e){e.deactivate(!0)}),this.toolbar&&this.toolbar.destroy()}},{key:'getControls',value:function(){return this.controls}},{key:'getActiveControls',value:function(){return this.activeControls}},{key:'setEditFeature',value:function(e){this.editFeature=e}},{key:'getEditFeature',value:function(){return this.editFeature}},{key:'activeStateChange',value:function(e){if(e.getActive()&&e.standalone)for(var t=0,n;t<this.controls.getLength();t+=1)n=this.controls.item(t),n!==e&&n.getActive()&&n.standalone&&(n.deactivate(),this.activeControls.remove(n));e.getActive()?this.activeControls.push(e):this.activeControls.remove(e)}}]),e}();t.a=s},function(e,t,n){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=n(143),s=n(220),d=n.n(s),l=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),p=function(e){function t(e,n,i){o(this,t);var r=document.createElement('div');r.setAttribute('id','ole-toolbar');var s=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{element:i||r}));return s.controls=n,s.map=e,i||s.map.getTargetElement().appendChild(s.element),s.load(),s.controls.on('change:length',s.load.bind(s)),s}return i(t,e),l(t,[{key:'load',value:function(){for(var e=0,t;e<this.controls.getLength();e+=1)t=this.controls.item(e).getElement(),this.element.appendChild(t)}},{key:'destroy',value:function(){for(var e=0,t;e<this.controls.getLength();e+=1)t=this.controls.item(e).getElement(),this.element.removeChild(t)}}]),t}(r.a);t.a=p},function(e,t){'use strict';t.a={POSTRENDER:'postrender',MOVESTART:'movestart',MOVEEND:'moveend'}},function(e,t,n){var o=n(221);'string'==typeof o&&(o=[[e.i,o,'']]);var a={hmr:!0},i;a.transform=i,a.insertInto=void 0;n(223)(o,a);o.locals&&(e.exports=o.locals),!1},function(e,t,n){t=e.exports=n(222)(!1),t.push([e.i,'#ole-toolbar {\n  position: absolute;\n  right: 20px;\n  top: 20px;\n}\n\n#ole-toolbar button.ole-control {\n  background: #fafafa;\n  border: 0;\n  color: #999;\n  cursor: pointer;\n  font-size: 14px;\n  line-height: 36px;\n  height: 45px;\n  padding: 0 8px;\n  transition: all .3s ease-out;\n}\n\n#ole-toolbar button.ole-control:first-child {\n  border-radius: 4px 0 0 4px;\n}\n\n#ole-toolbar button.ole-control:last-child {\n  border-radius: 0 4px 4px 0;\n}\n\n#ole-toolbar button.ole-control:hover {\n  color: #5c5c5c;\n}\n\n#ole-toolbar button.ole-control:focus {\n  outline: 0;\n}\n\n#ole-toolbar button.ole-control.active {\n  box-shadow: 0 4px 4px 0 rgba(0,0,0,0.3);\n  color: #5c5c5c;\n  filter: brightness(90%);\n}\n\n/* buttons */\n#ole-toolbar button.ole-control {\n  padding: 5px;\n}\n\n#ole-toolbar button.ole-control img {\n  height: 35px;\n}\n\n\n/* dialog */\n.ole-dialog {\n  background: #fafafa;\n  border-radius: 4px;\n  right: 20px;\n  padding: 10px;\n  position: absolute;\n  text-align: left;\n  top: 75px;\n  width: 330px;\n  z-index: 2;\n}\n\n/* font */\n#ole-toolbar, .ole-dialog {\n  font-family: Arial;\n  font-size:  14px;\n}\n\n/* shadow */\n#ole-toolbar button.ole-control, .ole-dialog {\n  box-shadow: 0 3px 3px 0 rgba(0,0,0,0.2);\n}\n\n#width-input {\n  width: 50px;\n}\n',''])},function(e){function t(e,t){var o=e[1]||'',a=e[3];if(!a)return o;if(t&&'function'==typeof btoa){var i=n(a),r=a.sources.map(function(e){return'/*# sourceURL='+a.sourceRoot+e+' */'});return[o].concat(r).concat([i]).join('\n')}return[o].join('\n')}function n(e){var t=btoa(unescape(encodeURIComponent(JSON.stringify(e))));return'/*# '+('sourceMappingURL=data:application/json;charset=utf-8;base64,'+t)+' */'}e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var o=t(n,e);return n[2]?'@media '+n[2]+'{'+o+'}':o}).join('')},n.i=function(e,t){'string'==typeof e&&(e=[[null,e,'']]);for(var o={},a=0,i;a<this.length;a++)i=this[a][0],'number'==typeof i&&(o[i]=!0);for(a=0;a<e.length;a++){var r=e[a];'number'==typeof r[0]&&o[r[0]]||(t&&!r[2]?r[2]=t:t&&(r[2]='('+r[2]+') and ('+t+')'),n.push(r))}},n}},function(e,t,n){function o(e,t){for(var n=0;n<e.length;n++){var o=e[n],a=u[o.id];if(a){a.refs++;for(var i=0;i<a.parts.length;i++)a.parts[i](o.parts[i]);for(;i<o.parts.length;i++)a.parts.push(p(o.parts[i],t))}else{for(var r=[],i=0;i<o.parts.length;i++)r.push(p(o.parts[i],t));u[o.id]={id:o.id,refs:1,parts:r}}}}function a(e,t){for(var n=[],o={},a=0;a<e.length;a++){var i=e[a],r=t.base?i[0]+t.base:i[0],s=i[1],d=i[2],l=i[3],p={css:s,media:d,sourceMap:l};o[r]?o[r].parts.push(p):n.push(o[r]={id:r,parts:[p]})}return n}function i(e,t){var n=h(e.insertInto);if(!n)throw new Error('Couldn\'t find a style target. This probably means that the value for the \'insertInto\' parameter is invalid.');var o=I[I.length-1];if('top'===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),I.push(t);else if('bottom'===e.insertAt)n.appendChild(t);else if('object'==typeof e.insertAt&&e.insertAt.before){var a=h(e.insertInto+' '+e.insertAt.before);n.insertBefore(t,a)}else throw new Error('[Style Loader]\n\n Invalid value for parameter \'insertAt\' (\'options.insertAt\') found.\n Must be \'top\', \'bottom\', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n')}function r(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=I.indexOf(e);0<=t&&I.splice(t,1)}function s(e){var t=document.createElement('style');return e.attrs.type='text/css',l(t,e.attrs),i(e,t),t}function d(e){var t=document.createElement('link');return e.attrs.type='text/css',e.attrs.rel='stylesheet',l(t,e.attrs),i(e,t),t}function l(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function p(e,t){var n,o,a,i;if(t.transform&&e.css)if(i=t.transform(e.css),i)e.css=i;else return function(){};if(t.singleton){var l=x++;n=f||(f=s(t)),o=_.bind(null,n,l,!1),a=_.bind(null,n,l,!0)}else e.sourceMap&&'function'==typeof URL&&'function'==typeof URL.createObjectURL&&'function'==typeof URL.revokeObjectURL&&'function'==typeof Blob&&'function'==typeof btoa?(n=d(t),o=c.bind(null,n,t),a=function(){r(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),o=g.bind(null,n),a=function(){r(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else a()}}function _(e,t,n,o){var a=n?'':o.css;if(e.styleSheet)e.styleSheet.cssText=C(t,a);else{var i=document.createTextNode(a),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(i,r[t]):e.appendChild(i)}}function g(e,t){var n=t.css,o=t.media;if(o&&e.setAttribute('media',o),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function c(e,t,n){var o=n.css,a=n.sourceMap,i=t.convertToAbsoluteUrls===void 0&&a;(t.convertToAbsoluteUrls||i)&&(o=E(o)),a&&(o+='\n/*# sourceMappingURL=data:application/json;base64,'+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+' */');var r=new Blob([o],{type:'text/css'}),s=e.href;e.href=URL.createObjectURL(r),s&&URL.revokeObjectURL(s)}var u={},y=function(e){var t;return function(){return'undefined'==typeof t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),m=function(e){return document.querySelector(e)},h=function(){var e={};return function(t){if('function'==typeof t)return t();if('undefined'==typeof e[t]){var n=m.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),f=null,x=0,I=[],E=n(224);e.exports=function(e,t){if('undefined'!=typeof DEBUG&&DEBUG&&'object'!=typeof document)throw new Error('The style-loader cannot be used in a non-browser environment');t=t||{},t.attrs='object'==typeof t.attrs?t.attrs:{},t.singleton||'boolean'==typeof t.singleton||(t.singleton=y()),t.insertInto||(t.insertInto='head'),t.insertAt||(t.insertAt='bottom');var n=a(e,t);return o(n,t),function(e){for(var r=[],s=0;s<n.length;s++){var i=n[s],d=u[i.id];d.refs--,r.push(d)}if(e){var l=a(e,t);o(l,t)}for(var s=0,d;s<r.length;s++)if(d=r[s],0===d.refs){for(var p=0;p<d.parts.length;p++)d.parts[p]();delete u[d.id]}}};var C=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join('\n')}}()},function(e){e.exports=function(e){var t='undefined'!=typeof window&&window.location;if(!t)throw new Error('fixUrls requires window.location');if(!e||'string'!=typeof e)return e;var n=t.protocol+'//'+t.host,o=n+t.pathname.replace(/\/[^\/]*$/,'/'),a=e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var a=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a))return e;var i;return i=0===a.indexOf('//')?a:0===a.indexOf('/')?n+a:o+a.replace(/^\.\//,''),'url('+JSON.stringify(i)+')'});return a}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(41),a=n(235),i=n(283),r=n(286),s=n(290),d=n(294),l=n(364),p=n(393),_=n(395);n.d(t,'Control',function(){return o.a}),n.d(t,'CAD',function(){return a.a}),n.d(t,'Rotate',function(){return i.a}),n.d(t,'Draw',function(){return r.a}),n.d(t,'Modify',function(){return s.a}),n.d(t,'Buffer',function(){return d.a}),n.d(t,'Union',function(){return l.a}),n.d(t,'Intersection',function(){return p.a}),n.d(t,'Difference',function(){return _.a})},function(e,t){'use strict';t.a={BOTTOM_LEFT:'bottom-left',BOTTOM_RIGHT:'bottom-right',TOP_LEFT:'top-left',TOP_RIGHT:'top-right'}},function(e,t,n){'use strict';function o(e,t,n,o){return function(a,s,d){var l=new XMLHttpRequest;l.open('GET','function'==typeof e?e(a,s,d):e,!0),t.getType()==i.a.ARRAY_BUFFER&&(l.responseType='arraybuffer'),l.withCredentials=r,l.onload=function(){if(!l.status||200<=l.status&&300>l.status){var e=t.getType(),r=void 0;e==i.a.JSON||e==i.a.TEXT?r=l.responseText:e==i.a.XML?(r=l.responseXML,!r&&(r=new DOMParser().parseFromString(l.responseText,'application/xml'))):e==i.a.ARRAY_BUFFER&&(r=l.response),r?n.call(this,t.readFeatures(r,{extent:a,featureProjection:d}),t.readProjection(r)):o.call(this)}else o.call(this)}.bind(this),l.onerror=function(){o.call(this)}.bind(this),l.send()}}t.a=function(e,t){return o(e,t,function(e){var t=this;'function'==typeof t.addFeatures&&t.addFeatures(e)},a.c)};var a=n(11),i=n(228),r=!1},function(e,t){'use strict';t.a={ARRAY_BUFFER:'arraybuffer',JSON:'json',TEXT:'text',XML:'xml'}},function(e,t){'use strict';t.a=function(){return[[-Infinity,-Infinity,Infinity,Infinity]]}},function(e,t,n){'use strict';function o(e){return e?Array.isArray(e)?function(){return e}:'function'==typeof e?e:function(){return[e]}:null}var a=n(7),i=n(25),r=n(43),s=n(90),d=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l=function(e){function t(t){var n=e.call(this)||this;return n.projection_=Object(r.c)(t.projection),n.attributions_=o(t.attributions),n.attributionsCollapsible_=void 0===t.attributionsCollapsible||t.attributionsCollapsible,n.loading=!1,n.state_=void 0===t.state?s.a.READY:t.state,n.wrapX_=void 0!==t.wrapX&&t.wrapX,n}return d(t,e),t.prototype.getAttributions=function(){return this.attributions_},t.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},t.prototype.getProjection=function(){return this.projection_},t.prototype.getResolutions=function(){return Object(a.b)()},t.prototype.getState=function(){return this.state_},t.prototype.getWrapX=function(){return this.wrapX_},t.prototype.refresh=function(){this.changed()},t.prototype.setAttributions=function(e){this.attributions_=o(e),this.changed()},t.prototype.setState=function(e){this.state_=e,this.changed()},t}(i.a);t.a=l},function(t,n,o){'use strict';o.d(n,'a',function(){return m}),n.b=function(e,t,n){var o=e.length,a=1<n?n:2,r=t;r===void 0&&(2<a?r=e.slice():r=Array(o));for(var d=p,g=0;g<o;g+=a){r[g]=d*e[g]/180;var i=l*_(Math.tan(s*(+e[g+1]+90)/360));i>d?i=d:i<-d&&(i=-d),r[g+1]=i}return r},n.c=function(t,n,o){var a=t.length,r=1<o?o:2,d=n;d===void 0&&(2<r?d=t.slice():d=Array(a));for(var _=0;_<a;_+=r)d[_]=180*t[_]/p,d[_+1]=360*e(g(t[_+1]/l))/s-90;return d};var a=o(15),i=o(114),r=o(74),d=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l=6378137,p=s*l,c=[-p,-p,p,p],u=[-180,-85,180,85],y=function(e){function t(t){return e.call(this,{code:t,units:r.b.METERS,extent:c,global:!0,worldExtent:u,getPointResolution:function(e,t){return e/Object(a.b)(t[1]/l)}})||this}return d(t,e),t}(i.a),m=[new y('EPSG:3857'),new y('EPSG:102100'),new y('EPSG:102113'),new y('EPSG:900913'),new y('urn:ogc:def:crs:EPSG:6.18:3:3857'),new y('urn:ogc:def:crs:EPSG::3857'),new y('http://www.opengis.net/gml/srs/epsg.xml#3857')]},function(e,t,n){'use strict';n.d(t,'a',function(){return l});var o=n(114),a=n(74),i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=[-180,-90,180,90],d=function(e){function t(t,n){return e.call(this,{code:t,units:a.b.DEGREES,extent:r,axisOrientation:n,global:!0,metersPerUnit:s*6378137/180,worldExtent:r})||this}return i(t,e),t}(o.a),l=[new d('CRS:84'),new d('EPSG:4326','neu'),new d('urn:ogc:def:crs:EPSG::4326','neu'),new d('urn:ogc:def:crs:EPSG:6.6:4326','neu'),new d('urn:ogc:def:crs:OGC:1.3:CRS84'),new d('urn:ogc:def:crs:OGC:2:84'),new d('http://www.opengis.net/gml/srs/epsg.xml#4326','neu'),new d('urn:x-ogc:def:crs:EPSG:4326','neu')]},function(e,t,n){'use strict';t.b=function(){a={}},t.a=function(e,t,n){var o=e.getCode(),i=t.getCode();o in a||(a[o]={}),a[o][i]=n},t.c=function(e,t){var n;return e in a&&t in a[e]&&(n=a[e][t]),n};var o=n(14),a={}},function(e,t){'use strict';t.b=function(){n={}},t.c=function(e){return n[e]||null},t.a=function(e,t){n[e]=t};var n={}},function(e,t,n){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=n(91),d=n(57),l=n(48),p=n(96),_=n(62),g=n(42),c=n(124),u=n(41),y=n(281),m=n.n(y),h=n(282),f=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var o in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},x=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),I=function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(a===void 0){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if('value'in a)return a.value;var r=a.get;return void 0===r?void 0:r.call(o)},E=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,f({title:'CAD control',className:'ole-control-cad',image:m.a,showSnapPoints:!0,showSnapLines:!1,snapPointDist:10},e)));return n.pointerInteraction=new c.c({handleMoveEvent:n.onMove.bind(n)}),n.snapLayer=new _.a({source:new g.a,style:e.snapStyle||[new r.f({image:new r.d({fill:new r.b({color:'#E8841F'}),stroke:new r.e({width:1,color:'#618496'}),points:4,radius:5,radius2:0,angle:s/4}),stroke:new r.e({width:1,lineDash:[5,10],color:'#618496'})})]}),n.linesLayer=new _.a({source:new g.a,style:e.linesStyle||[new r.f({stroke:new r.e({width:1,lineDash:[5,10],color:'#FF530D'})})]}),n.snapTolerance=void 0===e.snapTolerance?10:e.snapTolerance,n.filter=e.filter||null,n.snapInteraction=new c.d({pixelTolerance:n.snapTolerance,source:n.snapLayer.getSource()}),n.standalone=!1,n}return i(t,e),x(t,[{key:'getDialogTemplate',value:function(){var e=this.properties.useMapUnits?'map units':'px';return'\n      <div>\n        <input\n          id="aux-cb"\n          type="radio"\n          name="radioBtn"\n          '+(this.properties.showSnapLines?'checked':'')+'\n        >\n        <label>Show snap lines</label>\n      </div>\n      <div>\n        <input\n          id="dist-cb"\n          type="radio"\n          name="radioBtn"\n          '+(this.properties.showSnapPoints?'checked':'')+'\n        >\n        <label>Show snap points. Distance ('+e+'):</label>\n        <input type="text" id="width-input"\n          value="'+this.properties.snapPointDist+'">\n      </div>\n    '}},{key:'setMap',value:function(e){var n=this;I(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setMap',this).call(this,e),this.map.getInteractions().on('add',function(t){var e=t.target.getArray().indexOf(n.snapInteraction);n.snapInteraction.getActive()&&-1<e&&e!==t.target.getLength()-1&&(n.deactivate(!0),n.activate(!0))}.bind(this))}},{key:'onMove',value:function(e){var t=this.getClosestFeatures(e.coordinate,5),n=this.editor.getEditFeature();n&&-1<t.indexOf(n)&&t.splice(t.indexOf(n),1),this.linesLayer.getSource().clear(),this.snapLayer.getSource().clear(),this.pointerInteraction.dispatchEvent(new h.b(h.a.SNAP,t.length?t:null,e)),this.properties.showSnapLines&&this.drawSnapLines(t,e.coordinate),this.properties.showSnapPoints&&t.length&&this.drawSnapPoints(e.coordinate,t[0])}},{key:'getClosestFeatures',value:function(e,t){var n=this,o=[-Infinity,-Infinity,Infinity,Infinity],a={},r=function(t){var n=t.getGeometry().getClosestPoint(e),o=n[0]-e[0],i=n[1]-e[1];a[o*o+i*i]=t};this.source.forEachFeatureInExtent(o,function(e){(!n.filter||n.filter&&n.filter(e))&&r(e)});var s=Object.keys(a),d=[],l=C(s.length,t||1);s.sort(function(e,t){return e-t});for(var p=0;p<l;p+=1)d.push(a[s[p]]);return d}},{key:'drawSnapLines',value:function(e,t){for(var n=[],o=0;o<e.length;o+=1){var a=e[o].getGeometry(),i=a.getCoordinates();if(a instanceof d.e)n.push(i);else{if(a instanceof d.a)for(var r=0;r<i.length;r+=1)n.push(i[r]);else if(a instanceof d.f)for(var s=0;s<i[0].length;s+=1)n.push(i[0][s]);var _=Object(l.c)(a.getExtent()).getCoordinates()[0];n=n.concat(_)}}for(var c=this.map.getPixelFromCoordinate(t),u=null,y=0;y<n.length;y+=1){var m=this.snapTolerance,h=this.map.getPixelFromCoordinate(n[y]),f=c[0]>h[0]-this.snapTolerance/2&&c[0]<h[0]+this.snapTolerance/2,x=c[1]>h[1]-this.snapTolerance/2&&c[1]<h[1]+this.snapTolerance/2;if(f){var I=c[1];I+=c[1]<h[1]?2*-m:2*m;var E=this.map.getCoordinateFromPixel([h[0],I]);u=[[n[y][0],E[1]],n[y]]}else if(x){var C=c[0];C+=c[0]<h[0]?2*-m:2*m;var T=this.map.getCoordinateFromPixel([C,h[1]]);u=[[T[0],n[y][1]],n[y]]}if(u){var N=new d.a(u);this.snapLayer.getSource().addFeature(new p.a(N))}}var g=null,S=null,L=this.snapLayer.getSource().getFeatures();if(L.length){L.forEach(function(e){var t=e.getGeometry().getCoordinates(),n=t[0][0],o=t[1][0],a=t[0][1],i=t[1][1];n===o&&(g=n),a===i&&(S=a)});var O=[];if(g&&S){O.push(g),O.push(S),this.linesLayer.getSource().addFeatures(L),this.snapLayer.getSource().clear();var R=new d.e(O);this.snapLayer.getSource().addFeature(new p.a(R))}}}},{key:'drawSnapPoints',value:function(e,t){var n=t.getGeometry().getClosestPoint(e),o=this.map.getPixelFromCoordinate(n),a=[];if(this.properties.useMapUnits)a=[[n[0]-this.properties.snapPointDist,n[1]],[n[0]+this.properties.snapPointDist,n[1]],[n[0],n[1]-this.properties.snapPointDist],[n[0],n[1]+this.properties.snapPointDist]];else for(var i=[[o[0]-this.properties.snapPointDist,o[1]],[o[0]+this.properties.snapPointDist,o[1]],[o[0],o[1]-this.properties.snapPointDist],[o[0],o[1]+this.properties.snapPointDist]],r=0;r<i.length;r+=1)a.push(this.map.getCoordinateFromPixel(i[r]));var s=new d.c(a);this.snapLayer.getSource().addFeature(new p.a(s))}},{key:'activate',value:function(e){var n=this;I(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'activate',this).call(this,e),this.snapLayer.setMap(this.map),this.linesLayer.setMap(this.map),this.map.addInteraction(this.pointerInteraction),this.map.addInteraction(this.snapInteraction),document.getElementById('aux-cb').addEventListener('change',function(e){n.setProperties({showSnapLines:e.target.checked,showSnapPoints:!e.target.checked})}),document.getElementById('dist-cb').addEventListener('change',function(e){n.setProperties({showSnapPoints:e.target.checked,showSnapLines:!e.target.checked})}),document.getElementById('width-input').addEventListener('keyup',function(e){var t=parseFloat(e.target.value);t&&n.setProperties({snapPointDist:t})})}},{key:'deactivate',value:function(e){I(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'deactivate',this).call(this,e),this.snapLayer.setMap(null),this.linesLayer.setMap(null),this.map.removeInteraction(this.pointerInteraction),this.map.removeInteraction(this.snapInteraction)}}]),t}(u.a);t.a=E},function(e,t,n){'use strict';n.d(t,'a',function(){return o});var o=function(){var e={},t;return function(n){if(t||(t=document.createElement('div').style),!(n in e)){t.font=n;var o=t.fontFamily,a=t.fontWeight,i=t.fontStyle;if(t.font='',!o)return null;var r=o.split(/,\s?/);e[n]={families:r,weight:a,style:i}}return e[n]}}()},function(e,t,n){'use strict';var o=n(7),a=n(238),i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=function(e){function t(t){var n=e.call(this,t)||this;return n.consumers={},n}return i(t,e),t.prototype.clear=function(){this.consumers={},e.prototype.clear.call(this)},t.prototype.get=function(t,n){var a=e.prototype.get.call(this,t),i=Object(o.c)(n);return i in this.consumers||(this.consumers[i]={}),this.consumers[i][t]=!0,a},t.prototype.prune=function(){outer:for(;this.canExpireCache();){var e=this.peekLastKey();for(var t in this.consumers)if(e in this.consumers[t])break outer;var n=this.pop();for(var t in n.width=0,n.height=0,this.consumers)delete this.consumers[t][e]}},t.prototype.release=function(e){delete this.consumers[Object(o.c)(e)]},t}(a.a);t.a=r},function(e,t,n){'use strict';var o=n(26),a=n(88),i=n(8),r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),s=function(e){function t(t){var n=e.call(this)||this;return n.highWaterMark=void 0===t?2048:t,n.count_=0,n.entries_={},n.oldest_=null,n.newest_=null,n}return r(t,e),t.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},t.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(i.a.CLEAR)},t.prototype.containsKey=function(e){return this.entries_.hasOwnProperty(e)},t.prototype.forEach=function(e){for(var t=this.oldest_;t;)e(t.value_,t.key_,this),t=t.newer},t.prototype.get=function(e){var t=this.entries_[e];return(Object(o.a)(void 0!==t,15),t===this.newest_)?t.value_:(t===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(t.newer.older=t.older,t.older.newer=t.newer),t.newer=null,t.older=this.newest_,this.newest_.newer=t,this.newest_=t,t.value_)},t.prototype.remove=function(e){var t=this.entries_[e];return Object(o.a)(void 0!==t,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_},t.prototype.getCount=function(){return this.count_},t.prototype.getKeys=function(){var e=Array(this.count_),t=0,n;for(n=this.newest_;n;n=n.older)e[t++]=n.key_;return e},t.prototype.getValues=function(){var e=Array(this.count_),t=0,n;for(n=this.newest_;n;n=n.older)e[t++]=n.value_;return e},t.prototype.peekLast=function(){return this.oldest_.value_},t.prototype.peekLastKey=function(){return this.oldest_.key_},t.prototype.peekFirstKey=function(){return this.newest_.key_},t.prototype.pop=function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_},t.prototype.replace=function(e,t){this.get(e),this.entries_[e].value_=t},t.prototype.set=function(e,t){Object(o.a)(!(e in this.entries_),16);var n={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[e]=n,++this.count_},t.prototype.setSize=function(e){this.highWaterMark=e},t}(a.a);t.a=s},function(e,t,n){'use strict';var o=n(7),a=n(56),i=n(26),r=n(92),s=n(8),d=n(149),l=n(150),p=n(243),_=n(117),g=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),c=function(e){function t(t){var n=this,s=t||{},_=void 0===s.opacity?1:s.opacity,g=void 0===s.rotation?0:s.rotation,c=void 0===s.scale?1:s.scale,u=void 0!==s.rotateWithView&&s.rotateWithView;n=e.call(this,{opacity:_,rotation:g,scale:c,rotateWithView:u})||this,n.anchor_=void 0===s.anchor?[0.5,0.5]:s.anchor,n.normalizedAnchor_=null,n.anchorOrigin_=void 0===s.anchorOrigin?p.a.TOP_LEFT:s.anchorOrigin,n.anchorXUnits_=void 0===s.anchorXUnits?d.a.FRACTION:s.anchorXUnits,n.anchorYUnits_=void 0===s.anchorYUnits?d.a.FRACTION:s.anchorYUnits,n.crossOrigin_=void 0===s.crossOrigin?null:s.crossOrigin;var y=void 0===s.img?null:s.img,m=void 0===s.imgSize?null:s.imgSize,h=s.src;Object(i.a)(!(void 0!==h&&y),4),Object(i.a)(!y||y&&m,5),(void 0===h||0===h.length)&&y&&(h=y.src||Object(o.c)(y)),Object(i.a)(void 0!==h&&0<h.length,6);var f=void 0===s.src?a.a.LOADED:a.a.IDLE;return n.color_=void 0===s.color?null:Object(r.a)(s.color),n.iconImage_=Object(l.a)(y,h,m,n.crossOrigin_,f,n.color_),n.offset_=void 0===s.offset?[0,0]:s.offset,n.offsetOrigin_=void 0===s.offsetOrigin?p.a.TOP_LEFT:s.offsetOrigin,n.origin_=null,n.size_=void 0===s.size?null:s.size,n}return g(t,e),t.prototype.clone=function(){return new t({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null===this.size_?void 0:this.size_.slice(),opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},t.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var e=this.anchor_,t=this.getSize();if(this.anchorXUnits_==d.a.FRACTION||this.anchorYUnits_==d.a.FRACTION){if(!t)return null;e=this.anchor_.slice(),this.anchorXUnits_==d.a.FRACTION&&(e[0]*=t[0]),this.anchorYUnits_==d.a.FRACTION&&(e[1]*=t[1])}if(this.anchorOrigin_!=p.a.TOP_LEFT){if(!t)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_==p.a.TOP_RIGHT||this.anchorOrigin_==p.a.BOTTOM_RIGHT)&&(e[0]=-e[0]+t[0]),(this.anchorOrigin_==p.a.BOTTOM_LEFT||this.anchorOrigin_==p.a.BOTTOM_RIGHT)&&(e[1]=-e[1]+t[1])}return this.normalizedAnchor_=e,this.normalizedAnchor_},t.prototype.setAnchor=function(e){this.anchor_=e,this.normalizedAnchor_=null},t.prototype.getColor=function(){return this.color_},t.prototype.getImage=function(e){return this.iconImage_.getImage(e)},t.prototype.getImageSize=function(){return this.iconImage_.getSize()},t.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},t.prototype.getImageState=function(){return this.iconImage_.getImageState()},t.prototype.getHitDetectionImage=function(e){return this.iconImage_.getHitDetectionImage(e)},t.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var e=this.offset_;if(this.offsetOrigin_!=p.a.TOP_LEFT){var t=this.getSize(),n=this.iconImage_.getSize();if(!t||!n)return null;e=e.slice(),(this.offsetOrigin_==p.a.TOP_RIGHT||this.offsetOrigin_==p.a.BOTTOM_RIGHT)&&(e[0]=n[0]-t[0]-e[0]),(this.offsetOrigin_==p.a.BOTTOM_LEFT||this.offsetOrigin_==p.a.BOTTOM_RIGHT)&&(e[1]=n[1]-t[1]-e[1])}return this.origin_=e,this.origin_},t.prototype.getSrc=function(){return this.iconImage_.getSrc()},t.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},t.prototype.listenImageChange=function(e){this.iconImage_.addEventListener(s.a.CHANGE,e)},t.prototype.load=function(){this.iconImage_.load()},t.prototype.unlistenImageChange=function(e){this.iconImage_.removeEventListener(s.a.CHANGE,e)},t}(_.a);t.a=c},function(e,t,n){'use strict';function o(e,t,n){var o=n?Object(a.b)(n):'null';return t+':'+e+':'+o}n.d(t,'a',function(){return r});var a=n(92),i=function(){function e(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return e.prototype.clear=function(){this.cache_={},this.cacheSize_=0},e.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},e.prototype.expire=function(){if(this.canExpireCache()){var e=0;for(var t in this.cache_){var n=this.cache_[t];0!=(3&e++)||n.hasListener()||(delete this.cache_[t],--this.cacheSize_)}}},e.prototype.get=function(e,t,n){var a=o(e,t,n);return a in this.cache_?this.cache_[a]:null},e.prototype.set=function(e,t,n,a){var i=o(e,t,n);this.cache_[i]=a,++this.cacheSize_},e.prototype.setSize=function(e){this.maxCacheSize_=e,this.expire()},e}(),r=new i},function(e,t,n){'use strict';function o(e,t,n){var o=e;if(o.src&&l.c){var a=o.decode(),i=!0,d=function(){i=!1};return a.then(function(){i&&t()}).catch(function(e){i&&('EncodingError'===e.name&&'Invalid image type.'===e.message?t():n())}),d}var p=[Object(r.b)(o,s.a.LOAD,t),Object(r.b)(o,s.a.ERROR,n)];return function(){p.forEach(r.c)}}t.a=o;var a=n(242),i=n(56),r=n(30),s=n(8),d=n(2),l=n(119),p=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),_=function(e){function t(t,n,o,a,r,s){var d=e.call(this,t,n,o,i.a.IDLE)||this;return d.src_=a,d.image_=new Image,null!==r&&(d.image_.crossOrigin=r),d.unlisten_=null,d.state=i.a.IDLE,d.imageLoadFunction_=s,d}return p(t,e),t.prototype.getImage=function(){return this.image_},t.prototype.handleImageError_=function(){this.state=i.a.ERROR,this.unlistenImage_(),this.changed()},t.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Object(d.x)(this.extent)/this.image_.height),this.state=i.a.LOADED,this.unlistenImage_(),this.changed()},t.prototype.load=function(){(this.state==i.a.IDLE||this.state==i.a.ERROR)&&(this.state=i.a.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=o(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.setImage=function(e){this.image_=e},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(a.a)},function(e,t,n){'use strict';var o=n(7),a=n(88),i=n(8),r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),s=function(e){function t(t,n,o,a){var i=e.call(this)||this;return i.extent=t,i.pixelRatio_=o,i.resolution=n,i.state=a,i}return r(t,e),t.prototype.changed=function(){this.dispatchEvent(i.a.CHANGE)},t.prototype.getExtent=function(){return this.extent},t.prototype.getImage=function(){return Object(o.b)()},t.prototype.getPixelRatio=function(){return this.pixelRatio_},t.prototype.getResolution=function(){return this.resolution},t.prototype.getState=function(){return this.state},t.prototype.load=function(){Object(o.b)()},t}(a.a);t.a=s},function(e,t){'use strict';t.a={BOTTOM_LEFT:'bottom-left',BOTTOM_RIGHT:'bottom-right',TOP_LEFT:'top-left',TOP_RIGHT:'top-right'}},function(e,t,n){'use strict';var o=n(118),a=n(152),i=function(){function e(e){var t=e||{};this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.text_=t.text,this.textAlign_=t.textAlign,this.textBaseline_=t.textBaseline,this.fill_=void 0===t.fill?new o.a({color:'#333'}):t.fill,this.maxAngle_=void 0===t.maxAngle?s/4:t.maxAngle,this.placement_=void 0===t.placement?a.a.POINT:t.placement,this.overflow_=!!t.overflow,this.stroke_=void 0===t.stroke?null:t.stroke,this.offsetX_=void 0===t.offsetX?0:t.offsetX,this.offsetY_=void 0===t.offsetY?0:t.offsetY,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=void 0===t.padding?null:t.padding}return e.prototype.clone=function(){return new e({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})},e.prototype.getOverflow=function(){return this.overflow_},e.prototype.getFont=function(){return this.font_},e.prototype.getMaxAngle=function(){return this.maxAngle_},e.prototype.getPlacement=function(){return this.placement_},e.prototype.getOffsetX=function(){return this.offsetX_},e.prototype.getOffsetY=function(){return this.offsetY_},e.prototype.getFill=function(){return this.fill_},e.prototype.getRotateWithView=function(){return this.rotateWithView_},e.prototype.getRotation=function(){return this.rotation_},e.prototype.getScale=function(){return this.scale_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.getText=function(){return this.text_},e.prototype.getTextAlign=function(){return this.textAlign_},e.prototype.getTextBaseline=function(){return this.textBaseline_},e.prototype.getBackgroundFill=function(){return this.backgroundFill_},e.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},e.prototype.getPadding=function(){return this.padding_},e.prototype.setOverflow=function(e){this.overflow_=e},e.prototype.setFont=function(e){this.font_=e},e.prototype.setMaxAngle=function(e){this.maxAngle_=e},e.prototype.setOffsetX=function(e){this.offsetX_=e},e.prototype.setOffsetY=function(e){this.offsetY_=e},e.prototype.setPlacement=function(e){this.placement_=e},e.prototype.setRotateWithView=function(e){this.rotateWithView_=e},e.prototype.setFill=function(e){this.fill_=e},e.prototype.setRotation=function(e){this.rotation_=e},e.prototype.setScale=function(e){this.scale_=e},e.prototype.setStroke=function(e){this.stroke_=e},e.prototype.setText=function(e){this.text_=e},e.prototype.setTextAlign=function(e){this.textAlign_=e},e.prototype.setTextBaseline=function(e){this.textBaseline_=e},e.prototype.setBackgroundFill=function(e){this.backgroundFill_=e},e.prototype.setBackgroundStroke=function(e){this.backgroundStroke_=e},e.prototype.setPadding=function(e){this.padding_=e},e}()},function(e,t){'use strict';t.a=function(e,t,n,o){for(;t<n-o;){for(var a=0,i;a<o;++a)i=e[t+a],e[t+a]=e[n-o+a],e[n-o+a]=i;t+=o,n-=o}}},function(e,t,n){'use strict';t.a=function(e,t,n,a){for(var r=[],s=Object(o.i)(),d=0,i=n.length,l;d<i;++d)l=n[d],s=Object(o.n)(e,t,l[0],a),r.push((s[0]+s[2])/2,(s[1]+s[3])/2),t=l[l.length-1];return r};var o=n(2)},function(e,t,n){'use strict';var o=n(248),a=n(14),i=n(45),r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),s={RENDER_ORDER:'renderOrder'},d=function(e){function t(t){var n=this,o=t?t:{},i=Object(a.a)({},o);return delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,n=e.call(this,i)||this,n.declutter_=void 0!==o.declutter&&o.declutter,n.renderBuffer_=void 0===o.renderBuffer?100:o.renderBuffer,n.style_=null,n.styleFunction_=void 0,n.setStyle(o.style),n.updateWhileAnimating_=void 0!==o.updateWhileAnimating&&o.updateWhileAnimating,n.updateWhileInteracting_=void 0!==o.updateWhileInteracting&&o.updateWhileInteracting,n}return r(t,e),t.prototype.getDeclutter=function(){return this.declutter_},t.prototype.getFeatures=function(t){return e.prototype.getFeatures.call(this,t)},t.prototype.getRenderBuffer=function(){return this.renderBuffer_},t.prototype.getRenderOrder=function(){return this.get(s.RENDER_ORDER)},t.prototype.getStyle=function(){return this.style_},t.prototype.getStyleFunction=function(){return this.styleFunction_},t.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},t.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},t.prototype.setRenderOrder=function(e){this.set(s.RENDER_ORDER,e)},t.prototype.setStyle=function(e){this.style_=void 0===e?i.a:e,this.styleFunction_=null===e?void 0:Object(i.d)(this.style_),this.changed()},t}(o.a);t.a=d},function(e,t,n){'use strict';var o=n(30),a=n(8),i=n(25),r=n(249),s=n(162),d=n(14),l=n(163),p=n(90),_=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),g=function(e){function t(t){var n=this,o=Object(d.a)({},t);delete o.source,n=e.call(this,o)||this,n.mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,t.render&&(n.render=t.render),t.map&&n.setMap(t.map),n.addEventListener(Object(i.b)(s.a.SOURCE),n.handleSourcePropertyChange_);var a=t.source?t.source:null;return n.setSource(a),n}return _(t,e),t.prototype.getLayersArray=function(e){var t=e?e:[];return t.push(this),t},t.prototype.getLayerStatesArray=function(e){var t=e?e:[];return t.push(this.getLayerState()),t},t.prototype.getSource=function(){return this.get(s.a.SOURCE)||null},t.prototype.getSourceState=function(){var e=this.getSource();return e?e.getState():p.a.UNDEFINED},t.prototype.handleSourceChange_=function(){this.changed()},t.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Object(o.c)(this.sourceChangeKey_),this.sourceChangeKey_=null);var e=this.getSource();e&&(this.sourceChangeKey_=Object(o.a)(e,a.a.CHANGE,this.handleSourceChange_,this)),this.changed()},t.prototype.getFeatures=function(e){return this.renderer_.getFeatures(e)},t.prototype.render=function(e,t){var n=this.getRenderer();if(n.prepareFrame(e))return n.renderFrame(e,t)},t.prototype.setMap=function(e){this.mapPrecomposeKey_&&(Object(o.c)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Object(o.c)(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=Object(o.a)(e,l.a.PRECOMPOSE,function(e){e.frameState.layerStatesArray.push(this.getLayerState(!1))},this),this.mapRenderKey_=Object(o.a)(this,a.a.CHANGE,e.render,e),this.changed())},t.prototype.setSource=function(e){this.set(s.a.SOURCE,e)},t.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},t.prototype.hasRenderer=function(){return!!this.renderer_},t.prototype.createRenderer=function(){return null},t.prototype.disposeInternal=function(){this.setSource(null),e.prototype.disposeInternal.call(this)},t}(r.a);t.a=g},function(e,t,o){'use strict';var a=o(7),i=o(25),r=o(162),s=o(15),d=o(14),l=o(26),p=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),_=function(e){function t(t){var n=e.call(this)||this,o=Object(d.a)({},t);return o[r.a.OPACITY]=void 0===t.opacity?1:t.opacity,Object(l.a)('number'==typeof o[r.a.OPACITY],64),o[r.a.VISIBLE]=void 0===t.visible||t.visible,o[r.a.Z_INDEX]=t.zIndex,o[r.a.MAX_RESOLUTION]=void 0===t.maxResolution?Infinity:t.maxResolution,o[r.a.MIN_RESOLUTION]=void 0===t.minResolution?0:t.minResolution,o[r.a.MIN_ZOOM]=void 0===t.minZoom?-Infinity:t.minZoom,o[r.a.MAX_ZOOM]=void 0===t.maxZoom?Infinity:t.maxZoom,n.className_=void 0===o.className?'ol-layer':t.className,delete o.className,n.setProperties(o),n.state_=null,n}return p(t,e),t.prototype.getClassName=function(){return this.className_},t.prototype.getLayerState=function(e){var t=this.state_||{layer:this,managed:void 0===e||e},o=this.getZIndex();return t.opacity=Object(s.a)(n(100*this.getOpacity())/100,0,1),t.sourceState=this.getSourceState(),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=void 0===o?!1===t.managed?Infinity:0:o,t.maxResolution=this.getMaxResolution(),t.minResolution=E(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t},t.prototype.getLayersArray=function(){return Object(a.b)()},t.prototype.getLayerStatesArray=function(){return Object(a.b)()},t.prototype.getExtent=function(){return this.get(r.a.EXTENT)},t.prototype.getMaxResolution=function(){return this.get(r.a.MAX_RESOLUTION)},t.prototype.getMinResolution=function(){return this.get(r.a.MIN_RESOLUTION)},t.prototype.getMinZoom=function(){return this.get(r.a.MIN_ZOOM)},t.prototype.getMaxZoom=function(){return this.get(r.a.MAX_ZOOM)},t.prototype.getOpacity=function(){return this.get(r.a.OPACITY)},t.prototype.getSourceState=function(){return Object(a.b)()},t.prototype.getVisible=function(){return this.get(r.a.VISIBLE)},t.prototype.getZIndex=function(){return this.get(r.a.Z_INDEX)},t.prototype.setExtent=function(e){this.set(r.a.EXTENT,e)},t.prototype.setMaxResolution=function(e){this.set(r.a.MAX_RESOLUTION,e)},t.prototype.setMinResolution=function(e){this.set(r.a.MIN_RESOLUTION,e)},t.prototype.setMaxZoom=function(e){this.set(r.a.MAX_ZOOM,e)},t.prototype.setMinZoom=function(e){this.set(r.a.MIN_ZOOM,e)},t.prototype.setOpacity=function(e){Object(l.a)('number'==typeof e,64),this.set(r.a.OPACITY,e)},t.prototype.setVisible=function(e){this.set(r.a.VISIBLE,e)},t.prototype.setZIndex=function(e){this.set(r.a.Z_INDEX,e)},t.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),e.prototype.disposeInternal.call(this)},t}(i.a);t.a=_},function(e,t,o){'use strict';var a=o(7),r=o(251),s=o(2),d=o(43),l=o(252),_=o(257),i=o(260),g=o(263),c=o(44),u=o(264),y=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),m=function(e){function t(t){var n=e.call(this,t)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.animatingOrInteracting_,n.dirty_=!1,n.hitDetectionImageData_=null,n.renderedFeatures_=null,n.renderedRevision_=-1,n.renderedResolution_=NaN,n.renderedExtent_=Object(s.i)(),n.renderedRotation_,n.renderedCenter_=null,n.renderedProjection_=null,n.renderedRenderOrder_=null,n.replayGroup_=null,n.replayGroupChanged=!0,n}return y(t,e),t.prototype.useContainer=function(t,n,o){1>o&&(t=null),e.prototype.useContainer.call(this,t,n,o)},t.prototype.renderFrame=function(e,t){var o=e.pixelRatio,a=e.layerStatesArray[e.layerIndex];Object(c.e)(this.pixelTransform,1/o,1/o),Object(c.d)(this.inversePixelTransform,this.pixelTransform);var i=Object(c.g)(this.pixelTransform);this.useContainer(t,i,a.opacity);var l=this.context,p=l.canvas,g=this.replayGroup_;if(!g||g.isEmpty())return!this.containerReused&&0<p.width&&(p.width=0),this.container;var u=n(e.size[0]*o),y=n(e.size[1]*o);p.width!=u||p.height!=y?(p.width=u,p.height=y,p.style.transform!==i&&(p.style.transform=i)):!this.containerReused&&l.clearRect(0,0,u,y),this.preRender(l,e);var m=e.extent,h=e.viewState,f=h.center,x=h.resolution,I=h.projection,E=h.rotation,C=I.getExtent(),T=this.getLayer().getSource(),N=!1;if(a.extent){var S=Object(d.b)(a.extent,I);N=!Object(s.f)(S,e.extent)&&Object(s.B)(S,e.extent),N&&this.clip(l,e,S)}var L=e.viewHints,O=!(L[r.a.ANIMATING]||L[r.a.INTERACTING]),R=this.getRenderTransform(f,x,E,o,u,y,0),P=this.getLayer().getDeclutter()?{}:null;if(g.execute(l,R,E,O,void 0,P),T.getWrapX()&&I.canWrapX()&&!Object(s.f)(C,m)){for(var b=m[0],v=Object(s.A)(C),M=0,D=void 0;b<C[0];){--M,D=v*M;var A=this.getRenderTransform(f,x,E,o,u,y,D);g.execute(l,A,E,O,void 0,P),b+=v}for(M=0,b=m[2];b>C[2];){++M,D=v*M;var F=this.getRenderTransform(f,x,E,o,u,y,D);g.execute(l,F,E,O,void 0,P),b-=v}}if(P){var w=e.viewHints,G=!(w[r.a.ANIMATING]||w[r.a.INTERACTING]);Object(_.b)(P,l,E,1,G,e.declutterItems)}N&&l.restore(),this.postRender(l,e);var k=a.opacity,Y=this.container;return k!==parseFloat(Y.style.opacity)&&(Y.style.opacity=1===k?'':k),this.container},t.prototype.getFeatures=function(e){return new Promise(function(t){this.hitDetectionImageData_||this.animatingOrInteracting_?t(Object(u.b)(e,this.renderedFeatures_,this.hitDetectionImageData_)):requestAnimationFrame(function(){var n=[this.context.canvas.width,this.context.canvas.height];Object(c.a)(this.pixelTransform,n);var o=this.renderedCenter_,a=this.renderedResolution_,i=this.renderedRotation_,r=this.renderedProjection_,d=this.renderedExtent_,l=this.getLayer(),p=[],_=n[0]/2,g=n[1]/2;p.push(this.getRenderTransform(o,a,i,0.5,_,g,0).slice());var y=l.getSource(),m=r.getExtent();if(y.getWrapX()&&r.canWrapX()&&!Object(s.f)(m,d)){for(var h=d[0],f=Object(s.A)(m),x=0,I=void 0;h<m[0];)--x,I=f*x,p.push(this.getRenderTransform(o,a,i,0.5,_,g,I).slice()),h+=f;for(x=0,h=d[2];h>m[2];)++x,I=f*x,p.push(this.getRenderTransform(o,a,i,0.5,_,g,I).slice()),h-=f}this.hitDetectionImageData_=Object(u.a)(n,p,this.renderedFeatures_,l.getStyleFunction(),d,a,i),t(Object(u.b)(e,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))}.bind(this))},t.prototype.forEachFeatureAtCoordinate=function(e,t,n,o,i){if(this.replayGroup_){var r=t.viewState.resolution,s=t.viewState.rotation,d=this.getLayer(),l={},p=this.replayGroup_.forEachFeatureAtCoordinate(e,r,s,n,function(e){var t=Object(a.c)(e);if(!(t in l))return l[t]=!0,o(e,d)},d.getDeclutter()?i:null);return p}},t.prototype.handleFontsChanged=function(){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},t.prototype.handleStyleImageChange_=function(){this.renderIfReadyAndVisible()},t.prototype.prepareFrame=function(e){var t=this.getLayer(),n=t.getSource(),o=e.viewHints[r.a.ANIMATING],a=e.viewHints[r.a.INTERACTING],c=t.getUpdateWhileAnimating(),u=t.getUpdateWhileInteracting();if(!this.dirty_&&!c&&o||!u&&a)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var y=e.extent,m=e.viewState,h=m.projection,f=m.resolution,x=e.pixelRatio,I=t.getRevision(),C=t.getRenderBuffer(),T=t.getRenderOrder();void 0===T&&(T=g.a);var N=m.center.slice(),S=Object(s.c)(y,C*f),L=m.projection.getExtent();if(n.getWrapX()&&m.projection.canWrapX()&&!Object(s.f)(L,e.extent)){var O=Object(s.A)(L),R=E(Object(s.A)(S)/2,O);S[0]=L[0]-R,S[2]=L[2]+R;var P=p((N[0]-L[0])/O);N[0]-=P*O}if(!this.dirty_&&this.renderedResolution_==f&&this.renderedRevision_==I&&this.renderedRenderOrder_==T&&Object(s.f)(this.renderedExtent_,S))return this.replayGroupChanged=!1,!0;this.replayGroup_&&this.replayGroup_.dispose(),this.replayGroup_=null,this.dirty_=!1;var b=new l.a(Object(g.c)(f,x),S,f,x,t.getDeclutter()),v=Object(d.f)(),M;v?(n.loadFeatures(Object(d.h)(S,h),f,v),M=Object(d.e)(v,h)):n.loadFeatures(S,f,h);var D=Object(g.b)(f,x),A=function(e){var n=e.getStyleFunction()||t.getStyleFunction(),o;if(n&&(o=n(e,f)),o){var a=this.renderFeature(e,D,o,b,M);this.dirty_=this.dirty_||a}}.bind(this),F=Object(d.h)(S,h),w=n.getFeaturesInExtent(F);T&&w.sort(T);for(var G=0,i=w.length;G<i;++G)A(w[G]);this.renderedFeatures_=w;var k=b.finish(),Y=new _.a(S,f,x,n.getOverlaps(),k,t.getRenderBuffer());return this.renderedResolution_=f,this.renderedRevision_=I,this.renderedRenderOrder_=T,this.renderedExtent_=S,this.renderedRotation_=m.rotation,this.renderedCenter_=N,this.renderedProjection_=h,this.replayGroup_=Y,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},t.prototype.renderFeature=function(e,t,n,o,a){if(!n)return!1;var r=!1;if(Array.isArray(n))for(var s=0,i=n.length;s<i;++s)r=Object(g.d)(o,e,n[s],t,this.boundHandleStyleImageChange_,a)||r;else r=Object(g.d)(o,e,n,t,this.boundHandleStyleImageChange_,a);return r},t}(i.a);t.a=m},function(e,t){'use strict';t.a={ANIMATING:0,INTERACTING:1}},function(e,t,n){'use strict';var o=n(2),a=n(76),i=n(253),r=n(254),s=n(255),d=n(165),l={Circle:s.a,Default:a.a,Image:i.a,LineString:r.a,Polygon:s.a,Text:d.b},p=function(){function e(e,t,n,o,a){this.declutter_=a,this.declutterGroups_=null,this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=o,this.resolution_=n,this.buildersByZIndex_={}}return e.prototype.addDeclutter=function(e){var t=null;return this.declutter_&&(e?(t=this.declutterGroups_,t[0][4]++):(t=[Object(o.i)()],this.declutterGroups_=t,t[0].push(1))),t},e.prototype.finish=function(){var e={};for(var t in this.buildersByZIndex_){e[t]=e[t]||{};var n=this.buildersByZIndex_[t];for(var o in n){var a=n[o].finish();e[t][o]=a}}return e},e.prototype.getBuilder=function(e,t){var n=void 0===e?'0':e.toString(),o=this.buildersByZIndex_[n];void 0===o&&(o={},this.buildersByZIndex_[n]=o);var a=o[t];if(void 0===a){var i=l[t];a=new i(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),o[t]=a}return a},e}();t.a=p},function(e,t,n){'use strict';var o=n(63),a=n(76),i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=function(e){function t(t,n,o,a){var i=e.call(this,t,n,o,a)||this;return i.declutterGroups_=null,i.hitDetectionImage_=null,i.image_=null,i.anchorX_=void 0,i.anchorY_=void 0,i.height_=void 0,i.opacity_=void 0,i.originX_=void 0,i.originY_=void 0,i.rotateWithView_=void 0,i.rotation_=void 0,i.scale_=void 0,i.width_=void 0,i}return i(t,e),t.prototype.drawCoordinates_=function(e,t,n,o){return this.appendFlatCoordinates(e,t,n,o,!1,!1)},t.prototype.drawPoint=function(e,t){if(this.image_){this.beginGeometry(e,t);var n=e.getFlatCoordinates(),a=e.getStride(),i=this.coordinates.length,r=this.drawCoordinates_(n,0,n.length,a);this.instructions.push([o.c.DRAW_IMAGE,i,r,this.image_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([o.c.DRAW_IMAGE,i,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t)}},t.prototype.drawMultiPoint=function(e,t){if(this.image_){this.beginGeometry(e,t);var n=e.getFlatCoordinates(),a=e.getStride(),i=this.coordinates.length,r=this.drawCoordinates_(n,0,n.length,a);this.instructions.push([o.c.DRAW_IMAGE,i,r,this.image_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([o.c.DRAW_IMAGE,i,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t)}},t.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,e.prototype.finish.call(this)},t.prototype.setImageStyle=function(e,t){var n=e.getAnchor(),o=e.getSize(),a=e.getHitDetectionImage(1),i=e.getImage(1),r=e.getOrigin();this.anchorX_=n[0],this.anchorY_=n[1],this.declutterGroups_=t,this.hitDetectionImage_=a,this.image_=i,this.height_=o[1],this.opacity_=e.getOpacity(),this.originX_=r[0],this.originY_=r[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScale(),this.width_=o[0]},t}(a.a);t.a=r},function(e,t,n){'use strict';var o=n(63),a=n(76),i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=function(e){function t(t,n,o,a){return e.call(this,t,n,o,a)||this}return i(t,e),t.prototype.drawFlatCoordinates_=function(e,t,n,a){var i=this.coordinates.length,r=this.appendFlatCoordinates(e,t,n,a,!1,!1),s=[o.c.MOVE_TO_LINE_TO,i,r];return this.instructions.push(s),this.hitDetectionInstructions.push(s),n},t.prototype.drawLineString=function(e,t){var n=this.state,a=n.strokeStyle,i=n.lineWidth;if(void 0!==a&&void 0!==i){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([o.c.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],o.a);var r=e.getFlatCoordinates(),s=e.getStride();this.drawFlatCoordinates_(r,0,r.length,s),this.hitDetectionInstructions.push(o.e),this.endGeometry(t)}},t.prototype.drawMultiLineString=function(e,t){var n=this.state,a=n.strokeStyle,r=n.lineWidth;if(void 0!==a&&void 0!==r){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([o.c.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],o.a);for(var s=e.getEnds(),d=e.getFlatCoordinates(),l=e.getStride(),p=0,_=0,i=s.length;_<i;++_)p=this.drawFlatCoordinates_(d,p,s[_],l);this.hitDetectionInstructions.push(o.e),this.endGeometry(t)}},t.prototype.finish=function(){var t=this.state;return void 0!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(o.e),this.reverseHitDetectionInstructions(),this.state=null,e.prototype.finish.call(this)},t.prototype.applyStroke=function(t){void 0!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(o.e),t.lastStroke=this.coordinates.length),t.lastStroke=0,e.prototype.applyStroke.call(this,t),this.instructions.push(o.a)},t}(a.a);t.a=r},function(e,t,n){'use strict';var o=n(60),a=n(36),r=n(63),i=n(76),s=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),d=function(e){function t(t,n,o,a){return e.call(this,t,n,o,a)||this}return s(t,e),t.prototype.drawFlatCoordinatess_=function(e,t,n,o){var a=this.state,s=void 0!==a.fillStyle,d=void 0!==a.strokeStyle,l=n.length;this.instructions.push(r.a),this.hitDetectionInstructions.push(r.a);for(var p=0;p<l;++p){var i=n[p],_=this.coordinates.length,g=this.appendFlatCoordinates(e,t,i,o,!0,!d),c=[r.c.MOVE_TO_LINE_TO,_,g];this.instructions.push(c),this.hitDetectionInstructions.push(c),d&&(this.instructions.push(r.b),this.hitDetectionInstructions.push(r.b)),t=i}return s&&(this.instructions.push(r.d),this.hitDetectionInstructions.push(r.d)),d&&(this.instructions.push(r.e),this.hitDetectionInstructions.push(r.e)),t},t.prototype.drawCircle=function(e,t){var n=this.state,o=n.fillStyle,i=n.strokeStyle;if(void 0!==o||void 0!==i){this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([r.c.SET_FILL_STYLE,a.b]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([r.c.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var s=e.getFlatCoordinates(),d=e.getStride(),l=this.coordinates.length;this.appendFlatCoordinates(s,0,s.length,d,!1,!1);var p=[r.c.CIRCLE,l];this.instructions.push(r.a,p),this.hitDetectionInstructions.push(r.a,p),void 0!==n.fillStyle&&(this.instructions.push(r.d),this.hitDetectionInstructions.push(r.d)),void 0!==n.strokeStyle&&(this.instructions.push(r.e),this.hitDetectionInstructions.push(r.e)),this.endGeometry(t)}},t.prototype.drawPolygon=function(e,t){var n=this.state,o=n.fillStyle,i=n.strokeStyle;if(void 0!==o||void 0!==i){this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([r.c.SET_FILL_STYLE,a.b]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([r.c.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var s=e.getEnds(),d=e.getOrientedFlatCoordinates(),l=e.getStride();this.drawFlatCoordinatess_(d,0,s,l),this.endGeometry(t)}},t.prototype.drawMultiPolygon=function(e,t){var n=this.state,o=n.fillStyle,s=n.strokeStyle;if(void 0!==o||void 0!==s){this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([r.c.SET_FILL_STYLE,a.b]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([r.c.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var d=e.getEndss(),l=e.getOrientedFlatCoordinates(),p=e.getStride(),_=0,g=0,i=d.length;g<i;++g)_=this.drawFlatCoordinatess_(l,_,d[g],p);this.endGeometry(t)}},t.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var n=this.coordinates,a=0,i=n.length;a<i;++a)n[a]=Object(o.e)(n[a],t);return e.prototype.finish.call(this)},t.prototype.setFillStrokeStyles_=function(){var e=this.state,t=e.fillStyle;void 0!==t&&this.updateFillStyle(e,this.createFill),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},t}(i.a);t.a=d},function(e,t){'use strict';t.a=function(e,t,n,o,a){var r=n,s=n,d=0,l=0,p=n,_,g,i,c,u,y,m,h,f,x;for(g=n;g<o;g+=a){var I=t[g],E=t[g+1];void 0!=u&&(f=I-u,x=E-y,c=T(f*f+x*x),void 0!=m&&(l+=i,_=Math.acos((m*f+h*x)/(i*c)),_>e&&(l>d&&(d=l,r=p,s=g),l=0,p=g-a)),i=c,m=f,h=x),u=I,y=E}return l+=c,l>d?[p,g]:[r,s]}},function(e,t,o){'use strict';function a(e,t,n){var o=p(e.length/2),a;if(t>=o)for(a=o;a<t;a++)e[a][n]=!0;else if(t<o)for(a=t+1;a<o;a++)e[a][n]=!0}function r(e){if(void 0!==I[e])return I[e];for(var t=2*e+1,n=Array(t),o=0;o<t;o++)n[o]=Array(t);for(var i=e,r=0,s=0;i>=r;)a(n,e+i,e+r),a(n,e+r,e+i),a(n,e-r,e+i),a(n,e-i,e+r),a(n,e-i,e-r),a(n,e-r,e-i),a(n,e+r,e-i),a(n,e+i,e-r),r++,s+=1+2*r,0<2*(s-i)+1&&(i-=1,s+=1-2*i);return I[e]=n,n}t.b=function(e,t,n,o,a,r){for(var d=Object.keys(e).map(Number).sort(s.e),l=0,p=d.length;l<p;++l)for(var _=e[d[l].toString()],g=void 0,c=0,i=_.length,u;c<i;){u=_[c++],u!==g&&(g=u,r.push({items:u.declutterItems,opacity:o}));var y=_[c++];u.execute(t,y,n,a)}};var s=o(10),d=o(35),l=o(2),i=o(58),_=o(14),g=o(166),c=o(44),u=o(258),y=o(89),m=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),h=[g.a.POLYGON,g.a.CIRCLE,g.a.LINE_STRING,g.a.IMAGE,g.a.TEXT,g.a.DEFAULT],f=function(e){function t(t,n,o,a,i,r){var s=e.call(this)||this;return s.maxExtent_=t,s.overlaps_=a,s.pixelRatio_=o,s.resolution_=n,s.renderBuffer_=r,s.executorsByZIndex_={},s.hitDetectionContext_=null,s.hitDetectionTransform_=Object(c.c)(),s.createExecutors_(i),s}return m(t,e),t.prototype.clip=function(e,t){var n=this.getClipCoords(t);e.beginPath(),e.moveTo(n[0],n[1]),e.lineTo(n[2],n[3]),e.lineTo(n[4],n[5]),e.lineTo(n[6],n[7]),e.clip()},t.prototype.createExecutors_=function(e){for(var t in e){var n=this.executorsByZIndex_[t];void 0===n&&(n={},this.executorsByZIndex_[t]=n);var o=e[t];for(var a in o){var i=o[a];n[a]=new u.a(this.resolution_,this.pixelRatio_,this.overlaps_,i)}}},t.prototype.disposeInternal=function(){for(var t in this.executorsByZIndex_){var n=this.executorsByZIndex_[t];for(var o in n)n[o].disposeInternal()}if(this.hitDetectionContext_){var a=this.hitDetectionContext_.canvas;a.width=0,a.height=0}e.prototype.disposeInternal.call(this)},t.prototype.hasExecutors=function(e){for(var t in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[t],o=0,a=e.length;o<a;++o)if(e[o]in n)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(e,t,o,a,p,_){function u(e){for(var t=f.getImageData(0,0,y,y).data,n=0;n<y;n++)for(var o=0;o<y;o++)if(I[n][o]&&0<t[4*(o*y+n)+3]){var a=void 0;return _&&(C==g.a.IMAGE||C==g.a.TEXT)&&-1===_.indexOf(e)||(a=p(e)),a?a:void f.clearRect(0,0,y,y)}}a=n(a);var y=2*a+1,m=Object(c.b)(this.hitDetectionTransform_,a+0.5,a+0.5,1/t,-1/t,-o,-e[0],-e[1]);this.hitDetectionContext_||(this.hitDetectionContext_=Object(d.a)(y,y));var f=this.hitDetectionContext_;f.canvas.width!==y||f.canvas.height!==y?(f.canvas.width=y,f.canvas.height=y):f.clearRect(0,0,y,y);var x;void 0!==this.renderBuffer_&&(x=Object(l.i)(),Object(l.q)(x,e),Object(l.c)(x,t*(this.renderBuffer_+a),x));var I=r(a),E=Object.keys(this.executorsByZIndex_).map(Number),C;E.sort(s.e);var T,i,N,S,L;for(T=E.length-1;0<=T;--T){var O=E[T].toString();for(N=this.executorsByZIndex_[O],i=h.length-1;0<=i;--i)if(C=h[i],S=N[C],void 0!==S&&(L=S.executeHitDetection(f,m,o,u,x),L))return L}},t.prototype.getClipCoords=function(e){var t=this.maxExtent_;if(!t)return null;var n=t[0],o=t[1],a=t[2],r=t[3],s=[n,o,n,r,a,r,a,o];return Object(i.c)(s,0,8,2,e,s),s},t.prototype.isEmpty=function(){return Object(_.d)(this.executorsByZIndex_)},t.prototype.execute=function(e,t,n,o,a,r){var d=Object.keys(this.executorsByZIndex_).map(Number);d.sort(s.e),this.maxExtent_&&(e.save(),this.clip(e,t));var l=a?a:h,p,i,_,c,u,y;for(p=0,i=d.length;p<i;++p){var m=d[p].toString();for(u=this.executorsByZIndex_[m],_=0,c=l.length;_<c;++_){var f=l[_];if(y=u[f],void 0!==y)if(r&&(f==g.a.IMAGE||f==g.a.TEXT)){var x=r[m];x?x.push(y,t.slice(0)):r[m]=[y,t.slice(0)]}else y.execute(e,t,n,o)}}this.maxExtent_&&e.restore()},t}(y.a),I={0:[[!0]]};t.a=f},function(e,o,a){'use strict';var l=a(10),_=a(2),g=a(157),i=a(259),u=a(58),m=a(36),h=a(63),r=a(165),f=a(44),d=a(35),c=a(89),x=a(146),I=a.n(x),N=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),S=Object(_.i)(),L=Object(f.c)(),O=[],R=[],P=[],b=[],v=function(e){function o(t,n,o,a){var i=e.call(this)||this;return i.overlaps=o,i.pixelRatio=n,i.resolution=t,i.alignFill_,i.declutterItems=[],i.instructions=a.instructions,i.coordinates=a.coordinates,i.coordinateCache_={},i.renderedTransform_=Object(f.c)(),i.hitDetectionInstructions=a.hitDetectionInstructions,i.pixelCoordinates_=null,i.viewRotation_=0,i.fillStates=a.fillStates||{},i.strokeStates=a.strokeStates||{},i.textStates=a.textStates||{},i.widths_={},i}return N(o,e),o.prototype.disposeInternal=function(){m.o.release(this),e.prototype.disposeInternal.call(this)},o.prototype.getTextImage=function(e,t,n,o){var a=o+t+e+n+this.pixelRatio,s;if(!m.o.containsKey(a)){var l=o?this.strokeStates[o]:null,p=n?this.fillStates[n]:null,_=this.textStates[t],g=this.pixelRatio,c=_.scale*g,u=r.a[_.textAlign||m.l],h=o&&l.lineWidth?l.lineWidth:0,f=e.split('\n'),I=f.length,E=[],C=Object(m.r)(_.font,f,E),T=Object(m.q)(_.font),N=C+h,S=Object(d.a)(y((N+2)*c),y((T*I+h)*c));s=S.canvas,m.o.set(a,s),1!=c&&S.scale(c,c),S.font=_.font,o&&(S.strokeStyle=l.strokeStyle,S.lineWidth=h,S.lineCap=l.lineCap,S.lineJoin=l.lineJoin,S.miterLimit=l.miterLimit,S.setLineDash&&l.lineDash.length&&(S.setLineDash(l.lineDash),S.lineDashOffset=l.lineDashOffset)),n&&(S.fillStyle=p.fillStyle),S.textBaseline='middle',S.textAlign='center';var L=0.5-u,O=u*N+L*h,x=void 0;if(o)for(x=0;x<I;++x)S.strokeText(f[x],O+L*E[x],0.5*(h+T)+x*T);if(n)for(x=0;x<I;++x)S.fillText(f[x],O+L*E[x],0.5*(h+T)+x*T)}return m.o.get(a,this)},o.prototype.replayTextBackground_=function(e,t,n,o,a,i,r){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,n),e.lineTo.apply(e,o),e.lineTo.apply(e,a),e.lineTo.apply(e,t),i&&(this.alignFill_=i[2],this.fill_(e)),r&&(this.setStrokeStyle_(e,r),e.stroke())},o.prototype.replayImage_=function(e,t,o,a,i,r,s,d,l,p,g,c,u,y,x,I,T,N){var v=T||N;i*=u,r*=u,t-=i,o-=r;var M=x+p>a.width?a.width-p:x,D=d+g>a.height?a.height-g:d,h=I[3]+M*u+I[1],A=I[0]+D*u+I[2],F=t-I[3],w=o-I[0];(v||0!==c)&&(O[0]=F,b[0]=F,O[1]=w,R[1]=w,R[0]=F+h,P[0]=R[0],P[1]=w+A,b[1]=P[1]);var G=null;if(0!==c){var k=t+i,Y=o+r;G=Object(f.b)(L,k,Y,1,1,c,-k,-Y),Object(f.a)(L,O),Object(f.a)(L,R),Object(f.a)(L,P),Object(f.a)(L,b),Object(_.j)(C(O[0],R[0],P[0],b[0]),C(O[1],R[1],P[1],b[1]),E(O[0],R[0],P[0],b[0]),E(O[1],R[1],P[1],b[1]),S)}else Object(_.j)(F,w,F+h,w+A,S);var z=e.canvas,B=N?N[2]*u/2:0,j=S[0]-B<=z.width&&0<=S[2]+B&&S[1]-B<=z.height&&0<=S[3]+B;if(y&&(t=n(t),o=n(o)),s){if(!j&&1==s[4])return;Object(_.p)(s,S);var U=j?[e,G?G.slice(0):null,l,a,p,g,M,D,t,o,u]:null;U&&(v&&U.push(T,N,O,R,P,b),s.push(U))}else j&&(v&&this.replayTextBackground_(e,O,R,P,b,T,N),Object(m.n)(e,G,l,a,p,g,M,D,t,o,u))},o.prototype.fill_=function(e){if(this.alignFill_){var t=Object(f.a)(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;e.save(),e.translate(t[0]%n,t[1]%n),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()},o.prototype.setStrokeStyle_=function(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.setLineDash&&(e.lineDashOffset=t[7],e.setLineDash(t[6]))},o.prototype.renderDeclutter=function(e,t,n,o){if(e&&5<e.length){var a=e[4];if(1==a||a==e.length-5){var i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};if(o||(o=new I.a(9)),!o.collides(i)){o.insert(i);for(var r=5,s=e.length;r<s;++r){var d=e[r],l=d[0],p=l.globalAlpha;p!==n&&(l.globalAlpha=n),11<d.length&&this.replayTextBackground_(d[0],d[13],d[14],d[15],d[16],d[11],d[12]),m.n.apply(void 0,d),p!==n&&(l.globalAlpha=p)}}e.length=5,Object(_.k)(e)}}return o},o.prototype.drawTextImageWithPointPlacement_=function(e,t,n,o){var a=this.textStates[t],i=this.getTextImage(e,t,o,n),s=this.strokeStates[n],d=this.pixelRatio,l=r.a[a.textAlign||m.l],p=r.a[a.textBaseline||m.m],_=s&&s.lineWidth?s.lineWidth:0,g=i.width/d-2*a.scale,c=p*i.height/d+2*(0.5-p)*_;return{label:i,anchorX:l*g+2*(0.5-l)*_,anchorY:c}},o.prototype.execute_=function(e,o,a,I,E,C){this.declutterItems.length=0;var N;this.pixelCoordinates_&&Object(l.b)(o,this.renderedTransform_)?N=this.pixelCoordinates_:(!this.pixelCoordinates_&&(this.pixelCoordinates_=[]),N=Object(u.c)(this.coordinates,0,this.coordinates.length,2,o,this.pixelCoordinates_),Object(f.f)(this.renderedTransform_,o));for(var S=0,L=a.length,O=0,d=0,R=0,P=null,b=null,v=this.coordinateCache_,M=this.viewRotation_,D=n(1e12*t(-o[1],o[0]))/1e12,A={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:M},F=this.instructions!=a||this.overlaps?0:200,w,G,k,Y,z,B,j,U,X,V,W,H,q,Z,K,Q,x;S<L;){var y=a[S],J=y[0];switch(J){case h.c.BEGIN_GEOMETRY:K=y[1],K.getGeometry()?void 0===C||Object(_.B)(C,y[3])?++S:S=y[2]+1:S=y[2];break;case h.c.BEGIN_PATH:d>F&&(this.fill_(e),d=0),R>F&&(e.stroke(),R=0),d||R||(e.beginPath(),Y=NaN,z=NaN),++S;break;case h.c.CIRCLE:O=y[1];var $=N[O],ee=N[O+1],te=N[O+2],ne=N[O+3],oe=te-$,ae=ne-ee,ie=T(oe*oe+ae*ae);e.moveTo($+ie,ee),e.arc($,ee,ie,0,2*s,!0),++S;break;case h.c.CLOSE_PATH:e.closePath(),++S;break;case h.c.CUSTOM:O=y[1],w=y[2];var re=y[3],se=y[4],de=6==y.length?y[5]:void 0;A.geometry=re,A.feature=K,S in v||(v[S]=[]);var le=v[S];de?de(N,O,w,2,le):(le[0]=N[O],le[1]=N[O+1],le.length=2),se(le,A),++S;break;case h.c.DRAW_IMAGE:O=y[1],w=y[2],V=y[3],G=y[4],k=y[5],X=E?null:y[6];var pe=y[7],_e=y[8],ge=y[9],ce=y[10],ue=y[11],ye=y[12],me=y[13],he=y[14];if(!V&&19<=y.length){W=y[18],H=y[19],q=y[20],Z=y[21];var fe=this.drawTextImageWithPointPlacement_(W,H,q,Z);V=fe.label,y[3]=V;var xe=y[22];G=(fe.anchorX-xe)*this.pixelRatio,y[4]=G;var Ie=y[23];k=(fe.anchorY-Ie)*this.pixelRatio,y[5]=k,pe=V.height,y[7]=pe,he=V.width,y[14]=he}var Ee=void 0;24<y.length&&(Ee=y[24]);var Ce=void 0,Te=void 0,Ne=void 0;16<y.length?(Ce=y[15],Te=y[16],Ne=y[17]):(Ce=m.j,Te=!1,Ne=!1),ue&&D?ye+=M:!ue&&!D&&(ye-=M);for(var Se=0,Le=0;O<w;O+=2)if(!(Ee&&Ee[Se++]<he/this.pixelRatio)){if(X){var Oe=p(Le);X.length<Oe+1&&(U=Object(_.i)(),U.push(X[0][4]),X.push(U)),U=X[Oe]}this.replayImage_(e,N[O],N[O+1],V,G,k,U,pe,_e,ge,ce,ye,me,I,he,Ce,Te?P:null,Ne?b:null),U&&(Le===p(Le)&&this.declutterItems.push(this,U,K),Le+=1/U[4])}++S;break;case h.c.DRAW_CHARS:var Re=y[1],Pe=y[2],be=y[3];U=E?null:y[4];var ve=y[5];Z=y[6];var Me=y[7],De=y[8],Ae=y[9];q=y[10];var Fe=y[11];W=y[12],H=y[13];var we=y[14],Ge=this.textStates[H],ke=Ge.font,Ye=Ge.scale*De,ze=void 0;ke in this.widths_?ze=this.widths_[ke]:(ze={},this.widths_[ke]=ze);var Be=Object(g.a)(N,Re,Pe,2),je=Ye*Object(m.p)(ke,W,ze);if(ve||je<=Be){var Ue=this.textStates[H].textAlign,Xe=(Be-je)*r.a[Ue],Ve=Object(i.a)(N,Re,Pe,2,W,Xe,Me,Ye,m.p,ke,ze);if(Ve){var We=void 0,c=void 0,He=void 0,qe=void 0,Ze=void 0;if(q)for(We=0,c=Ve.length;We<c;++We)Ze=Ve[We],He=Ze[4],qe=this.getTextImage(He,H,'',q),G=Ze[2]+Fe,k=be*qe.height+2*(0.5-be)*Fe-Ae,this.replayImage_(e,Ze[0],Ze[1],qe,G,k,U,qe.height,1,0,0,Ze[3],we,!1,qe.width,m.j,null,null);if(Z)for(We=0,c=Ve.length;We<c;++We)Ze=Ve[We],He=Ze[4],qe=this.getTextImage(He,H,Z,''),G=Ze[2],k=be*qe.height-Ae,this.replayImage_(e,Ze[0],Ze[1],qe,G,k,U,qe.height,1,0,0,Ze[3],we,!1,qe.width,m.j,null,null)}}this.declutterItems.push(this,U,K),++S;break;case h.c.END_GEOMETRY:if(void 0!==E){K=y[1];var Ke=E(K);if(Ke)return Ke}++S;break;case h.c.FILL:F?d++:this.fill_(e),++S;break;case h.c.MOVE_TO_LINE_TO:for(O=y[1],w=y[2],Q=N[O],x=N[O+1],B=0|Q+0.5,j=0|x+0.5,(B!==Y||j!==z)&&(e.moveTo(Q,x),Y=B,z=j),O+=2;O<w;O+=2)Q=N[O],x=N[O+1],B=0|Q+0.5,j=0|x+0.5,(O==w-2||B!==Y||j!==z)&&(e.lineTo(Q,x),Y=B,z=j);++S;break;case h.c.SET_FILL_STYLE:P=y,this.alignFill_=y[2],d&&(this.fill_(e),d=0,R&&(e.stroke(),R=0)),e.fillStyle=y[1],++S;break;case h.c.SET_STROKE_STYLE:b=y,R&&(e.stroke(),R=0),this.setStrokeStyle_(e,y),++S;break;case h.c.STROKE:F?R++:e.stroke(),++S;break;default:++S;}}return d&&this.fill_(e),void(R&&e.stroke())},o.prototype.execute=function(e,t,n,o){this.viewRotation_=n,this.execute_(e,t,this.instructions,o,void 0,void 0)},o.prototype.executeHitDetection=function(e,t,n,o,a){return this.viewRotation_=n,this.execute_(e,t,this.hitDetectionInstructions,!0,o,a)},o}(c.a);o.a=v},function(e,n,o){'use strict';n.a=function(e,n,o,r,l,p,_,g,c,u,m){var h=[],f=e[n]>e[o-r],E=l.length,C=e[n],N=e[n+1];n+=r;for(var S=e[n],L=e[n+1],O=0,R=T(I(S-C,2)+I(L-N,2)),P=!1,b=0,i,v;b<E;++b){i=f?E-b-1:b;for(var M=l[i],D=g*c(u,M,m),A=p+D/2;n<o-r&&O+R<A;)C=S,N=L,n+=r,S=e[n],L=e[n+1],O+=R,R=T(I(S-C,2)+I(L-N,2));var F=A-O,w=t(L-N,S-C);if(f&&(w+=0<w?-s:s),void 0!=v){var G=w-v;if(P=P||0!=G,G+=G>s?-2*s:G<-s?2*s:0,d(G)>_)return null}v=w;var k=F/R,Y=Object(a.c)(C,S,k),x=Object(a.c)(N,L,k);h[i]=[Y,x,D/2,w,M],p+=D}return P?h:[[h[0][0],h[0][1],h[0][2],h[0][3],l]]};var a=o(15)},function(e,t,o){'use strict';var a=o(2),i=o(35),r=o(261),s=o(163),d=o(36),l=o(262),p=o(44),_=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),g=function(e){function t(t){var n=e.call(this,t)||this;return n.container=null,n.renderedResolution,n.tempTransform_=Object(p.c)(),n.pixelTransform=Object(p.c)(),n.inversePixelTransform=Object(p.c)(),n.context=null,n.containerReused=!1,n.createTransformStringCanvas_=Object(i.a)(1,1).canvas,n}return _(t,e),t.prototype.useContainer=function(e,t){var n=this.getLayer().getClassName(),o,a;if(e&&''===e.style.opacity&&e.className===n){var r=e.firstElementChild;r instanceof HTMLCanvasElement&&(a=r.getContext('2d'))}if(a&&a.canvas.style.transform===t?(this.container=e,this.context=a,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){o=document.createElement('div'),o.className=n;var s=o.style;s.position='absolute',s.width='100%',s.height='100%',a=Object(i.a)();var r=a.canvas;o.appendChild(r),s=r.style,s.position='absolute',s.left='0',s.transformOrigin='top left',this.container=o,this.context=a}},t.prototype.clip=function(e,t,n){var o=t.pixelRatio,i=t.size[0]*o/2,r=t.size[1]*o/2,s=t.viewState.rotation,l=Object(a.y)(n),_=Object(a.z)(n),g=Object(a.v)(n),c=Object(a.u)(n);Object(p.a)(t.coordinateToPixelTransform,l),Object(p.a)(t.coordinateToPixelTransform,_),Object(p.a)(t.coordinateToPixelTransform,g),Object(p.a)(t.coordinateToPixelTransform,c),e.save(),Object(d.s)(e,-s,i,r),e.beginPath(),e.moveTo(l[0]*o,l[1]*o),e.lineTo(_[0]*o,_[1]*o),e.lineTo(g[0]*o,g[1]*o),e.lineTo(c[0]*o,c[1]*o),e.clip(),Object(d.s)(e,s,i,r)},t.prototype.clipUnrotated=function(e,t,o){var i=Object(a.y)(o),r=Object(a.z)(o),s=Object(a.v)(o),d=Object(a.u)(o);Object(p.a)(t.coordinateToPixelTransform,i),Object(p.a)(t.coordinateToPixelTransform,r),Object(p.a)(t.coordinateToPixelTransform,s),Object(p.a)(t.coordinateToPixelTransform,d);var l=this.inversePixelTransform;Object(p.a)(l,i),Object(p.a)(l,r),Object(p.a)(l,s),Object(p.a)(l,d),e.save(),e.beginPath(),e.moveTo(n(i[0]),n(i[1])),e.lineTo(n(r[0]),n(r[1])),e.lineTo(n(s[0]),n(s[1])),e.lineTo(n(d[0]),n(d[1])),e.clip()},t.prototype.dispatchRenderEvent_=function(e,t,n){var o=this.getLayer();if(o.hasListener(e)){var a=new r.a(e,this.inversePixelTransform,n,t);o.dispatchEvent(a)}},t.prototype.preRender=function(e,t){this.dispatchRenderEvent_(s.a.PRERENDER,e,t)},t.prototype.postRender=function(e,t){this.dispatchRenderEvent_(s.a.POSTRENDER,e,t)},t.prototype.getRenderTransform=function(e,t,n,o,a,i,r){var s=o/t,d=-e[0]+r,l=-e[1];return Object(p.b)(this.tempTransform_,a/2,i/2,s,-s,-n,d,l)},t.prototype.getDataAtPixel=function(e){var t=Object(p.a)(this.inversePixelTransform,e.slice()),o=this.context,a;try{a=o.getImageData(n(t[0]),n(t[1]),1,1).data}catch(e){return'SecurityError'===e.name?new Uint8Array:a}return 0===a[3]?null:a},t.prototype.createTransformString=function(e){return this.createTransformStringCanvas_.style.transform=Object(p.g)(e),this.createTransformStringCanvas_.style.transform},t}(l.a);t.a=g},function(e,t,n){'use strict';var o=n(13),a=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=function(e){function t(t,n,o,a){var i=e.call(this,t)||this;return i.inversePixelTransform=n,i.frameState=o,i.context=a,i}return a(t,e),t}(o.a);t.a=i},function(e,t,n){'use strict';var o=n(7),a=n(56),i=n(113),r=n(8),s=n(90),d=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l=function(e){function t(t){var n=e.call(this)||this;return n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=t,n}return d(t,e),t.prototype.getFeatures=function(){return Object(o.b)()},t.prototype.prepareFrame=function(){return Object(o.b)()},t.prototype.renderFrame=function(){return Object(o.b)()},t.prototype.loadedTileCallback=function(e,t,n){e[t]||(e[t]={}),e[t][n.tileCoord.toString()]=n},t.prototype.createLoadedTileFinder=function(e,t,n){return function(o,a){var i=this.loadedTileCallback.bind(this,n,o);return e.forEachLoadedTile(t,o,a,i)}.bind(this)},t.prototype.forEachFeatureAtCoordinate=function(){},t.prototype.getDataAtPixel=function(){return Object(o.b)()},t.prototype.getLayer=function(){return this.layer_},t.prototype.handleFontsChanged=function(){},t.prototype.handleImageChange_=function(e){var t=e.target;t.getState()===a.a.LOADED&&this.renderIfReadyAndVisible()},t.prototype.loadImage=function(e){var t=e.getState();return t!=a.a.LOADED&&t!=a.a.ERROR&&e.addEventListener(r.a.CHANGE,this.boundHandleImageChange_),t==a.a.IDLE&&(e.load(),t=e.getState()),t==a.a.LOADED},t.prototype.renderIfReadyAndVisible=function(){var e=this.getLayer();e.getVisible()&&e.getSourceState()==s.a.READY&&e.changed()},t}(i.a);t.a=l},function(e,t,n){'use strict';function o(e,t){return p*e/t}function a(e,t,n,o,a){var i=n.getGeometryFunction()(t);if(i){var s=i.simplifyTransformed(o,a),d=n.getRenderer();if(d)r(e,s,n,t);else{var l=_[s.getType()];l(e,s,n,t)}}}function r(e,t,n,o){if(t.getType()==d.a.GEOMETRY_COLLECTION){for(var a=t.getGeometries(),s=0,i=a.length;s<i;++s)r(e,a[s],n,o);return}var p=e.getBuilder(n.getZIndex(),l.a.DEFAULT);p.drawCustom(t,o,n.getRenderer())}t.a=function(e,t){return parseInt(Object(i.c)(e),10)-parseInt(Object(i.c)(t),10)},t.b=function(e,t){var n=o(e,t);return n*n},t.c=o,t.d=function(e,t,n,o,i,r){var d=!1,l=n.getImage();if(l){var p=l.getImageState();p==s.a.LOADED||p==s.a.ERROR?l.unlistenImageChange(i):(p==s.a.IDLE&&l.load(),p=l.getImageState(),l.listenImageChange(i),d=!0)}return a(e,t,n,o,r),d};var i=n(7),s=n(56),d=n(5),l=n(166),p=0.5,_={Point:function(e,t,n,o){var a=n.getImage();if(a){if(a.getImageState()!=s.a.LOADED)return;var i=e.getBuilder(n.getZIndex(),l.a.IMAGE);i.setImageStyle(a,e.addDeclutter(!1)),i.drawPoint(t,o)}var r=n.getText();if(r){var d=e.getBuilder(n.getZIndex(),l.a.TEXT);d.setTextStyle(r,e.addDeclutter(!!a)),d.drawText(t,o)}},LineString:function(e,t,n,o){var a=n.getStroke();if(a){var i=e.getBuilder(n.getZIndex(),l.a.LINE_STRING);i.setFillStrokeStyle(null,a),i.drawLineString(t,o)}var r=n.getText();if(r){var s=e.getBuilder(n.getZIndex(),l.a.TEXT);s.setTextStyle(r,e.addDeclutter(!1)),s.drawText(t,o)}},Polygon:function(e,t,n,o){var a=n.getFill(),i=n.getStroke();if(a||i){var r=e.getBuilder(n.getZIndex(),l.a.POLYGON);r.setFillStrokeStyle(a,i),r.drawPolygon(t,o)}var s=n.getText();if(s){var d=e.getBuilder(n.getZIndex(),l.a.TEXT);d.setTextStyle(s,e.addDeclutter(!1)),d.drawText(t,o)}},MultiPoint:function(e,t,n,o){var a=n.getImage();if(a){if(a.getImageState()!=s.a.LOADED)return;var i=e.getBuilder(n.getZIndex(),l.a.IMAGE);i.setImageStyle(a,e.addDeclutter(!1)),i.drawMultiPoint(t,o)}var r=n.getText();if(r){var d=e.getBuilder(n.getZIndex(),l.a.TEXT);d.setTextStyle(r,e.addDeclutter(!!a)),d.drawText(t,o)}},MultiLineString:function(e,t,n,o){var a=n.getStroke();if(a){var i=e.getBuilder(n.getZIndex(),l.a.LINE_STRING);i.setFillStrokeStyle(null,a),i.drawMultiLineString(t,o)}var r=n.getText();if(r){var s=e.getBuilder(n.getZIndex(),l.a.TEXT);s.setTextStyle(r,e.addDeclutter(!1)),s.drawText(t,o)}},MultiPolygon:function(e,t,n,o){var a=n.getFill(),i=n.getStroke();if(i||a){var r=e.getBuilder(n.getZIndex(),l.a.POLYGON);r.setFillStrokeStyle(a,i),r.drawMultiPolygon(t,o)}var s=n.getText();if(s){var d=e.getBuilder(n.getZIndex(),l.a.TEXT);d.setTextStyle(s,e.addDeclutter(!1)),d.drawText(t,o)}},GeometryCollection:function(e,t,n,o){var a=t.getGeometriesArray(),r,i;for(r=0,i=a.length;r<i;++r){var s=_[a[r].getType()];s(e,a[r],n,o)}},Circle:function(e,t,n,o){var a=n.getFill(),i=n.getStroke();if(a||i){var r=e.getBuilder(n.getZIndex(),l.a.CIRCLE);r.setFillStrokeStyle(a,i),r.drawCircle(t,o)}var s=n.getText();if(s){var d=e.getBuilder(n.getZIndex(),l.a.TEXT);d.setTextStyle(s,e.addDeclutter(!1)),d.drawText(t,o)}}}},function(e,t,o){'use strict';t.a=function(e,t,n,o,_,g,c){var u=e[0]/2,m=e[1]/2,h=Object(r.a)(u,m);h.imageSmoothingEnabled=!1;for(var f=h.canvas,x=new a.a(h,0.5,_,null,c),I=n.length,E=y(16777216/I),C={},T=0;T<I;++T){var N=n[T],S=N.getStyleFunction()||o;if(o){var L=S(N,g);Array.isArray(L)||(L=[L]);for(var O=T*E,R='#'+('000000'+O.toString(16)).slice(-6),P=0,b=L.length;P<b;++P){var v=L[P],M=v.clone(),D=M.getFill();D&&D.setColor(R);var A=M.getStroke();A&&A.setColor(R),M.setText(void 0);var F=v.getImage();if(F){var w=F.getImageSize(),G=document.createElement('canvas');G.width=w[0],G.height=w[1];var Y=G.getContext('2d',{alpha:!1});Y.fillStyle=R;var z=Y.canvas;Y.fillRect(0,0,z.width,z.height);var B=w?w[0]:z.width,j=w?w[1]:z.height,U=Object(r.a)(B,j);U.drawImage(z,0,0),M.setImage(new i.c({img:z,imgSize:w,anchor:F.getAnchor(),anchorXUnits:s.a.PIXELS,anchorYUnits:s.a.PIXELS,offset:F.getOrigin(),size:F.getSize(),opacity:F.getOpacity(),scale:F.getScale(),rotation:F.getRotation(),rotateWithView:F.getRotateWithView()}))}var X=+M.getZIndex(),V=C[X];V||(V={},C[X]=V,V[d.a.POLYGON]=[],V[d.a.CIRCLE]=[],V[d.a.LINE_STRING]=[],V[d.a.POINT]=[]);var W=M.getGeometryFunction()(N);W&&Object(l.B)(_,W.getExtent())&&V[W.getType().replace('Multi','')].push(W,M)}}}for(var H=Object.keys(C).map(Number).sort(p.e),T=0,q=H.length,V;T<q;++T)for(var Z in V=C[H[T]],V)for(var K=V[Z],P=0,b=K.length;P<b;P+=2){x.setStyle(K[P+1]);for(var Q=0,k=t.length;Q<k;++Q)x.setTransform(t[Q]),x.drawGeometry(K[P])}return h.getImageData(0,0,f.width,f.height)},t.b=function(e,t,o){var a=[];if(o){var s=4*(n(e[0]/2)+n(e[1]/2)*o.width),d=o.data[s],r=o.data[s+1],l=o.data[s+2],p=l+256*(r+256*d),i=y(16777216/t.length);0==p%i&&a.push(t[p/i])}return a};var a=o(265),r=o(35),i=o(91),s=o(149),d=o(5),l=o(2),p=o(10)},function(e,t,n){'use strict';var o=n(10),a=n(93),r=n(2),i=n(5),d=n(31),l=n(58),p=n(164),_=n(36),g=n(44),c=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),u=function(e){function t(t,n,o,a,i,r,s){var d=e.call(this)||this;return d.context_=t,d.pixelRatio_=n,d.extent_=o,d.transform_=a,d.viewRotation_=i,d.squaredTolerance_=r,d.userTransform_=s,d.contextFillState_=null,d.contextStrokeState_=null,d.contextTextState_=null,d.fillState_=null,d.strokeState_=null,d.image_=null,d.imageAnchorX_=0,d.imageAnchorY_=0,d.imageHeight_=0,d.imageOpacity_=0,d.imageOriginX_=0,d.imageOriginY_=0,d.imageRotateWithView_=!1,d.imageRotation_=0,d.imageScale_=0,d.imageWidth_=0,d.text_='',d.textOffsetX_=0,d.textOffsetY_=0,d.textRotateWithView_=!1,d.textRotation_=0,d.textScale_=0,d.textFillState_=null,d.textStrokeState_=null,d.textState_=null,d.pixelCoordinates_=[],d.tmpLocalTransform_=Object(g.c)(),d}return c(t,e),t.prototype.drawImages_=function(e,t,n){if(this.image_){var o=Object(l.c)(e,t,n,2,this.transform_,this.pixelCoordinates_),a=this.context_,r=this.tmpLocalTransform_,s=a.globalAlpha;1!=this.imageOpacity_&&(a.globalAlpha=s*this.imageOpacity_);var d=this.imageRotation_;this.imageRotateWithView_&&(d+=this.viewRotation_);for(var p=0,i=o.length;p<i;p+=2){var _=o[p]-this.imageAnchorX_,c=o[p+1]-this.imageAnchorY_;if(0!==d||1!=this.imageScale_){var u=_+this.imageAnchorX_,y=c+this.imageAnchorY_;Object(g.b)(r,u,y,this.imageScale_,this.imageScale_,d,-u,-y),a.setTransform.apply(a,r)}a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,_,c,this.imageWidth_,this.imageHeight_)}(0!==d||1!=this.imageScale_)&&a.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(a.globalAlpha=s)}},t.prototype.drawText_=function(e,t,n,o){if(this.textState_&&''!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var a=Object(l.c)(e,t,n,o,this.transform_,this.pixelCoordinates_),i=this.context_,r=this.textRotation_;for(this.textRotateWithView_&&(r+=this.viewRotation_);t<n;t+=o){var s=a[t]+this.textOffsetX_,d=a[t+1]+this.textOffsetY_;if(0!==r||1!=this.textScale_){var p=Object(g.b)(this.tmpLocalTransform_,s,d,this.textScale_,this.textScale_,r,-s,-d);i.setTransform.apply(i,p)}this.textStrokeState_&&i.strokeText(this.text_,s,d),this.textFillState_&&i.fillText(this.text_,s,d)}(0!==r||1!=this.textScale_)&&i.setTransform(1,0,0,1,0,0)}},t.prototype.moveToLineTo_=function(e,t,n,o,a){var r=this.context_,s=Object(l.c)(e,t,n,o,this.transform_,this.pixelCoordinates_);r.moveTo(s[0],s[1]);var d=s.length;a&&(d-=2);for(var p=2;p<d;p+=2)r.lineTo(s[p],s[p+1]);return a&&r.closePath(),n},t.prototype.drawRings_=function(e,t,n,o){for(var a=0,i=n.length;a<i;++a)t=this.moveToLineTo_(e,t,n[a],o,!0);return t},t.prototype.drawCircle=function(e){if(Object(r.B)(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=Object(d.b)(e,this.transform_,this.pixelCoordinates_),n=t[2]-t[0],o=t[3]-t[1],a=T(n*n+o*o),i=this.context_;i.beginPath(),i.arc(t[0],t[1],a,0,2*s),this.fillState_&&i.fill(),this.strokeState_&&i.stroke()}''!==this.text_&&this.drawText_(e.getCenter(),0,2,2)}},t.prototype.setStyle=function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())},t.prototype.setTransform=function(e){this.transform_=e},t.prototype.drawGeometry=function(e){var t=e.getType();switch(t){case i.a.POINT:this.drawPoint(e);break;case i.a.LINE_STRING:this.drawLineString(e);break;case i.a.POLYGON:this.drawPolygon(e);break;case i.a.MULTI_POINT:this.drawMultiPoint(e);break;case i.a.MULTI_LINE_STRING:this.drawMultiLineString(e);break;case i.a.MULTI_POLYGON:this.drawMultiPolygon(e);break;case i.a.GEOMETRY_COLLECTION:this.drawGeometryCollection(e);break;case i.a.CIRCLE:this.drawCircle(e);break;default:}},t.prototype.drawFeature=function(e,t){var n=t.getGeometryFunction()(e);n&&Object(r.B)(this.extent_,n.getExtent())&&(this.setStyle(t),this.drawGeometry(n))},t.prototype.drawGeometryCollection=function(e){for(var t=e.getGeometriesArray(),n=0,o=t.length;n<o;++n)this.drawGeometry(t[n])},t.prototype.drawPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var t=e.getFlatCoordinates(),n=e.getStride();this.image_&&this.drawImages_(t,0,t.length,n),''!==this.text_&&this.drawText_(t,0,t.length,n)},t.prototype.drawMultiPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var t=e.getFlatCoordinates(),n=e.getStride();this.image_&&this.drawImages_(t,0,t.length,n),''!==this.text_&&this.drawText_(t,0,t.length,n)},t.prototype.drawLineString=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Object(r.B)(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var t=this.context_,n=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(n,0,n.length,e.getStride(),!1),t.stroke()}if(''!==this.text_){var o=e.getFlatMidpoint();this.drawText_(o,0,2,2)}}},t.prototype.drawMultiLineString=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var t=e.getExtent();if(Object(r.B)(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,o=e.getFlatCoordinates(),a=0,s=e.getEnds(),d=e.getStride();n.beginPath();for(var l=0,i=s.length;l<i;++l)a=this.moveToLineTo_(o,a,s[l],d,!1);n.stroke()}if(''!==this.text_){var p=e.getFlatMidpoints();this.drawText_(p,0,p.length,2)}}},t.prototype.drawPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Object(r.B)(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(''!==this.text_){var n=e.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},t.prototype.drawMultiPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Object(r.B)(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=this.context_,n=e.getOrientedFlatCoordinates(),o=0,a=e.getEndss(),s=e.getStride();t.beginPath();for(var d=0,i=a.length,l;d<i;++d)l=a[d],o=this.drawRings_(n,o,l,s);this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(''!==this.text_){var p=e.getFlatInteriorPoints();this.drawText_(p,0,p.length,2)}}},t.prototype.setContextFillState_=function(e){var t=this.context_,n=this.contextFillState_;n?n.fillStyle!=e.fillStyle&&(n.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})},t.prototype.setContextStrokeState_=function(e){var t=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=e.lineCap&&(n.lineCap=e.lineCap,t.lineCap=e.lineCap),t.setLineDash&&(!Object(o.b)(n.lineDash,e.lineDash)&&t.setLineDash(n.lineDash=e.lineDash),n.lineDashOffset!=e.lineDashOffset&&(n.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset)),n.lineJoin!=e.lineJoin&&(n.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),n.lineWidth!=e.lineWidth&&(n.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),n.miterLimit!=e.miterLimit&&(n.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),n.strokeStyle!=e.strokeStyle&&(n.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})},t.prototype.setContextTextState_=function(e){var t=this.context_,n=this.contextTextState_,o=e.textAlign?e.textAlign:_.l;n?(n.font!=e.font&&(n.font=e.font,t.font=e.font),n.textAlign!=o&&(n.textAlign=o,t.textAlign=o),n.textBaseline!=e.textBaseline&&(n.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=o,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:o,textBaseline:e.textBaseline})},t.prototype.setFillStrokeStyle=function(e,t){if(!e)this.fillState_=null;else{var n=e.getColor();this.fillState_={fillStyle:Object(a.a)(n?n:_.b)}}if(!t)this.strokeState_=null;else{var o=t.getColor(),i=t.getLineCap(),r=t.getLineDash(),s=t.getLineDashOffset(),d=t.getLineJoin(),l=t.getWidth(),p=t.getMiterLimit();this.strokeState_={lineCap:void 0===i?_.d:i,lineDash:r?r:_.e,lineDashOffset:s?s:_.f,lineJoin:void 0===d?_.g:d,lineWidth:this.pixelRatio_*(void 0===l?_.h:l),miterLimit:void 0===p?_.i:p,strokeStyle:Object(a.a)(o?o:_.k)}}},t.prototype.setImageStyle=function(e){if(!e)this.image_=null;else{var t=e.getAnchor(),n=e.getImage(1),o=e.getOrigin(),a=e.getSize();this.imageAnchorX_=t[0],this.imageAnchorY_=t[1],this.imageHeight_=a[1],this.image_=n,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation(),this.imageScale_=e.getScale()*this.pixelRatio_,this.imageWidth_=a[0]}},t.prototype.setTextStyle=function(e){if(!e)this.text_='';else{var t=e.getFill();if(!t)this.textFillState_=null;else{var n=t.getColor();this.textFillState_={fillStyle:Object(a.a)(n?n:_.b)}}var o=e.getStroke();if(!o)this.textStrokeState_=null;else{var i=o.getColor(),r=o.getLineCap(),s=o.getLineDash(),d=o.getLineDashOffset(),l=o.getLineJoin(),p=o.getWidth(),g=o.getMiterLimit();this.textStrokeState_={lineCap:void 0===r?_.d:r,lineDash:s?s:_.e,lineDashOffset:d?d:_.f,lineJoin:void 0===l?_.g:l,lineWidth:void 0===p?_.h:p,miterLimit:void 0===g?_.i:g,strokeStyle:Object(a.a)(i?i:_.k)}}var c=e.getFont(),u=e.getOffsetX(),y=e.getOffsetY(),m=e.getRotateWithView(),h=e.getRotation(),f=e.getScale(),x=e.getText(),I=e.getTextAlign(),E=e.getTextBaseline();this.textState_={font:void 0===c?_.c:c,textAlign:void 0===I?_.l:I,textBaseline:void 0===E?_.m:E},this.text_=void 0===x?'':x,this.textOffsetX_=void 0===u?0:this.pixelRatio_*u,this.textOffsetY_=void 0===y?0:this.pixelRatio_*y,this.textRotateWithView_=void 0!==m&&m,this.textRotation_=void 0===h?0:h,this.textScale_=this.pixelRatio_*(void 0===f?1:f)}},t}(p.a);t.a=u},function(e,n){'use strict';var o=function(){function e(e,t,n){this.decay_=e,this.minVelocity_=t,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return e.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},e.prototype.update=function(e,t){this.points_.push(e,t,Date.now())},e.prototype.end=function(){if(6>this.points_.length)return!1;var e=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<e)return!1;for(var o=n-3;0<o&&this.points_[o+2]>e;)o-=3;var a=this.points_[n+2]-this.points_[o+2];if(a<1e3/60)return!1;var i=this.points_[n]-this.points_[o],r=this.points_[n+1]-this.points_[o+1];return this.angle_=t(r,i),this.initialVelocity_=T(i*i+r*r)/a,this.initialVelocity_>this.minVelocity_},e.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},e.prototype.getAngle=function(){return this.angle_},e}();n.a=o},function(e,t){'use strict';t.a=function(e,t,n){var o=void 0===n?''+e:e.toFixed(n),a=o.indexOf('.');return a=-1===a?o.length:a,a>t?o:Array(1+t-a).join('0')+o}},function(e,t,n){'use strict';var o=n(89),a=n(48),i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=function(e){function t(t){var n=e.call(this)||this;return n.geometry_=null,n.element_=document.createElement('div'),n.element_.style.position='absolute',n.element_.className='ol-box '+t,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return i(t,e),t.prototype.disposeInternal=function(){this.setMap(null)},t.prototype.render_=function(){var e=this.startPixel_,t=this.endPixel_,n='px',o=this.element_.style;o.left=C(e[0],t[0])+n,o.top=C(e[1],t[1])+n,o.width=d(t[0]-e[0])+n,o.height=d(t[1]-e[1])+n},t.prototype.setMap=function(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var t=this.element_.style;t.left='inherit',t.top='inherit',t.width='inherit',t.height='inherit'}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},t.prototype.setPixels=function(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()},t.prototype.createOrUpdateGeometry=function(){var e=this.startPixel_,t=this.endPixel_,n=[e,[e[0],t[1]],t,[t[0],e[1]]],o=n.map(this.map_.getCoordinateFromPixelInternal,this.map_);o[4]=o[0].slice(),this.geometry_?this.geometry_.setCoordinates([o]):this.geometry_=new a.a([o])},t.prototype.getGeometry=function(){return this.geometry_},t}(o.a);t.a=r},function(e,t){'use strict';t.a={LEFT:37,UP:38,RIGHT:39,DOWN:40}},function(e,t,n){'use strict';function o(e){for(var t=e.dataTransfer.files,n=0,o=t.length;n<o;++n){var a=t.item(n),i=new FileReader;i.addEventListener(d.a.LOAD,this.handleResult_.bind(this,a)),i.readAsText(a)}}function a(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect='copy'}var i=n(11),r=n(30),s=n(13),d=n(8),l=n(32),p=n(43),_=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),g={ADD_FEATURES:'addfeatures'},c=function(e){function t(t,n,o,a){var i=e.call(this,t)||this;return i.features=o,i.file=n,i.projection=a,i}return _(t,e),t}(s.a),u=function(e){function t(t){var n=this,o=t?t:{};return n=e.call(this,{handleEvent:i.b})||this,n.formatConstructors_=o.formatConstructors?o.formatConstructors:[],n.projection_=o.projection?Object(p.c)(o.projection):null,n.dropListenKeys_=null,n.source_=o.source||null,n.target=o.target?o.target:null,n}return _(t,e),t.prototype.handleResult_=function(e,t){var n=t.target.result,o=this.getMap(),a=this.projection_;if(!a){var r=o.getView();a=r.getProjection()}for(var s=this.formatConstructors_,d=[],l=0,i=s.length,p;l<i&&(p=new s[l],d=this.tryReadFeatures_(p,n,{featureProjection:a}),!(d&&0<d.length));++l);this.source_&&(this.source_.clear(),this.source_.addFeatures(d)),this.dispatchEvent(new c(g.ADD_FEATURES,e,d,a))},t.prototype.registerListeners_=function(){var e=this.getMap();if(e){var t=this.target?this.target:e.getViewport();this.dropListenKeys_=[Object(r.a)(t,d.a.DROP,o,this),Object(r.a)(t,d.a.DRAGENTER,a,this),Object(r.a)(t,d.a.DRAGOVER,a,this),Object(r.a)(t,d.a.DROP,a,this)]}},t.prototype.setActive=function(t){!this.getActive()&&t&&this.registerListeners_(),this.getActive()&&!t&&this.unregisterListeners_(),e.prototype.setActive.call(this,t)},t.prototype.setMap=function(t){this.unregisterListeners_(),e.prototype.setMap.call(this,t),this.getActive()&&this.registerListeners_()},t.prototype.tryReadFeatures_=function(e,t,n){try{return e.readFeatures(t,n)}catch(t){return null}},t.prototype.unregisterListeners_=function(){this.dropListenKeys_&&(this.dropListenKeys_.forEach(r.c),this.dropListenKeys_=null)},t}(l.a)},function(e,n,o){'use strict';var a=o(16),i=o(19),r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),s=function(e){function n(t){var n=this,o=t?t:{};return n=e.call(this,o)||this,n.condition_=o.condition?o.condition:a.l,n.lastAngle_=void 0,n.lastMagnitude_=void 0,n.lastScaleDelta_=0,n.duration_=void 0===o.duration?400:o.duration,n}return r(n,e),n.prototype.handleDragEvent=function(e){if(Object(a.g)(e)){var n=e.map,o=n.getSize(),i=e.pixel,r=i[0]-o[0]/2,s=o[1]/2-i[1],d=t(s,r),l=T(r*r+s*s),p=n.getView();if(void 0!==this.lastAngle_){var _=this.lastAngle_-d;p.adjustRotationInternal(_)}this.lastAngle_=d,void 0!==this.lastMagnitude_&&p.adjustResolutionInternal(this.lastMagnitude_/l),void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/l),this.lastMagnitude_=l}},n.prototype.handleUpEvent=function(e){if(!Object(a.g)(e))return!0;var t=e.map,n=t.getView(),o=1<this.lastScaleDelta_?1:-1;return n.endInteraction(this.duration_,o),this.lastScaleDelta_=0,!1},n.prototype.handleDownEvent=function(e){return!!Object(a.g)(e)&&!!this.condition_(e)&&(e.map.getView().beginInteraction(),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0)},n}(i.b)},function(e,t,n){'use strict';function o(){var e=Object(R.b)();return function(t){return e[t.getGeometry().getType()]}}function a(e){var t;return e===m.a.POINT||e===m.a.MULTI_POINT?t=b.POINT:e===m.a.LINE_STRING||e===m.a.MULTI_LINE_STRING?t=b.LINE_STRING:e===m.a.POLYGON||e===m.a.MULTI_POLYGON?t=b.POLYGON:e===m.a.CIRCLE&&(t=b.CIRCLE),t}var i=n(8),r=n(96),s=n(64),d=n(273),l=n(25),p=n(65),_=n(13),g=n(16),c=n(2),u=n(11),y=n(153),m=n(5),h=n(121),f=n(158),x=n(122),I=n(159),E=n(47),C=n(48),N=n(19),S=n(126),L=n(62),O=n(42),R=n(45),P=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),b={POINT:'Point',LINE_STRING:'LineString',POLYGON:'Polygon',CIRCLE:'Circle'},v={DRAWSTART:'drawstart',DRAWEND:'drawend'},M=function(e){function t(t,n){var o=e.call(this,t)||this;return o.feature=n,o}return P(t,e),t}(_.a),D=function(e){function t(t){var n=this,i=t;i.stopDown||(i.stopDown=u.a),n=e.call(this,i)||this,n.shouldHandle_=!1,n.downPx_=null,n.downTimeout_,n.lastDragTime_,n.freehand_=!1,n.source_=t.source?t.source:null,n.features_=t.features?t.features:null,n.snapTolerance_=t.snapTolerance?t.snapTolerance:12,n.type_=t.type,n.mode_=a(n.type_),n.stopClick_=!!t.stopClick,n.minPoints_=t.minPoints?t.minPoints:n.mode_===b.POLYGON?3:2,n.maxPoints_=t.maxPoints?t.maxPoints:Infinity,n.finishCondition_=t.finishCondition?t.finishCondition:u.b;var r=t.geometryFunction;if(!r)if(n.type_===m.a.CIRCLE)r=function(e,t){var n=t?t:new y.a([NaN,NaN]),o=Object(p.g)(e[0],e[1]);return n.setCenterAndRadius(e[0],T(o)),n};else{var s=n.mode_,d;s===b.POINT?d=E.a:s===b.LINE_STRING?d=h.a:s===b.POLYGON&&(d=C.a),r=function(e,t){var n=t;return n?s===b.POLYGON?e[0].length?n.setCoordinates([e[0].concat([e[0][0]])]):n.setCoordinates([]):n.setCoordinates(e):n=new d(e),n}}return n.geometryFunction_=r,n.dragVertexDelay_=void 0===t.dragVertexDelay?500:t.dragVertexDelay,n.finishCoordinate_=null,n.sketchFeature_=null,n.sketchPoint_=null,n.sketchCoords_=null,n.sketchLine_=null,n.sketchLineCoords_=null,n.squaredClickTolerance_=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,n.overlay_=new L.a({source:new O.a({useSpatialIndex:!1,wrapX:!!t.wrapX&&t.wrapX}),style:t.style?t.style:o(),updateWhileInteracting:!0}),n.geometryName_=t.geometryName,n.condition_=t.condition?t.condition:g.i,n.freehandCondition_,n.freehandCondition_=t.freehand?g.c:t.freehandCondition?t.freehandCondition:g.l,n.addEventListener(Object(l.b)(S.a.ACTIVE),n.updateState_),n}return P(t,e),t.prototype.setMap=function(t){e.prototype.setMap.call(this,t),this.updateState_()},t.prototype.getOverlay=function(){return this.overlay_},t.prototype.handleEvent=function(t){t.originalEvent.type===i.a.CONTEXTMENU&&t.preventDefault(),this.freehand_=this.mode_!==b.POINT&&this.freehandCondition_(t);var n=t.type===s.a.POINTERMOVE,o=!0;if(!this.freehand_&&this.lastDragTime_&&t.type===s.a.POINTERDRAG){var a=Date.now();a-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=t.pixel,this.shouldHandle_=!this.freehand_,n=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)}return this.freehand_&&t.type===s.a.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(t),o=!1):this.freehand_&&t.type===s.a.POINTERDOWN?o=!1:n?(o=t.type===s.a.POINTERMOVE,o&&this.freehand_?o=this.handlePointerMove_(t):('mouse'==t.pointerEvent.pointerType||t.type===s.a.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(t)):t.type===s.a.DBLCLICK&&(o=!1),e.prototype.handleEvent.call(this,t)&&o},t.prototype.handleDownEvent=function(e){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=e.pixel,this.finishCoordinate_||this.startDrawing_(e),!0):this.condition_(e)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new d.a(s.a.POINTERMOVE,e.map,e.pointerEvent,!1,e.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=e.pixel,!0):(this.lastDragTime_=void 0,!1)},t.prototype.handleUpEvent=function(e){var t=!0;this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(e);var n=this.mode_===b.CIRCLE;return this.shouldHandle_?(this.finishCoordinate_?this.freehand_||n?this.finishDrawing():this.atFinish_(e)?this.finishCondition_(e)&&this.finishDrawing():this.addToDrawing_(e):(this.startDrawing_(e),this.mode_===b.POINT&&this.finishDrawing()),t=!1):this.freehand_&&(this.finishCoordinate_=null,this.abortDrawing_()),!t&&this.stopClick_&&e.stopPropagation(),t},t.prototype.handlePointerMove_=function(e){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var t=this.downPx_,n=e.pixel,o=t[0]-n[0],a=t[1]-n[1],i=o*o+a*a;if(this.shouldHandle_=this.freehand_?i>this.squaredClickTolerance_:i<=this.squaredClickTolerance_,!this.shouldHandle_)return!0}return this.finishCoordinate_?this.modifyDrawing_(e):this.createOrUpdateSketchPoint_(e),!0},t.prototype.atFinish_=function(e){var t=!1;if(this.sketchFeature_){var n=!1,o=[this.finishCoordinate_];if(this.mode_===b.LINE_STRING)n=this.sketchCoords_.length>this.minPoints_;else if(this.mode_===b.POLYGON){var a=this.sketchCoords_;n=a[0].length>this.minPoints_,o=[a[0][0],a[0][a[0].length-2]]}if(n)for(var r=e.map,s=0,i=o.length;s<i;s++){var d=o[s],l=r.getPixelFromCoordinate(d),p=e.pixel,_=p[0]-l[0],g=p[1]-l[1],c=this.freehand_?1:this.snapTolerance_;if(t=T(_*_+g*g)<=c,t){this.finishCoordinate_=d;break}}}return t},t.prototype.createOrUpdateSketchPoint_=function(e){var t=e.coordinate.slice();if(!this.sketchPoint_)this.sketchPoint_=new r.a(new E.a(t)),this.updateSketchFeatures_();else{var n=this.sketchPoint_.getGeometry();n.setCoordinates(t)}},t.prototype.startDrawing_=function(e){var t=e.coordinate;this.finishCoordinate_=t,this.mode_===b.POINT?this.sketchCoords_=t.slice():this.mode_===b.POLYGON?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[t.slice(),t.slice()],this.sketchLineCoords_&&(this.sketchLine_=new r.a(new h.a(this.sketchLineCoords_)));var n=this.geometryFunction_(this.sketchCoords_);this.sketchFeature_=new r.a,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(n),this.updateSketchFeatures_(),this.dispatchEvent(new M(v.DRAWSTART,this.sketchFeature_))},t.prototype.modifyDrawing_=function(e){var t=e.coordinate,n=this.sketchFeature_.getGeometry(),o,a;if(this.mode_===b.POINT?a=this.sketchCoords_:this.mode_===b.POLYGON?(o=this.sketchCoords_[0],a=o[o.length-1],this.atFinish_(e)&&(t=this.finishCoordinate_.slice())):(o=this.sketchCoords_,a=o[o.length-1]),a[0]=t[0],a[1]=t[1],this.geometryFunction_(this.sketchCoords_,n),this.sketchPoint_){var i=this.sketchPoint_.getGeometry();i.setCoordinates(t)}var s;if(n.getType()==m.a.POLYGON&&this.mode_!==b.POLYGON){this.sketchLine_||(this.sketchLine_=new r.a);var d=n.getLinearRing(0);s=this.sketchLine_.getGeometry(),s?(s.setFlatCoordinates(d.getLayout(),d.getFlatCoordinates()),s.changed()):(s=new h.a(d.getFlatCoordinates(),d.getLayout()),this.sketchLine_.setGeometry(s))}else this.sketchLineCoords_&&(s=this.sketchLine_.getGeometry(),s.setCoordinates(this.sketchLineCoords_));this.updateSketchFeatures_()},t.prototype.addToDrawing_=function(e){var t=e.coordinate,n=this.sketchFeature_.getGeometry(),o,a;this.mode_===b.LINE_STRING?(this.finishCoordinate_=t.slice(),a=this.sketchCoords_,a.length>=this.maxPoints_&&(this.freehand_?a.pop():o=!0),a.push(t.slice()),this.geometryFunction_(a,n)):this.mode_===b.POLYGON&&(a=this.sketchCoords_[0],a.length>=this.maxPoints_&&(this.freehand_?a.pop():o=!0),a.push(t.slice()),o&&(this.finishCoordinate_=a[0]),this.geometryFunction_(this.sketchCoords_,n)),this.updateSketchFeatures_(),o&&this.finishDrawing()},t.prototype.removeLastPoint=function(){if(this.sketchFeature_){var e=this.sketchFeature_.getGeometry(),t,n;this.mode_===b.LINE_STRING?(t=this.sketchCoords_,t.splice(-2,1),this.geometryFunction_(t,e),2<=t.length&&(this.finishCoordinate_=t[t.length-2].slice())):this.mode_===b.POLYGON&&(t=this.sketchCoords_[0],t.splice(-2,1),n=this.sketchLine_.getGeometry(),n.setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e)),0===t.length&&(this.finishCoordinate_=null),this.updateSketchFeatures_()}},t.prototype.finishDrawing=function(){var e=this.abortDrawing_();if(e){var t=this.sketchCoords_,n=e.getGeometry();this.mode_===b.LINE_STRING?(t.pop(),this.geometryFunction_(t,n)):this.mode_===b.POLYGON&&(t[0].pop(),this.geometryFunction_(t,n),t=n.getCoordinates()),this.type_===m.a.MULTI_POINT?e.setGeometry(new x.a([t])):this.type_===m.a.MULTI_LINE_STRING?e.setGeometry(new f.a([t])):this.type_===m.a.MULTI_POLYGON&&e.setGeometry(new I.a([t])),this.dispatchEvent(new M(v.DRAWEND,e)),this.features_&&this.features_.push(e),this.source_&&this.source_.addFeature(e)}},t.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var e=this.sketchFeature_;return e&&(this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0)),e},t.prototype.extend=function(e){var t=e.getGeometry();this.sketchFeature_=e,this.sketchCoords_=t.getCoordinates();var n=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=n.slice(),this.sketchCoords_.push(n.slice()),this.updateSketchFeatures_(),this.dispatchEvent(new M(v.DRAWSTART,this.sketchFeature_))},t.prototype.updateSketchFeatures_=function(){var e=[];this.sketchFeature_&&e.push(this.sketchFeature_),this.sketchLine_&&e.push(this.sketchLine_),this.sketchPoint_&&e.push(this.sketchPoint_);var t=this.overlay_.getSource();t.clear(!0),t.addFeatures(e)},t.prototype.updateState_=function(){var e=this.getMap(),t=this.getActive();e&&t||this.abortDrawing_(),this.overlay_.setMap(t?e:null)},t}(N.b);t.a=D},function(e,t,n){'use strict';var o=n(274),a=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=function(e){function t(t,n,o,a,i){var r=e.call(this,t,n,o,a,i)||this;return r.pointerEvent=o,r}return a(t,e),t}(o.a);t.a=i},function(e,t,n){'use strict';var o=n(275),a=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=function(e){function t(t,n,o,a,i){var r=e.call(this,t,n,i)||this;return r.originalEvent=o,r.pixel_=null,r.coordinate_=null,r.dragging=void 0!==a&&a,r}return a(t,e),Object.defineProperty(t.prototype,'pixel',{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(e){this.pixel_=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,'coordinate',{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(e){this.coordinate_=e},enumerable:!0,configurable:!0}),t.prototype.preventDefault=function(){e.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){e.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},t}(o.a);t.a=i},function(e,t,n){'use strict';var o=n(13),a=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=function(e){function t(t,n,o){var a=e.call(this,t)||this;return a.map=n,a.frameState=void 0===o?null:o,a}return a(t,e),t}(o.a);t.a=i},function(e,t,n){'use strict';function o(){var e=Object(x.b)();return function(){return e[c.a.POLYGON]}}function a(){var e=Object(x.b)();return function(){return e[c.a.POINT]}}function i(e){return function(t){return Object(g.b)([e,t])}}function r(e,t){return e[0]==t[0]?function(n){return Object(g.b)([e,[n[0],t[1]]])}:e[1]==t[1]?function(n){return Object(g.b)([e,[t[0],n[1]]])}:null}function s(e){return[[[e[0],e[1]],[e[0],e[3]]],[[e[0],e[3]],[e[2],e[3]]],[[e[2],e[3]],[e[2],e[1]]],[[e[2],e[1]],[e[0],e[1]]]]}var d=n(96),l=n(64),p=n(65),_=n(13),g=n(2),c=n(5),u=n(47),y=n(48),m=n(19),h=n(62),f=n(42),x=n(45),I=n(43),E=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),N={EXTENTCHANGED:'extentchanged'},S=function(e){function t(t){var n=e.call(this,N.EXTENTCHANGED)||this;return n.extent=t,n}return E(t,e),t}(_.a),L=function(e){function t(t){var n=this,i=t||{};return n=e.call(this,i)||this,n.extent_=null,n.pointerHandler_=null,n.pixelTolerance_=void 0===i.pixelTolerance?10:i.pixelTolerance,n.snappedToVertex_=!1,n.extentFeature_=null,n.vertexFeature_=null,t||(t={}),n.extentOverlay_=new h.a({source:new f.a({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.boxStyle?t.boxStyle:o(),updateWhileAnimating:!0,updateWhileInteracting:!0}),n.vertexOverlay_=new h.a({source:new f.a({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.pointerStyle?t.pointerStyle:a(),updateWhileAnimating:!0,updateWhileInteracting:!0}),t.extent&&n.setExtent(t.extent),n}return E(t,e),t.prototype.snapToVertex_=function(e,t){var n=t.getCoordinateFromPixelInternal(e),o=function(e,t){return Object(p.h)(n,e)-Object(p.h)(n,t)},a=this.getExtentInternal();if(a){var i=s(a);i.sort(o);var r=i[0],d=Object(p.b)(n,r),l=t.getPixelFromCoordinateInternal(d);if(Object(p.c)(e,l)<=this.pixelTolerance_){var _=t.getPixelFromCoordinateInternal(r[0]),g=t.getPixelFromCoordinateInternal(r[1]),c=Object(p.g)(l,_),u=Object(p.g)(l,g),y=T(C(c,u));return this.snappedToVertex_=y<=this.pixelTolerance_,this.snappedToVertex_&&(d=c>u?r[1]:r[0]),d}}return null},t.prototype.handlePointerMove_=function(e){var t=e.pixel,n=e.map,o=this.snapToVertex_(t,n);o||(o=n.getCoordinateFromPixelInternal(t)),this.createOrUpdatePointerFeature_(o)},t.prototype.createOrUpdateExtentFeature_=function(e){var t=this.extentFeature_;return t?e?t.setGeometry(Object(y.c)(e)):t.setGeometry(void 0):(t=e?new d.a(Object(y.c)(e)):new d.a({}),this.extentFeature_=t,this.extentOverlay_.getSource().addFeature(t)),t},t.prototype.createOrUpdatePointerFeature_=function(e){var t=this.vertexFeature_;if(!t)t=new d.a(new u.a(e)),this.vertexFeature_=t,this.vertexOverlay_.getSource().addFeature(t);else{var n=t.getGeometry();n.setCoordinates(e)}return t},t.prototype.handleEvent=function(t){return!t.pointerEvent||(t.type!=l.a.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(t),e.prototype.handleEvent.call(this,t),!1)},t.prototype.handleDownEvent=function(e){var t=e.pixel,n=e.map,o=this.getExtentInternal(),a=this.snapToVertex_(t,n),s=function(e){var t=null,n=null;return e[0]==o[0]?t=o[2]:e[0]==o[2]&&(t=o[0]),e[1]==o[1]?n=o[3]:e[1]==o[3]&&(n=o[1]),null!==t&&null!==n?[t,n]:null};if(a&&o){var d=a[0]==o[0]||a[0]==o[2]?a[0]:null,l=a[1]==o[1]||a[1]==o[3]?a[1]:null;null!==d&&null!==l?this.pointerHandler_=i(s(a)):null===d?null!==l&&(this.pointerHandler_=r(s([o[0],l]),s([o[2],l]))):this.pointerHandler_=r(s([d,o[1]]),s([d,o[3]]))}else a=n.getCoordinateFromPixelInternal(t),this.setExtent([a[0],a[1],a[0],a[1]]),this.pointerHandler_=i(a);return!0},t.prototype.handleDragEvent=function(e){if(this.pointerHandler_){var t=e.coordinate;this.setExtent(this.pointerHandler_(t)),this.createOrUpdatePointerFeature_(t)}return!0},t.prototype.handleUpEvent=function(){this.pointerHandler_=null;var e=this.getExtentInternal();return e&&0!==Object(g.t)(e)||this.setExtent(null),!1},t.prototype.setMap=function(t){this.extentOverlay_.setMap(t),this.vertexOverlay_.setMap(t),e.prototype.setMap.call(this,t)},t.prototype.getExtent=function(){return Object(I.h)(this.getExtentInternal(),this.getMap().getView().getProjection())},t.prototype.getExtentInternal=function(){return this.extent_},t.prototype.setExtent=function(e){this.extent_=e?e:null,this.createOrUpdateExtentFeature_(e),this.dispatchEvent(new S(this.extent_))},t}(m.b)},function(e,t,n){'use strict';function o(e,t){return e.index-t.index}function i(e,t,n){var o=t.geometry;if(o.getType()===f.a.CIRCLE){var a=o;if(t.index===v){var i=Object(c.g)(a.getCenter(),e),r=T(i)-a.getRadius();return r*r}}var s=Object(R.a)(e,n);return D[0]=Object(R.a)(t.segment[0],n),D[1]=Object(R.a)(t.segment[1],n),Object(c.h)(s,D)}function a(e,t,n){var o=t.geometry;if(o.getType()===f.a.CIRCLE&&t.index===v)return o.getClosestPoint(e);var a=Object(R.a)(e,n);return D[0]=Object(R.a)(t.segment[0],n),D[1]=Object(R.a)(t.segment[1],n),Object(R.g)(Object(c.b)(a,D),n)}function r(){var e=Object(O.b)();return function(){return e[f.a.POINT]}}var s=n(7),d=n(54),l=n(55),p=n(96),_=n(64),g=n(10),c=n(65),u=n(13),y=n(8),m=n(16),h=n(2),f=n(5),x=n(47),I=n(19),E=n(62),N=n(42),S=n(115),L=n(116),O=n(45),R=n(43),P=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),b=0,v=1,M=[0,0,0,0],D=[],A={MODIFYSTART:'modifystart',MODIFYEND:'modifyend'},F=function(e){function t(t,n,o){var a=e.call(this,t)||this;return a.features=n,a.mapBrowserEvent=o,a}return P(t,e),t}(u.a),w=function(e){function t(t){var n=e.call(this,t)||this;n.boundHandleFeatureChange_=n.handleFeatureChange_.bind(n),n.condition_=t.condition?t.condition:m.k,n.defaultDeleteCondition_=function(e){return Object(m.a)(e)&&Object(m.m)(e)},n.deleteCondition_=t.deleteCondition?t.deleteCondition:n.defaultDeleteCondition_,n.insertVertexCondition_=t.insertVertexCondition?t.insertVertexCondition:m.c,n.vertexFeature_=null,n.vertexSegments_=null,n.lastPixel_=[0,0],n.ignoreNextSingleClick_=!1,n.modified_=!1,n.rBush_=new L.a,n.pixelTolerance_=void 0===t.pixelTolerance?10:t.pixelTolerance,n.snappedToVertex_=!1,n.changingFeature_=!1,n.dragSegments_=[],n.overlay_=new E.a({source:new N.a({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:r(),updateWhileAnimating:!0,updateWhileInteracting:!0}),n.SEGMENT_WRITERS_={Point:n.writePointGeometry_.bind(n),LineString:n.writeLineStringGeometry_.bind(n),LinearRing:n.writeLineStringGeometry_.bind(n),Polygon:n.writePolygonGeometry_.bind(n),MultiPoint:n.writeMultiPointGeometry_.bind(n),MultiLineString:n.writeMultiLineStringGeometry_.bind(n),MultiPolygon:n.writeMultiPolygonGeometry_.bind(n),Circle:n.writeCircleGeometry_.bind(n),GeometryCollection:n.writeGeometryCollectionGeometry_.bind(n)},n.source_=null;var o;if(t.source?(n.source_=t.source,o=new d.a(n.source_.getFeatures()),n.source_.addEventListener(S.a.ADDFEATURE,n.handleSourceAdd_.bind(n)),n.source_.addEventListener(S.a.REMOVEFEATURE,n.handleSourceRemove_.bind(n))):o=t.features,!o)throw new Error('The modify interaction requires features or a source');return n.features_=o,n.features_.forEach(n.addFeature_.bind(n)),n.features_.addEventListener(l.a.ADD,n.handleFeatureAdd_.bind(n)),n.features_.addEventListener(l.a.REMOVE,n.handleFeatureRemove_.bind(n)),n.lastPointerEvent_=null,n}return P(t,e),t.prototype.addFeature_=function(e){var t=e.getGeometry();if(t){var n=this.SEGMENT_WRITERS_[t.getType()];n&&n(e,t)}var o=this.getMap();o&&o.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,o),e.addEventListener(y.a.CHANGE,this.boundHandleFeatureChange_)},t.prototype.willModifyFeatures_=function(e){this.modified_||(this.modified_=!0,this.dispatchEvent(new F(A.MODIFYSTART,this.features_,e)))},t.prototype.removeFeature_=function(e){this.removeFeatureSegmentData_(e),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.removeEventListener(y.a.CHANGE,this.boundHandleFeatureChange_)},t.prototype.removeFeatureSegmentData_=function(e){var t=this.rBush_,n=[];t.forEach(function(t){e===t.feature&&n.push(t)});for(var o=n.length-1,a;0<=o;--o){a=n[o];for(var i=this.dragSegments_.length-1;0<=i;--i)this.dragSegments_[i][0]===a&&this.dragSegments_.splice(i,1);t.remove(a)}},t.prototype.setActive=function(t){this.vertexFeature_&&!t&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.prototype.setActive.call(this,t)},t.prototype.setMap=function(t){this.overlay_.setMap(t),e.prototype.setMap.call(this,t)},t.prototype.getOverlay=function(){return this.overlay_},t.prototype.handleSourceAdd_=function(e){e.feature&&this.features_.push(e.feature)},t.prototype.handleSourceRemove_=function(e){e.feature&&this.features_.remove(e.feature)},t.prototype.handleFeatureAdd_=function(e){this.addFeature_(e.element)},t.prototype.handleFeatureChange_=function(e){if(!this.changingFeature_){var t=e.target;this.removeFeature_(t),this.addFeature_(t)}},t.prototype.handleFeatureRemove_=function(e){var t=e.element;this.removeFeature_(t)},t.prototype.writePointGeometry_=function(e,t){var n=t.getCoordinates();this.rBush_.insert(t.getExtent(),{feature:e,geometry:t,segment:[n,n]})},t.prototype.writeMultiPointGeometry_=function(e,t){for(var n=t.getCoordinates(),o=0,a=n.length;o<a;++o){var r=n[o],s={feature:e,geometry:t,depth:[o],index:o,segment:[r,r]};this.rBush_.insert(t.getExtent(),s)}},t.prototype.writeLineStringGeometry_=function(e,t){for(var n=t.getCoordinates(),o=0,a=n.length-1;o<a;++o){var r=n.slice(o,o+2),s={feature:e,geometry:t,index:o,segment:r};this.rBush_.insert(Object(h.b)(r),s)}},t.prototype.writeMultiLineStringGeometry_=function(e,t){for(var n=t.getCoordinates(),o=0,a=n.length,r;o<a;++o){r=n[o];for(var s=0,d=r.length-1;s<d;++s){var l=r.slice(s,s+2),p={feature:e,geometry:t,depth:[o],index:s,segment:l};this.rBush_.insert(Object(h.b)(l),p)}}},t.prototype.writePolygonGeometry_=function(e,t){for(var n=t.getCoordinates(),o=0,a=n.length,r;o<a;++o){r=n[o];for(var s=0,d=r.length-1;s<d;++s){var l=r.slice(s,s+2),p={feature:e,geometry:t,depth:[o],index:s,segment:l};this.rBush_.insert(Object(h.b)(l),p)}}},t.prototype.writeMultiPolygonGeometry_=function(e,t){for(var n=t.getCoordinates(),o=0,a=n.length,r;o<a;++o){r=n[o];for(var s=0,d=r.length,l;s<d;++s){l=r[s];for(var p=0,_=l.length-1;p<_;++p){var g=l.slice(p,p+2),c={feature:e,geometry:t,depth:[s,o],index:p,segment:g};this.rBush_.insert(Object(h.b)(g),c)}}}},t.prototype.writeCircleGeometry_=function(e,t){var n=t.getCenter(),o={feature:e,geometry:t,index:b,segment:[n,n]},a={feature:e,geometry:t,index:v,segment:[n,n]},i=[o,a];o.featureSegments=i,a.featureSegments=i,this.rBush_.insert(Object(h.l)(n),o),this.rBush_.insert(t.getExtent(),a)},t.prototype.writeGeometryCollectionGeometry_=function(e,t){for(var n=t.getGeometriesArray(),o=0;o<n.length;++o){var a=n[o],i=this.SEGMENT_WRITERS_[a.getType()];i(e,a)}},t.prototype.createOrUpdateVertexFeature_=function(e){var t=this.vertexFeature_;if(!t)t=new p.a(new x.a(e)),this.vertexFeature_=t,this.overlay_.getSource().addFeature(t);else{var n=t.getGeometry();n.setCoordinates(e)}return t},t.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;this.lastPointerEvent_=t;var n;return t.map.getView().getInteracting()||t.type!=_.a.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(t),this.vertexFeature_&&this.deleteCondition_(t)&&(t.type==_.a.SINGLECLICK&&this.ignoreNextSingleClick_?n=!0:n=this.removePoint()),t.type==_.a.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),e.prototype.handleEvent.call(this,t)&&!n},t.prototype.handleDragEvent=function(e){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(e);for(var t=e.coordinate,n=0,o=this.dragSegments_.length;n<o;++n){for(var a=this.dragSegments_[n],i=a[0],r=i.depth,s=i.geometry,d=void 0,l=i.segment,p=a[1];t.length<s.getStride();)t.push(l[p][t.length]);switch(s.getType()){case f.a.POINT:d=t,l[0]=t,l[1]=t;break;case f.a.MULTI_POINT:d=s.getCoordinates(),d[i.index]=t,l[0]=t,l[1]=t;break;case f.a.LINE_STRING:d=s.getCoordinates(),d[i.index+p]=t,l[p]=t;break;case f.a.MULTI_LINE_STRING:d=s.getCoordinates(),d[r[0]][i.index+p]=t,l[p]=t;break;case f.a.POLYGON:d=s.getCoordinates(),d[r[0]][i.index+p]=t,l[p]=t;break;case f.a.MULTI_POLYGON:d=s.getCoordinates(),d[r[1]][r[0]][i.index+p]=t,l[p]=t;break;case f.a.CIRCLE:l[0]=t,l[1]=t,i.index===b?(this.changingFeature_=!0,s.setCenter(t),this.changingFeature_=!1):(this.changingFeature_=!0,s.setRadius(Object(c.c)(s.getCenter(),t)),this.changingFeature_=!1);break;default:}d&&this.setGeometryCoordinates_(s,d)}this.createOrUpdateVertexFeature_(t)},t.prototype.handleDownEvent=function(e){if(!this.condition_(e))return!1;this.handlePointerAtPixel_(e.pixel,e.map);var t=e.coordinate;this.dragSegments_.length=0,this.modified_=!1;var n=this.vertexFeature_;if(n){var r=e.map.getView().getProjection(),d=[],l=n.getGeometry().getCoordinates(),p=Object(h.b)([l]),_=this.rBush_.getInExtent(p),g={};_.sort(o);for(var u=0,i=_.length;u<i;++u){var y=_[u],m=y.segment,x=Object(s.c)(y.feature),I=y.depth;if(I&&(x+='-'+I.join('-')),g[x]||(g[x]=[,,]),y.geometry.getType()===f.a.CIRCLE&&y.index===v){var E=a(t,y,r);Object(c.d)(E,l)&&!g[x][0]&&(this.dragSegments_.push([y,0]),g[x][0]=y);continue}if(Object(c.d)(m[0],l)&&!g[x][0]){this.dragSegments_.push([y,0]),g[x][0]=y;continue}if(Object(c.d)(m[1],l)&&!g[x][1]){if((y.geometry.getType()===f.a.LINE_STRING||y.geometry.getType()===f.a.MULTI_LINE_STRING)&&g[x][0]&&0===g[x][0].index)continue;this.dragSegments_.push([y,1]),g[x][1]=y;continue}Object(s.c)(m)in this.vertexSegments_&&!g[x][0]&&!g[x][1]&&this.insertVertexCondition_(e)&&d.push([y,l])}d.length&&this.willModifyFeatures_(e);for(var C=d.length-1;0<=C;--C)this.insertVertex_.apply(this,d[C])}return!!this.vertexFeature_},t.prototype.handleUpEvent=function(e){for(var t=this.dragSegments_.length-1;0<=t;--t){var n=this.dragSegments_[t][0],o=n.geometry;if(o.getType()===f.a.CIRCLE){var a=o.getCenter(),i=n.featureSegments[0],r=n.featureSegments[1];i.segment[0]=a,i.segment[1]=a,r.segment[0]=a,r.segment[1]=a,this.rBush_.update(Object(h.l)(a),i),this.rBush_.update(o.getExtent(),r)}else this.rBush_.update(Object(h.b)(n.segment),n)}return this.modified_&&(this.dispatchEvent(new F(A.MODIFYEND,this.features_,e)),this.modified_=!1),!1},t.prototype.handlePointerMove_=function(e){this.lastPixel_=e.pixel,this.handlePointerAtPixel_(e.pixel,e.map)},t.prototype.handlePointerAtPixel_=function(e,t){var n=t.getCoordinateFromPixel(e),o=t.getView().getProjection(),r=function(e,t){return i(n,e,o)-i(n,t,o)},d=Object(R.b)(Object(h.l)(n,M),o),l=t.getView().getResolution()*this.pixelTolerance_,p=Object(R.h)(Object(h.c)(d,l,M),o),_=this.rBush_,g=_.getInExtent(p);if(0<g.length){g.sort(r);var u=g[0],y=u.segment,m=a(n,u,o),x=t.getPixelFromCoordinate(m),I=Object(c.c)(e,x);if(I<=this.pixelTolerance_){var E={};if(u.geometry.getType()===f.a.CIRCLE&&u.index===v)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(m);else{var N=t.getPixelFromCoordinate(y[0]),S=t.getPixelFromCoordinate(y[1]),L=Object(c.g)(x,N),O=Object(c.g)(x,S);I=T(C(L,O)),this.snappedToVertex_=I<=this.pixelTolerance_,this.snappedToVertex_&&(m=L>O?y[1]:y[0]),this.createOrUpdateVertexFeature_(m);for(var P=1,b=g.length,D;P<b&&(D=g[P].segment,Object(c.d)(y[0],D[0])&&Object(c.d)(y[1],D[1])||Object(c.d)(y[0],D[1])&&Object(c.d)(y[1],D[0]));++P)E[Object(s.c)(D)]=!0}return E[Object(s.c)(y)]=!0,void(this.vertexSegments_=E)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},t.prototype.insertVertex_=function(e,t){for(var n=e.segment,o=e.feature,a=e.geometry,i=e.depth,r=e.index,s;t.length<a.getStride();)t.push(0);switch(a.getType()){case f.a.MULTI_LINE_STRING:s=a.getCoordinates(),s[i[0]].splice(r+1,0,t);break;case f.a.POLYGON:s=a.getCoordinates(),s[i[0]].splice(r+1,0,t);break;case f.a.MULTI_POLYGON:s=a.getCoordinates(),s[i[1]][i[0]].splice(r+1,0,t);break;case f.a.LINE_STRING:s=a.getCoordinates(),s.splice(r+1,0,t);break;default:return;}this.setGeometryCoordinates_(a,s);var d=this.rBush_;d.remove(e),this.updateSegmentIndices_(a,r,i,1);var l={segment:[n[0],t],feature:o,geometry:a,depth:i,index:r};d.insert(Object(h.b)(l.segment),l),this.dragSegments_.push([l,1]);var p={segment:[t,n[1]],feature:o,geometry:a,depth:i,index:r+1};d.insert(Object(h.b)(p.segment),p),this.dragSegments_.push([p,0]),this.ignoreNextSingleClick_=!0},t.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=_.a.POINTERDRAG){var e=this.lastPointerEvent_;this.willModifyFeatures_(e);var t=this.removeVertex_();return this.dispatchEvent(new F(A.MODIFYEND,this.features_,e)),this.modified_=!1,t}return!1},t.prototype.removeVertex_=function(){var e=this.dragSegments_,t={},n=!1,o,a,r,d,l,i,p,_,g,c,u;for(l=e.length-1;0<=l;--l)r=e[l],c=r[0],u=Object(s.c)(c.feature),c.depth&&(u+='-'+c.depth.join('-')),u in t||(t[u]={}),0===r[1]?(t[u].right=c,t[u].index=c.index):1==r[1]&&(t[u].left=c,t[u].index=c.index+1);for(u in t){switch(g=t[u].right,p=t[u].left,i=t[u].index,_=i-1,c=void 0===p?g:p,0>_&&(_=0),d=c.geometry,a=d.getCoordinates(),o=a,n=!1,d.getType()){case f.a.MULTI_LINE_STRING:2<a[c.depth[0]].length&&(a[c.depth[0]].splice(i,1),n=!0);break;case f.a.LINE_STRING:2<a.length&&(a.splice(i,1),n=!0);break;case f.a.MULTI_POLYGON:o=o[c.depth[1]];case f.a.POLYGON:o=o[c.depth[0]],4<o.length&&(i==o.length-1&&(i=0),o.splice(i,1),n=!0,0===i&&(o.pop(),o.push(o[0]),_=o.length-1));break;default:}if(n){this.setGeometryCoordinates_(d,a);var y=[];if(void 0!==p&&(this.rBush_.remove(p),y.push(p.segment[0])),void 0!==g&&(this.rBush_.remove(g),y.push(g.segment[1])),void 0!==p&&void 0!==g){var m={depth:c.depth,feature:c.feature,geometry:c.geometry,index:_,segment:y};this.rBush_.insert(Object(h.b)(m.segment),m)}this.updateSegmentIndices_(d,i,c.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.length=0}}return n},t.prototype.setGeometryCoordinates_=function(e,t){this.changingFeature_=!0,e.setCoordinates(t),this.changingFeature_=!1},t.prototype.updateSegmentIndices_=function(e,t,n,o){this.rBush_.forEachInExtent(e.getExtent(),function(a){a.geometry===e&&(void 0===n||void 0===a.depth||Object(g.b)(a.depth,n))&&a.index>t&&(a.index+=o)})},t}(I.b);t.a=w},function(e,t,n){'use strict';function o(e){if(!this.condition_(e))return!0;var t=this.addCondition_(e),n=this.removeCondition_(e),o=this.toggleCondition_(e),a=e.map,r=this.getFeatures(),d=[],l=[];if(!t&&!n&&!o){Object(c.b)(this.featureLayerAssociation_),a.forEachFeatureAtPixel(e.pixel,function(e,t){if(this.filter_(e,t))return l.push(e),this.addFeatureLayerAssociation_(e,t),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var p=r.getLength()-1;0<=p;--p){var i=r.item(p),_=l.indexOf(i);-1<_?l.splice(_,1):(r.remove(i),d.push(i))}0!==l.length&&r.extend(l)}else{a.forEachFeatureAtPixel(e.pixel,function(e,a){if(this.filter_(e,a))return(t||o)&&!Object(s.d)(r.getArray(),e)?(l.push(e),this.addFeatureLayerAssociation_(e,a)):(n||o)&&Object(s.d)(r.getArray(),e)&&(d.push(e),this.removeFeatureLayerAssociation_(e)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var g=d.length-1;0<=g;--g)r.remove(d[g]);r.extend(l)}return(0<l.length||0<d.length)&&this.dispatchEvent(new f(h.SELECT,l,d,e)),!0}function a(){var e=Object(u.b)();return Object(s.c)(e[_.a.POLYGON],e[_.a.LINE_STRING]),Object(s.c)(e[_.a.GEOMETRY_COLLECTION],e[_.a.LINE_STRING]),function(t){return t.getGeometry()?e[t.getGeometry().getType()]:null}}var i=n(7),r=n(55),s=n(10),d=n(13),l=n(16),p=n(11),_=n(5),g=n(32),c=n(14),u=n(45),y=n(54),m=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),h={SELECT:'select'},f=function(e){function t(t,n,o,a){var i=e.call(this,t)||this;return i.selected=n,i.deselected=o,i.mapBrowserEvent=a,i}return m(t,e),t}(d.a),x=function(e){function t(t){var n=e.call(this,{handleEvent:o})||this,i=t?t:{};n.condition_=i.condition?i.condition:l.m,n.addCondition_=i.addCondition?i.addCondition:l.h,n.removeCondition_=i.removeCondition?i.removeCondition:l.h,n.toggleCondition_=i.toggleCondition?i.toggleCondition:l.l,n.multi_=!!i.multi&&i.multi,n.filter_=i.filter?i.filter:p.b,n.hitTolerance_=i.hitTolerance?i.hitTolerance:0,n.style_=void 0===i.style?a():i.style,n.featureStyleAssociation_={},n.features_=i.features||new y.a;var d;if(!i.layers)d=p.b;else if('function'==typeof i.layers)d=i.layers;else{var _=i.layers;d=function(e){return Object(s.d)(_,e)}}n.layerFilter_=d,n.featureLayerAssociation_={};var g=n.getFeatures();return g.addEventListener(r.a.ADD,n.addFeature_.bind(n)),g.addEventListener(r.a.REMOVE,n.removeFeature_.bind(n)),n}return m(t,e),t.prototype.addFeatureLayerAssociation_=function(e,t){this.featureLayerAssociation_[Object(i.c)(e)]=t},t.prototype.getFeatures=function(){return this.features_},t.prototype.getHitTolerance=function(){return this.hitTolerance_},t.prototype.getLayer=function(e){return this.featureLayerAssociation_[Object(i.c)(e)]},t.prototype.setHitTolerance=function(e){this.hitTolerance_=e},t.prototype.setMap=function(t){var n=this.getMap();n&&this.style_&&this.features_.forEach(this.removeSelectedStyle_.bind(this)),e.prototype.setMap.call(this,t),t&&this.style_&&this.features_.forEach(this.giveSelectedStyle_.bind(this))},t.prototype.addFeature_=function(e){var t=e.element;this.style_&&this.giveSelectedStyle_(t)},t.prototype.removeFeature_=function(e){var t=e.element;this.style_&&this.removeSelectedStyle_(t)},t.prototype.giveSelectedStyle_=function(e){var t=Object(i.c)(e);this.featureStyleAssociation_[t]=e.getStyle(),e.setStyle(this.style_)},t.prototype.removeSelectedStyle_=function(e){var t=Object(i.c)(e);e.setStyle(this.featureStyleAssociation_[t]),delete this.featureStyleAssociation_[t]},t.prototype.removeFeatureLayerAssociation_=function(e){delete this.featureLayerAssociation_[Object(i.c)(e)]},t}(g.a)},function(e,t,o){'use strict';function a(e){if(e.feature)return e.feature;return e.element?e.element:void 0}var r=o(7),i=o(55),s=o(65),d=o(30),l=o(8),p=o(2),_=o(11),g=o(5),c=o(48),u=o(19),y=o(14),m=o(115),h=o(116),f=o(43),x=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),I=[],E=function(e){function t(t){var n=this,o=t?t:{},a=o;return a.handleDownEvent||(a.handleDownEvent=_.b),a.stopDown||(a.stopDown=_.a),n=e.call(this,a)||this,n.source_=o.source?o.source:null,n.vertex_=void 0===o.vertex||o.vertex,n.edge_=void 0===o.edge||o.edge,n.features_=o.features?o.features:null,n.featuresListenerKeys_=[],n.featureChangeListenerKeys_={},n.indexedFeaturesExtents_={},n.pendingFeatures_={},n.pixelTolerance_=void 0===o.pixelTolerance?10:o.pixelTolerance,n.rBush_=new h.a,n.SEGMENT_WRITERS_={Point:n.writePointGeometry_.bind(n),LineString:n.writeLineStringGeometry_.bind(n),LinearRing:n.writeLineStringGeometry_.bind(n),Polygon:n.writePolygonGeometry_.bind(n),MultiPoint:n.writeMultiPointGeometry_.bind(n),MultiLineString:n.writeMultiLineStringGeometry_.bind(n),MultiPolygon:n.writeMultiPolygonGeometry_.bind(n),GeometryCollection:n.writeGeometryCollectionGeometry_.bind(n),Circle:n.writeCircleGeometry_.bind(n)},n}return x(t,e),t.prototype.addFeature=function(e,t){var n=Object(r.c)(e),o=e.getGeometry();if(o){var a=this.SEGMENT_WRITERS_[o.getType()];a&&(this.indexedFeaturesExtents_[n]=o.getExtent(Object(p.i)()),a(e,o))}(void 0===t||t)&&(this.featureChangeListenerKeys_[n]=Object(d.a)(e,l.a.CHANGE,this.handleFeatureChange_,this))},t.prototype.forEachFeatureAdd_=function(e){this.addFeature(e)},t.prototype.forEachFeatureRemove_=function(e){this.removeFeature(e)},t.prototype.getFeatures_=function(){var e;return this.features_?e=this.features_:this.source_&&(e=this.source_.getFeatures()),e},t.prototype.handleEvent=function(t){var n=this.snapTo(t.pixel,t.coordinate,t.map);return n.snapped&&(t.coordinate=n.vertex.slice(0,2),t.pixel=n.vertexPixel),e.prototype.handleEvent.call(this,t)},t.prototype.handleFeatureAdd_=function(e){var t=a(e);this.addFeature(t)},t.prototype.handleFeatureRemove_=function(e){var t=a(e);this.removeFeature(t)},t.prototype.handleFeatureChange_=function(e){var t=e.target;if(this.handlingDownUpSequence){var n=Object(r.c)(t);n in this.pendingFeatures_||(this.pendingFeatures_[n]=t)}else this.updateFeature_(t)},t.prototype.handleUpEvent=function(){var e=Object(y.c)(this.pendingFeatures_);return e.length&&(e.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1},t.prototype.removeFeature=function(e,t){var n=Object(r.c)(e),o=this.indexedFeaturesExtents_[n];if(o){var a=this.rBush_,s=[];a.forEachInExtent(o,function(t){e===t.feature&&s.push(t)});for(var l=s.length-1;0<=l;--l)a.remove(s[l])}(void 0===t||t)&&(Object(d.c)(this.featureChangeListenerKeys_[n]),delete this.featureChangeListenerKeys_[n])},t.prototype.setMap=function(t){var n=this.getMap(),o=this.featuresListenerKeys_,a=this.getFeatures_();n&&(o.forEach(d.c),o.length=0,a.forEach(this.forEachFeatureRemove_.bind(this))),e.prototype.setMap.call(this,t),t&&(this.features_?o.push(Object(d.a)(this.features_,i.a.ADD,this.handleFeatureAdd_,this),Object(d.a)(this.features_,i.a.REMOVE,this.handleFeatureRemove_,this)):this.source_&&o.push(Object(d.a)(this.source_,m.a.ADDFEATURE,this.handleFeatureAdd_,this),Object(d.a)(this.source_,m.a.REMOVEFEATURE,this.handleFeatureRemove_,this)),a.forEach(this.forEachFeatureAdd_.bind(this)))},t.prototype.snapTo=function(e,t,o){var a=o.getCoordinateFromPixel([e[0]-this.pixelTolerance_,e[1]+this.pixelTolerance_]),r=o.getCoordinateFromPixel([e[0]+this.pixelTolerance_,e[1]-this.pixelTolerance_]),d=Object(p.b)([a,r]),l=this.rBush_.getInExtent(d);this.vertex_&&!this.edge_&&(l=l.filter(function(e){return e.feature.getGeometry().getType()!==g.a.CIRCLE}));var _=!1,c=null,u=null;if(0===l.length)return{snapped:_,vertex:c,vertexPixel:u};for(var y=o.getView().getProjection(),m=Object(f.a)(t,y),h=Infinity,x=0,i,E;x<l.length;++x){E=l[x],I[0]=Object(f.a)(E.segment[0],y),I[1]=Object(f.a)(E.segment[1],y);var N=Object(s.h)(m,I);N<h&&(i=E,h=N)}var S=i.segment;if(this.vertex_&&!this.edge_){var L=o.getPixelFromCoordinate(S[0]),O=o.getPixelFromCoordinate(S[1]),R=Object(s.g)(e,L),P=Object(s.g)(e,O),b=T(C(R,P));b<=this.pixelTolerance_&&(_=!0,c=R>P?S[1]:S[0],u=o.getPixelFromCoordinate(c))}else if(this.edge_){var v=i.feature.getGeometry().getType()===g.a.CIRCLE;if(v?c=Object(s.a)(t,i.feature.getGeometry()):(I[0]=Object(f.a)(S[0],y),I[1]=Object(f.a)(S[1],y),c=Object(f.g)(Object(s.b)(m,I),y)),u=o.getPixelFromCoordinate(c),Object(s.c)(e,u)<=this.pixelTolerance_&&(_=!0,this.vertex_&&!v)){var L=o.getPixelFromCoordinate(S[0]),O=o.getPixelFromCoordinate(S[1]),R=Object(s.g)(u,L),P=Object(s.g)(u,O),b=T(C(R,P));b<=this.pixelTolerance_&&(c=R>P?S[1]:S[0],u=o.getPixelFromCoordinate(c))}}return _&&(u=[n(u[0]),n(u[1])]),{snapped:_,vertex:c,vertexPixel:u}},t.prototype.updateFeature_=function(e){this.removeFeature(e,!1),this.addFeature(e,!1)},t.prototype.writeCircleGeometry_=function(e,t){for(var n=Object(c.b)(t),o=n.getCoordinates()[0],a=0,i=o.length-1;a<i;++a){var r=o.slice(a,a+2);this.rBush_.insert(Object(p.b)(r),{feature:e,segment:r})}},t.prototype.writeGeometryCollectionGeometry_=function(e,t){for(var n=t.getGeometriesArray(),o=0,a;o<n.length;++o)a=this.SEGMENT_WRITERS_[n[o].getType()],a&&a(e,n[o])},t.prototype.writeLineStringGeometry_=function(e,t){for(var n=t.getCoordinates(),o=0,a=n.length-1;o<a;++o){var i=n.slice(o,o+2);this.rBush_.insert(Object(p.b)(i),{feature:e,segment:i})}},t.prototype.writeMultiLineStringGeometry_=function(e,t){for(var n=t.getCoordinates(),o=0,a=n.length,r;o<a;++o){r=n[o];for(var s=0,i=r.length-1;s<i;++s){var d=r.slice(s,s+2);this.rBush_.insert(Object(p.b)(d),{feature:e,segment:d})}}},t.prototype.writeMultiPointGeometry_=function(e,t){for(var n=t.getCoordinates(),o=0,a=n.length;o<a;++o){var i=n[o];this.rBush_.insert(t.getExtent(),{feature:e,segment:[i,i]})}},t.prototype.writeMultiPolygonGeometry_=function(e,t){for(var n=t.getCoordinates(),o=0,a=n.length,r;o<a;++o){r=n[o];for(var s=0,d=r.length,l;s<d;++s){l=r[s];for(var _=0,i=l.length-1;_<i;++_){var g=l.slice(_,_+2);this.rBush_.insert(Object(p.b)(g),{feature:e,segment:g})}}}},t.prototype.writePointGeometry_=function(e,t){var n=t.getCoordinates();this.rBush_.insert(t.getExtent(),{feature:e,segment:[n,n]})},t.prototype.writePolygonGeometry_=function(e,t){for(var n=t.getCoordinates(),o=0,a=n.length,r;o<a;++o){r=n[o];for(var s=0,i=r.length-1;s<i;++s){var d=r.slice(s,s+2);this.rBush_.insert(Object(p.b)(d),{feature:e,segment:d})}}},t}(u.b);t.a=E},function(e,t,n){'use strict';var o=n(54),a=n(25),i=n(13),r=n(11),s=n(10),d=n(19),l=n(126),p=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),_={TRANSLATESTART:'translatestart',TRANSLATING:'translating',TRANSLATEEND:'translateend'},g=function(e){function t(t,n,o,a,i){var r=e.call(this,t)||this;return r.features=n,r.coordinate=o,r.startCoordinate=a,r.mapBrowserEvent=i,r}return p(t,e),t}(i.a),c=function(e){function t(t){var n=this,o=t?t:{};n=e.call(this,o)||this,n.lastCoordinate_=null,n.startCoordinate_=null,n.features_=void 0===o.features?null:o.features;var i;if(!o.layers)i=r.b;else if('function'==typeof o.layers)i=o.layers;else{var d=o.layers;i=function(e){return Object(s.d)(d,e)}}return n.layerFilter_=i,n.filter_=o.filter?o.filter:r.b,n.hitTolerance_=o.hitTolerance?o.hitTolerance:0,n.lastFeature_=null,n.addEventListener(Object(a.b)(l.a.ACTIVE),n.handleActiveChanged_),n}return p(t,e),t.prototype.handleDownEvent=function(e){if(this.lastFeature_=this.featuresAtPixel_(e.pixel,e.map),!this.lastCoordinate_&&this.lastFeature_){this.startCoordinate_=e.coordinate,this.lastCoordinate_=e.coordinate,this.handleMoveEvent(e);var t=this.features_||new o.a([this.lastFeature_]);return this.dispatchEvent(new g(_.TRANSLATESTART,t,e.coordinate,this.startCoordinate_,e)),!0}return!1},t.prototype.handleUpEvent=function(e){if(this.lastCoordinate_){this.lastCoordinate_=null,this.handleMoveEvent(e);var t=this.features_||new o.a([this.lastFeature_]);return this.dispatchEvent(new g(_.TRANSLATEEND,t,e.coordinate,this.startCoordinate_,e)),this.startCoordinate_=null,!0}return!1},t.prototype.handleDragEvent=function(e){if(this.lastCoordinate_){var t=e.coordinate,n=t[0]-this.lastCoordinate_[0],a=t[1]-this.lastCoordinate_[1],i=this.features_||new o.a([this.lastFeature_]);i.forEach(function(e){var t=e.getGeometry();t.translate(n,a),e.setGeometry(t)}),this.lastCoordinate_=t,this.dispatchEvent(new g(_.TRANSLATING,i,t,this.startCoordinate_,e))}},t.prototype.handleMoveEvent=function(e){var t=e.map.getViewport();this.featuresAtPixel_(e.pixel,e.map)?(t.classList.remove(this.lastCoordinate_?'ol-grab':'ol-grabbing'),t.classList.add(this.lastCoordinate_?'ol-grabbing':'ol-grab')):t.classList.remove('ol-grab','ol-grabbing')},t.prototype.featuresAtPixel_=function(e,t){return t.forEachFeatureAtPixel(e,function(e,t){if(this.filter_(e,t)&&(!this.features_||Object(s.d)(this.features_.getArray(),e)))return e}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})},t.prototype.getHitTolerance=function(){return this.hitTolerance_},t.prototype.setHitTolerance=function(e){this.hitTolerance_=e},t.prototype.setMap=function(t){var n=this.getMap();e.prototype.setMap.call(this,t),this.updateState_(n)},t.prototype.handleActiveChanged_=function(){this.updateState_(null)},t.prototype.updateState_=function(e){var t=this.getMap(),n=this.getActive();if((!t||!n)&&(t=t||e,t)){var o=t.getViewport();o.classList.remove('ol-grab','ol-grabbing')}},t}(d.b)},function(e){e.exports='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiB2aWV3Qm94PSIwIDAgMTI3IDEyNyI+PGcgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjE4LjQiIGQ9Ik0yMi4yMDQgMTE3LjI5M2w5NC45MjUtOTUuMDc1LjA3NCA5NS05NC45OTkuMDc1eiIvPjxwYXRoIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIgc3Ryb2tlLXdpZHRoPSI3LjIiIGQ9Ik02MS43NDkgNTYuMTg0bDEwLjYwNyAxMC42MDdtMy41MzUtMjQuNzQ5bDcuMDcxIDcuMDcxTTQ3LjYwNyA3MC4zMjZsNy4wNzEgNy4wNzFtLTIxLjIxMyA3LjA3MWw3LjA3MSA3LjA3MU05MC4wMzMgMjcuOWw3LjA3MSA3LjA3MW03LjA3MS0yMS4yMTNsNy4wNzEgNy4wNzFNMTkuMzIzIDk4LjYxbDcuMDcxIDcuMDcyIi8+PC9nPjwvc3ZnPg=='},function(e,t,n){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,'a',function(){return s});var r=n(13),s={SNAP:'snap'},d=function(e){function t(e,n,i){o(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.features=n,r.mapBrowserEvent=i,r}return i(t,e),t}(r.a);t.b=d},function(e,n,o){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function i(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=o(91),d=o(47),l=o(62),p=o(42),_=o(19),g=o(41),c=o(284),u=o.n(c),y=o(285),m=o.n(y),h=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var o in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},f=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),x=function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(a===void 0){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if('value'in a)return a.value;var r=a.get;return void 0===r?void 0:r.call(o)},I=function(e){function n(e){a(this,n);var t=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,h({title:'Rotate',className:'icon-rotate',image:u.a},e)));return t.pointerInteraction=new _.b({handleDownEvent:t.onDown.bind(t),handleDragEvent:t.onDrag.bind(t),handleUpEvent:t.onUp.bind(t)}),t.rotateAttribute=e.rotateAttribute||'ole_rotation',t.rotateLayer=new l.a({source:new p.a,style:e.style||function(e){var n=e.get(t.rotateAttribute);return[new s.f({geometry:new d.a(t.center),image:new s.c({rotation:n,src:m.a})})]}}),t}return r(n,e),f(n,[{key:'onDown',value:function(e){var n=this;return this.dragging=!1,this.feature=this.map.forEachFeatureAtPixel(e.pixel,function(e){return-1<n.source.getFeatures().indexOf(e)?e:null}),this.center&&this.feature&&(this.feature.set(this.rotateAttribute,this.feature.get(this.rotateAttribute)||0),this.initialRotation=t(e.coordinate[1]-this.center[1],e.coordinate[0]-this.center[0])+this.feature.get(this.rotateAttribute)),!!this.feature}},{key:'onDrag',value:function(e){if(this.dragging=!0,this.feature&&this.center){var n=t(e.coordinate[1]-this.center[1],e.coordinate[0]-this.center[0]),o=this.initialRotation-n,a=o-this.feature.get(this.rotateAttribute);this.feature.getGeometry().rotate(-a,this.center),this.rotateFeature.getGeometry().rotate(-a,this.center),this.feature.set(this.rotateAttribute,o),this.rotateFeature.set(this.rotateAttribute,o)}}},{key:'onUp',value:function(e){this.dragging||(this.feature?(this.rotateFeature=this.feature,this.center=e.coordinate,this.rotateLayer.getSource().clear(),this.rotateLayer.getSource().addFeature(this.rotateFeature)):this.rotateLayer.getSource().clear())}},{key:'activate',value:function(){this.map.addInteraction(this.pointerInteraction),this.rotateLayer.setMap(this.map),x(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),'activate',this).call(this)}},{key:'deactivate',value:function(e){this.rotateLayer.getSource().clear(),this.rotateLayer.setMap(null),this.map.removeInteraction(this.pointerInteraction),x(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),'deactivate',this).call(this,e)}}]),n}(g.a);n.a=I},function(e){e.exports='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGwtcnVsZT0iZXZlbm9kZCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIHZpZXdCb3g9IjAgMCAxMTQgMTE0Ij48ZyBzdHJva2U9IiMwMDAiPjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZS13aWR0aD0iMTEuNzQiIGQ9Ik0xMDcuNzA5IDYzLjA0M2E1MC45MTMgNTAuOTEzIDAgMCAxLTE1Ljg5NCAzMS4yOThjLTIwLjY0OCAxOS4yNTMtNTIuOTk0IDE4LjEyMi03Mi4yNDgtMi41MjZDLjMxNCA3MS4xNjcgMS40NDUgMzguODIxIDIyLjA5MyAxOS41NjcgNDIuNzQxLjMxNCA3NS4wODggMS40NDUgOTQuMzQxIDIyLjA5MyIvPjxwYXRoIGZpbGwtcnVsZT0ibm9uemVybyIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiIHN0cm9rZS13aWR0aD0iNC4xMiIgZD0iTTEwMy4zODggMTUuOTNMODYuNzQ5IDI4LjcwOGwxNi4zMDUgNC4wMTEuMzM0LTE2Ljc4OXoiLz48cGF0aCBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjMuMiIgZD0iTTU2Ljc3MyA0MS4yMnYxNS43MzRoMTUuNzM0TTU2Ljc3MyA3Mi42ODhWNTYuOTU0SDQxLjAzOCIvPjwvZz48L3N2Zz4='},function(e){e.exports='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMTAuMDA1IiBoZWlnaHQ9IjExMC4wMDEiPjxwYXRoIG9wYWNpdHk9Ii4wMSIgZmlsbD0iaXZvcnkiIGQ9Ik0wIDBoMTEwdjExMEgweiIvPjxwYXRoIGQ9Ik0xMDcuMzc4IDYyLjM2NWE1MC45MTQgNTAuOTE0IDAgMCAxLTE1Ljg5NSAzMS4yOThjLTIwLjY0OCAxOS4yNTMtNTIuOTk0IDE4LjEyMi03Mi4yNDctMi41MjZDLS4wMTggNzAuNDkgMS4xMTMgMzguMTQzIDIxLjc2IDE4Ljg5IDQyLjQxLS4zNjQgNzQuNzU2Ljc2NyA5NC4wMSAyMS40MTUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSI1LjI0NSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PHBhdGggZD0iTTEwMy4wNTYgMTUuMjUzTDg2LjQxNyAyOC4wM2wxNi4zMDYgNC4wMXoiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIuNTI0Ii8+PHBhdGggZD0iTTU2LjQ0IDQwLjU0MnYxNS43MzRoMTUuNzM1TTU2LjQ0IDcyLjAxVjU2LjI3N0g0MC43MDciIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIzLjE5OSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PC9zdmc+'},function(e,t,n){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=n(124),s=n(41),d=n(287),l=n.n(d),p=n(288),_=n.n(p),g=n(289),c=n.n(g),u=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var o in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},y=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),m=function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(a===void 0){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if('value'in a)return a.value;var r=a.get;return void 0===r?void 0:r.call(o)},h=function(e){function t(e){o(this,t);var n=null;switch(e.type){case'Polygon':n=_.a;break;case'LineString':n=c.a;break;default:n=l.a;}var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,u({title:'Draw '+(e.type||'Point'),className:'ole-control-draw',image:n},e)));return i.drawInteraction=new r.a({type:e.type||'Point',features:e.features,source:e.source,style:e.style,stopClick:!0}),i}return i(t,e),y(t,[{key:'activate',value:function(){this.map.addInteraction(this.drawInteraction),m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'activate',this).call(this)}},{key:'deactivate',value:function(e){this.map.removeInteraction(this.drawInteraction),m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'deactivate',this).call(this,e)}}]),t}(s.a);t.a=h},function(e){e.exports='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NTQuNjgxIiBoZWlnaHQ9IjEyMG1tIiB2aWV3Qm94PSIwIDAgNDI2LjI2NCA0MjUuMTk3Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTYzLjczNiAtMzU3LjI3NikiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCI+PHBhdGggZD0iTTUzMCA2NTcuMzYydjEyMG0tNjAtNjBoMTIwIiBzdHJva2Utd2lkdGg9IjMwIi8+PGNpcmNsZSBjeD0iMzExLjcyNCIgY3k9IjU0MC41NDEiIHI9Ijk2LjY4NyIgc3Ryb2tlLXdpZHRoPSIyOC41MSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+PC9nPjwvc3ZnPg=='},function(e){e.exports='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NTQuNjgxIiBoZWlnaHQ9IjEyMG1tIiB2aWV3Qm94PSIwIDAgNDI2LjI2NCA0MjUuMTk3Ij48ZyBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxwYXRoIGQ9Ik0zNjYuMjY0IDMwMC4wODd2MTIwIiBzdHJva2Utd2lkdGg9IjMwIi8+PHBhdGggZD0iTTE3Ni4yNjQgNDE1LjA4N0wzNDQuNTQ4IDIxMC42NCAyNzAuODEyIDEyLjQ1NyA3MC41NDkgNzYuNTE1IDEwIDIzNy43MTZsMTY2LjI2NSAxNzcuMzciIHN0cm9rZS13aWR0aD0iMjAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPjxwYXRoIGQ9Ik0zMDYuMjY0IDM2MC4wODdoMTIwIiBzdHJva2Utd2lkdGg9IjMwIi8+PC9nPjwvc3ZnPg=='},function(e){e.exports='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NTQuNjgxIiBoZWlnaHQ9IjEyMG1tIiB2aWV3Qm94PSIwIDAgNDI2LjI2NCA0MjUuMTk3Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTYzLjczNiAtMzU3LjI3NikiPjxwYXRoIGQ9Ik01MzAgNjU3LjM2MnYxMjAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIzMCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjxwYXRoIGQ9Ik0xODkuNDkyIDc1My4xMjdsNTIuMTEyLTEyMC41NjIgMTk3Ljk5NS0zMy41MjggMTE2LjkyNS0yMTcuNzc0IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMjAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjxwYXRoIGQ9Ik00NzAgNzE3LjM2MmgxMjAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIzMCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjxjaXJjbGUgY3g9IjE5MCIgY3k9Ijc1Mi4zNjIiIHI9IjI1Ii8+PGNpcmNsZSBjeD0iNTU1IiBjeT0iMzgyLjM2MiIgcj0iMjUiLz48L2c+PC9zdmc+'},function(e,t,n){'use strict';function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function i(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(113),d=n(2),l=n(91),p=n(154),_=n(57),g=n(124),c=n(16),u=n(97),y=n(41),m=n(292),h=n.n(m),f=n(293),x=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var o in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},I=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),E=function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(a===void 0){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if('value'in a)return a.value;var r=a.get;return void 0===r?void 0:r.call(o)},C=function(e,t){if(!e)return[];var n=e;return'function'==typeof e&&(t?n=e(t):n=e()),Array.isArray(n)?n:[n]},T=new l.f({image:new l.a({radius:5,fill:new l.b({color:'#05A0FF'}),stroke:new l.e({color:'#05A0FF',width:2})}),stroke:new l.e({color:'#05A0FF',width:3}),fill:new l.b({color:'rgba(255,255,255,0.4)'}),geometry:function(e){var t=[];return'Polygon'===e.getGeometry().getType()?e.getGeometry().getCoordinates()[0].forEach(function(e){t.push(e)}):'LineString'===e.getGeometry().getType()?t=e.getGeometry().getCoordinates():t=[e.getGeometry().getCoordinates()],new p.a([e.getGeometry(),new _.c(t)])}}),N=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,x({title:'Modify geometry',className:'ole-control-modify',image:h.a},e))),r='oldStyles',d='selectMoveOnChangeKey',l='selectModifyOnChangeKey';n.coordinate=null,n.previousCursor=null,n.hitTolerance=void 0===e.hitTolerance?5:e.hitTolerance,n.selectMoveStyle=e.selectMoveStyle,n.selectModifyStyle=e.selectModifyStyle||T,n.modifyStyle=e.modifyStyle,n.deleteFeature=n.deleteFeature.bind(n),n.cursorHandler=n.cursorHandler.bind(n),n.cursorTimeout=null,n.deleteCondition=e.deleteCondition||function(e){return 46===e.keyCode||8===e.keyCode},n.selectFilter=function(e,t){return!n.layerFilter||n.layerFilter(t)},n.getFeatureAtPixel=function(e){var t=(n.map.getFeaturesAtPixel(e,{hitTolerance:n.hitTolerance,layerFilter:n.layerFilter})||[])[0];return t},n.isHoverVertexFeatureAtPixel=function(e){var t=!1;return n.map.forEachFeatureAtPixel(e,function(e,n){return!n&&(t=!0,!0)},{hitTolerance:n.hitTolerance}),t},n.applySelectStyle=function(e,t){var n=C(e.getStyleFunction()),a=C(t,e),i=[].concat(o(n),o(a));e.set(r,n),e.setStyle(i)},n.onSelectFeature=function(e,t,o){if(e.getStyleFunction()){n.applySelectStyle(e,t);var a=e.get(o);a&&(Object(s.b)(a),e.unset(a)),e.set(o,e.on('change',function(o){n.onSelectedFeatureChange(o.target,t)}))}},n.onDeselectFeature=function(e,t,n){if(e.getStyleFunction()){var o=e.get(n);o&&(Object(s.b)(o),e.unset(o)),e.unset(r);var a=C(e.getStyleFunction(),null),i=C(t,e),d=a.slice(0,a.indexOf(i[0]));e.setStyle(d)}},n.onSelectedFeatureChange=function(e,t){var o=C(e.getStyleFunction()),a=e.get(r);if(a){var i=a.some(function(e,t){return e!==o[t]});i&&n.applySelectStyle(e,t)}},n.selectMove=new u.Select({condition:e.moveCondition||c.m,toggleCondition:e.moveToggleCondition||c.d,filter:function(e,t){return!n.isSelectedByModify(e)&&n.selectFilter(e,t)},style:n.selectMoveStyle,hitTolerance:n.hitTolerance,wrapX:!1});var p;n.selectMove.getFeatures().on('add',function(e){n.selectModify.getFeatures().clear(),document.addEventListener('keydown',n.deleteFeature),n.map.addInteraction(n.moveInteraction),p=n.map.on('singleclick',function(t){n.unselectInteraction(t,n.selectMove)}),n.selectMoveStyle&&n.onSelectFeature(e.element,n.selectMoveStyle,d)}),n.selectMove.getFeatures().on('remove',function(e){document.removeEventListener('keydown',n.deleteFeature),n.map.removeInteraction(n.moveInteraction),Object(s.b)(p),n.selectMoveStyle&&n.onDeselectFeature(e.element,n.selectMoveStyle,d)}),n.selectModify=new u.Select({condition:e.modifyCondition||c.d,toggleCondition:e.modifyToggleCondition||c.l,filter:n.selectFilter,style:n.selectModifyStyle,hitTolerance:n.hitTolerance,wrapX:!1});var _;return n.selectModify.getFeatures().on('add',function(e){n.selectMove.getFeatures().clear(),document.addEventListener('keydown',n.deleteFeature),n.map.addInteraction(n.modifyInteraction),_=n.map.on('singleclick',function(t){n.unselectInteraction(t,n.selectModify)}),n.selectModifyStyle&&n.onSelectFeature(e.element,n.selectModifyStyle,l)}),n.selectModify.getFeatures().on('remove',function(e){document.removeEventListener('keydown',n.deleteFeature),n.map.removeInteraction(n.modifyInteraction),Object(s.b)(_),n.selectModifyStyle&&n.onDeselectFeature(e.element,n.selectModifyStyle,l)}),n.modifyInteraction=new g.b({features:n.selectModify.getFeatures(),style:n.modifyStyle}),n.modifyInteraction.on('modifystart',function(e){n.editor.setEditFeature(e.features.item(0)),n.isModifying=!0}),n.modifyInteraction.on('modifyend',function(){n.editor.setEditFeature(null),n.isModifying=!1}),n.moveInteraction=new g.c({handleDownEvent:n.startMoveFeature.bind(n),handleDragEvent:n.moveFeature.bind(n),handleUpEvent:n.stopMoveFeature.bind(n)}),n}return r(t,e),I(t,[{key:'deleteFeature',value:function(e){var t=this;if(!/textarea|input/i.test(e.target.nodeName)&&this.deleteCondition(e)){var n;0<this.selectMove.getFeatures().getArray().length?n=this.selectMove.getFeatures():0<this.selectModify.getFeatures().getArray().length&&(n=this.selectModify.getFeatures()),n&&(n.getArray().forEach(function(e,o){t.source.removeFeature(n.getArray()[o])}),this.changeCursor(null),n.clear(),e.stopPropagation(),e.preventDefault())}}},{key:'isSelectedByMove',value:function(e){return-1!==this.selectMove.getFeatures().getArray().indexOf(e)}},{key:'isSelectedByModify',value:function(e){return-1!==this.selectModify.getFeatures().getArray().indexOf(e)}},{key:'startMoveFeature',value:function(e){if(this.featureToMove=this.getFeatureAtPixel(e.pixel),this.featureToMove&&this.isSelectedByMove(this.featureToMove)){if(this.featureToMove.getGeometry()instanceof _.e){var t=this.featureToMove.getGeometry().getExtent();this.coordinate=Object(d.w)(t)}else this.coordinate=e.coordinate;return this.editor.setEditFeature(this.featureToMove),this.isMoving=!0,this.moveInteraction.dispatchEvent(new f.b(f.a.MOVESTART,this.featureToMove,e)),!0}return!1}},{key:'moveFeature',value:function(e){var t=e.coordinate[0]-this.coordinate[0],n=e.coordinate[1]-this.coordinate[1];this.featureToMove.getGeometry().translate(t,n),this.coordinate=e.coordinate}},{key:'stopMoveFeature',value:function(e){return this.moveInteraction.dispatchEvent(new f.b(f.a.MOVEEND,this.featureToMove,e)),this.coordinate=null,this.editor.setEditFeature(null),this.isMoving=!1,this.featureToMove=null,!1}},{key:'cursorHandler',value:function(e){var t=this;this.cursorTimeout&&clearTimeout(this.cursorTimeout),this.cursorTimeout=setTimeout(function(){if(e.dragging||t.isMoving||t.isModifying)return void t.changeCursor('grabbing');var n=t.getFeatureAtPixel(e.pixel);return n?void(t.isSelectedByMove(n)?t.changeCursor('grab'):t.isSelectedByModify(n)?t.isHoverVertexFeatureAtPixel(e.pixel)?t.changeCursor('grab'):t.changeCursor(t.previousCursor):t.changeCursor('pointer')):(t.changeCursor(t.previousCursor),void(t.previousCursor=null))},50)}},{key:'unselectInteraction',value:function(e,t){this.map.hasFeatureAtPixel(e.pixel)||t.getFeatures().clear()}},{key:'changeCursor',value:function(e){var t=this.map.getTargetElement();(t.style.cursor||e)&&t.style.cursor!==e&&(null===this.previousCursor&&(this.previousCursor=t.style.cursor),t.style.cursor=e)}},{key:'activate',value:function(){E(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'activate',this).call(this),clearTimeout(this.cursorTimeout),this.map.on('pointermove',this.cursorHandler),this.map.addInteraction(this.selectMove),this.map.addInteraction(this.selectModify)}},{key:'deactivate',value:function(e){clearTimeout(this.cursorTimeout),this.map.un('pointermove',this.cursorHandler),this.selectMove.getFeatures().clear(),this.selectModify.getFeatures().clear(),this.map.removeInteraction(this.selectMove),this.map.removeInteraction(this.selectModify),E(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'deactivate',this).call(this,e)}}]),t}(y.a);t.a=N},function(e,t,n){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e){if(!this.condition_(e))return!0;var t=this.addCondition_(e),n=this.removeCondition_(e),o=this.toggleCondition_(e),a=e.map,r=this.getFeatures(),s=[],d=[];if(!t&&!n&&!o){Object(h.b)(this.featureLayerAssociation_),a.forEachFeatureAtPixel(e.pixel,function(e,t){if(this.filter_(e,t))return d.push(e),this.addFeatureLayerAssociation_(e,t),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var l=r.getLength()-1;0<=l;--l){var i=r.item(l),_=d.indexOf(i);-1<_?d.splice(_,1):(r.remove(i),s.push(i))}0!==d.length&&r.extend(d)}else{a.forEachFeatureAtPixel(e.pixel,function(e,a){if(this.filter_(e,a))return(t||o)&&!Object(p.d)(r.getArray(),e)?(d.push(e),this.addFeatureLayerAssociation_(e,a)):(n||o)&&Object(p.d)(r.getArray(),e)&&(s.push(e),this.removeFeatureLayerAssociation_(e)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var c=s.length-1;0<=c;--c)r.remove(s[c]);r.extend(d)}return(0<d.length||0<s.length)&&this.dispatchEvent(new T(C.SELECT,d,s,e)),Object(g.j)(e)}function s(){var e=Object(x.b)();return Object(p.c)(e[u.a.POLYGON],e[u.a.LINE_STRING]),Object(p.c)(e[u.a.GEOMETRY_COLLECTION],e[u.a.LINE_STRING]),function(t){return t.getGeometry()?e[t.getGeometry().getType()]:null}}var d=n(7),l=n(55),p=n(10),_=n(13),g=n(16),c=n(11),u=n(5),y=n(32),m=n(62),h=n(14),f=n(42),x=n(45),I=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),E=function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(a===void 0){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if('value'in a)return a.value;var r=a.get;return void 0===r?void 0:r.call(o)},C={SELECT:'select'},T=function(e){function t(e,n,i,r){o(this,t);var s=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s.selected=n,s.deselected=i,s.mapBrowserEvent=r,s}return i(t,e),t}(_.a),N=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{handleEvent:r})),i=e?e:{};n.condition_=i.condition?i.condition:g.m,n.addCondition_=i.addCondition?i.addCondition:g.h,n.removeCondition_=i.removeCondition?i.removeCondition:g.h,n.toggleCondition_=i.toggleCondition?i.toggleCondition:g.l,n.multi_=!!i.multi&&i.multi,n.filter_=i.filter?i.filter:c.b,n.hitTolerance_=i.hitTolerance?i.hitTolerance:0;var d=new m.a({source:new f.a({useSpatialIndex:!1,features:i.features,wrapX:i.wrapX}),style:i.style?i.style:s(),updateWhileAnimating:!0,updateWhileInteracting:!0});n.featureOverlay_=d;var l;if(!i.layers)l=c.b;else if('function'==typeof i.layers)l=i.layers;else{var _=i.layers;l=function(e){return Object(p.d)(_,e)}}return n.layerFilter_=l,n.featureLayerAssociation_={},n}return i(t,e),I(t,[{key:'addFeatureLayerAssociation_',value:function(e,t){this.featureLayerAssociation_[Object(d.c)(e)]=t}},{key:'getFeatures',value:function(){return this.featureOverlay_.getSource().getFeaturesCollection()}},{key:'getHitTolerance',value:function(){return this.hitTolerance_}},{key:'getLayer',value:function(e){return this.featureLayerAssociation_[Object(d.c)(e)]}},{key:'getOverlay',value:function(){return this.featureOverlay_}},{key:'setHitTolerance',value:function(e){this.hitTolerance_=e}},{key:'setMap',value:function(e){E(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setMap',this).call(this,e),this.featureOverlay_.setMap(e)}},{key:'removeFeatureLayerAssociation_',value:function(e){delete this.featureLayerAssociation_[Object(d.c)(e)]}}]),t}(y.a);t.a=N},function(e){e.exports='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NzIuNTM4IiBoZWlnaHQ9IjU1Ni4wOTQiIHZpZXdCb3g9IjAgMCAyNiAyNiI+PGcgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNywyLjAxNGwxMy4xNjIsMTIuMzI4bC01LjM3NywwLjQ4OGwtMC45NzcsMC4wODhsMC40MDYsMC44OTRsMy4yNjMsNy4xNDVsLTIuNDA2LDEuMDU4bC0zLjExMy03LjIyMiBsLTAuMzkxLTAuOTFsLTAuNzIyLDAuNjc4bC0zLjgxOSwzLjU4Mkw3LDIuMDE0IE03LDAuMDE0Yy0wLjI3LDAtMC41NCwwLjA1NC0wLjc5NywwLjE2NkM1LjQ3MiwwLjQ5Nyw0Ljk5OSwxLjIxOSw1LDIuMDE3IGwwLjAyNiwxOC4xMjdjMC4wMDEsMC43OTcsMC40NzYsMS41MTgsMS4yMDYsMS44MzRjMC4yNTYsMC4xMDksMC41MjUsMC4xNjQsMC43OTMsMC4xNjRjMC41LDAsMC45OTEtMC4xODgsMS4zNjktMC41NDEgbDIuNDYzLTIuMzExbDIuMzc3LDUuNTE2YzAuMjExLDAuNDg5LDAuNjEsMC44NzQsMS4xMDQsMS4wNjljMC4yMzUsMC4wOTMsMC40ODQsMC4xMzksMC43MzIsMC4xMzkgYzAuMjc0LDAsMC41NDktMC4wNTcsMC44MDYtMC4xNjlsMi40MDYtMS4wNTljMC40ODktMC4yMTUsMC44NzMtMC42MTgsMS4wNjMtMS4xMThjMC4xOS0wLjUwMSwwLjE3My0xLjA1Ni0wLjA1LTEuNTQzbC0yLjQ5OC01LjQ3IGwzLjU0NC0wLjMyMmMwLjc4NS0wLjA3LDEuNDU0LTAuNTk2LDEuNzExLTEuMzQyYzAuMjU2LTAuNzQ0LDAuMDUxLTEuNTctMC41MjQtMi4xMDlMOC4zNjcsMC41NTRDNy45ODksMC4yLDcuNDk4LDAuMDE0LDcsMC4wMTQgTDcsMC4wMTR6Ii8+PC9nPjwvc3ZnPg=='},function(e,t,n){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,'a',function(){return s});var r=n(13),s={MOVESTART:'movestart',MOVEEND:'moveend'},d=function(e){function t(e,n,i){o(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.feature=n,r.mapBrowserEvent=i,r}return i(t,e),t}(r.a);t.b=d},function(e,t,n){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=n(98),s=n(311),d=n(61),l=n(57),p=n(97),_=n(41),g=n(209),c=n.n(g),u=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var o in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},y=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),m=function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(a===void 0){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if('value'in a)return a.value;var r=a.get;return void 0===r?void 0:r.call(o)},h=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,u({title:'Buffer geometry',className:'ole-control-buffer',image:c.a,buffer:50},e)));return n.selectInteraction=new p.Select({layers:n.layerFilter,hitTolerance:void 0===e.hitTolerance?10:e.hitTolerance,multi:'undefined'==typeof e.multi||e.multi,style:e.style}),n}return i(t,e),y(t,[{key:'getDialogTemplate',value:function(){return'\n      <label>Buffer width: &nbsp;\n        <input type="text" id="buffer-width"\n          value="'+this.properties.buffer+'"\n        />\n      </label>\n      <input type="button" value="OK" id="buffer-btn" />\n    '}},{key:'buffer',value:function(e){var t=new r.a;t.inject(l.e,l.a,d.a,l.f,l.c,l.b,l.d);for(var n=this.selectInteraction.getFeatures().getArray(),o=0;o<n.length;o+=1){var a=t.read(n[o].getGeometry()),i=new s.a(a),p=i.getResultGeometry(e);n[o].setGeometry(t.write(p))}}},{key:'activate',value:function(){var n=this;this.map.addInteraction(this.selectInteraction),m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'activate',this).call(this),document.getElementById('buffer-width').addEventListener('change',function(t){n.setProperties({buffer:t.target.value})}),document.getElementById('buffer-btn').addEventListener('click',function(){var e=document.getElementById('buffer-width'),t=parseInt(e.value,10);t&&n.buffer(t)})}},{key:'deactivate',value:function(){this.map.removeInteraction(this.selectInteraction),m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'deactivate',this).call(this)}}]),t}(_.a);t.a=h},function(e,t){'use strict';class n{constructor(){n.constructor_.apply(this,arguments)}static equalsWithTolerance(e,t,n){return d(e-t)<=n}getClass(){return n}get interfaces_(){return[]}}t.a=n,n.constructor_=function(){}},function(e,t,n){'use strict';var o=n(66);class a extends o.a{constructor(){super(),a.constructor_.apply(this,arguments)}getClass(){return a}get interfaces_(){return[]}}t.a=a,a.constructor_=function(){if(0===arguments.length)o.a.constructor_.call(this);else if(1===arguments.length){const e=arguments[0];o.a.constructor_.call(this,e)}}},function(e,t,n){'use strict';function o(){}t.a=o;var a=n(182);o.prototype=new a.a},function(e,t,n){'use strict';function o(){}t.a=o;var a=n(184);o.prototype=new a.a},function(e,t,n){'use strict';var o=n(1);class a{constructor(){a.constructor_.apply(this,arguments)}static ofLine(e){const t=e.size();if(1>=t)return 0;let n=0;const a=new o.a;e.getCoordinate(0,a);let r=a.x,s=a.y;for(let o=1;o<t;o++){e.getCoordinate(o,a);const t=a.x,i=a.y,d=t-r,l=i-s;n+=T(d*d+l*l),r=t,s=i}return n}getClass(){return a}get interfaces_(){return[]}}t.a=a,a.constructor_=function(){}},function(e,t,n){'use strict';var o=n(301),a=n(302),i=n(303),r=n(28),d=n(0),s=n(304),l=n(4),p=n(305),_=n(306);class g{constructor(){g.constructor_.apply(this,arguments)}static chars(e,t){const n=Array(t).fill(null);for(let o=0;o<t;o++)n[o]=e;return new String(n)}static getStackTrace(){if(1===arguments.length){const e=arguments[0],t=new s.a,n=new o.a(t);return e.printStackTrace(n),t.toString()}if(2===arguments.length){const e=arguments[0],t=arguments[1];let n='';const o=new a.a(g.getStackTrace(e)),i=new _.a(o);for(let e=0;e<t;e++)try{n+=i.readLine()+g.NEWLINE}catch(t){if(t instanceof p.a)l.a.shouldNeverReachHere();else throw t}finally{}return n}}static split(e,t){const n=t.length,o=new d.a;let a=''+e,i=a.indexOf(t);for(;0<=i;){const e=a.substring(0,i);o.add(e),a=a.substring(i+n),i=a.indexOf(t)}0<a.length&&o.add(a);const r=Array(o.size()).fill(null);for(let n=0;n<r.length;n++)r[n]=o.get(n);return r}static toString(){if(1===arguments.length&&'number'==typeof arguments[0]){const e=arguments[0];return g.SIMPLE_ORDINATE_FORMAT.format(e)}}static spaces(e){return g.chars(' ',e)}getClass(){return g}get interfaces_(){return[]}}t.a=g,g.constructor_=function(){},g.NEWLINE=r.a.getProperty('line.separator'),g.SIMPLE_ORDINATE_FORMAT=new i.a('0.#')},function(e,t){'use strict';t.a=function(){}},function(e,t){'use strict';t.a=function(){}},function(e,t){'use strict';t.a=function(){}},function(e,t){'use strict';t.a=function(){}},function(e,t){'use strict';t.a=function(){}},function(e,t){'use strict';t.a=function(){}},function(e,t,n){'use strict';var o=n(3),a=n(1),i=n(33);class r{constructor(){r.constructor_.apply(this,arguments)}static ofRing(){if(arguments[0]instanceof Array){const e=arguments[0];return d(r.ofRingSigned(e))}if(Object(o.a)(arguments[0],i.a)){const e=arguments[0];return d(r.ofRingSigned(e))}}static ofRingSigned(){if(arguments[0]instanceof Array){const e=arguments[0];if(3>e.length)return 0;let t=0;const n=e[0].x;for(let o=1;o<e.length-1;o++){const a=e[o].x-n,i=e[o+1].y,r=e[o-1].y;t+=a*(r-i)}return t/2}if(Object(o.a)(arguments[0],i.a)){const e=arguments[0],t=e.size();if(3>t)return 0;const n=new a.a,o=new a.a,r=new a.a;e.getCoordinate(0,o),e.getCoordinate(1,r);const s=o.x;r.x-=s;let d=0;for(let a=1;a<t-1;a++)n.y=o.y,o.x=r.x,o.y=r.y,e.getCoordinate(a+1,r),r.x-=s,d+=o.x*(n.y-r.y);return d/2}}getClass(){return r}get interfaces_(){return[]}}t.a=r,r.constructor_=function(){}},function(e,t,n){'use strict';var o=n(104),a=n(20),i=n(82),r=n(187),s=n(17),l=n(77),g=n(21);class m{constructor(){m.constructor_.apply(this,arguments)}static sqr(e){return m.valueOf(e).selfMultiply(e)}static valueOf(){if('string'==typeof arguments[0]){const e=arguments[0];return m.parse(e)}if('number'==typeof arguments[0]){const e=arguments[0];return new m(e)}}static sqrt(e){return m.valueOf(e).sqrt()}static parse(e){let t=0;const n=e.length;for(;r.a.isWhitespace(e.charAt(t));)t++;let o=!1;if(t<n){const n=e.charAt(t);('-'===n||'+'===n)&&(t++,'-'===n&&(o=!0))}const a=new m;let s=0,d=0,l=0;for(;!(t>=n);){const n=e.charAt(t);if(t++,r.a.isDigit(n)){a.selfMultiply(m.TEN),a.selfAdd(n-'0'),s++;continue}if('.'===n){d=s;continue}if('e'===n||'E'===n){const n=e.substring(t);try{l=i.a.parseInt(n)}catch(t){if(t instanceof NumberFormatException)throw new NumberFormatException('Invalid exponent '+n+' in string '+e);else throw t}finally{}break}throw new NumberFormatException('Unexpected character \''+n+'\' at position '+t+' in string '+e)}let p=a;const _=s-d-l;if(0==_)p=a;else if(0<_){const e=m.TEN.pow(_);p=a.divide(e)}else if(0>_){const e=m.TEN.pow(-_);p=a.multiply(e)}return o?p.negate():p}static createNaN(){return new m(a.a.NaN,a.a.NaN)}static copy(e){return new m(e)}static magnitude(e){const t=d(e),n=_(t)/2.302585092994046;let o=c(p(n));const a=I(10,o);return 10*a<=t&&(o+=1),o}static stringOfChar(e,t){const n=new o.a;for(let o=0;o<t;o++)n.append(e);return n.toString()}le(e){return this._hi<e._hi||this._hi===e._hi&&this._lo<=e._lo}extractSignificantDigits(e,t){let n=this.abs(),a=m.magnitude(n._hi);const i=m.TEN.pow(a);n=n.divide(i),n.gt(m.TEN)?(n=n.divide(m.TEN),a+=1):n.lt(m.ONE)&&(n=n.multiply(m.TEN),a-=1);const r=a+1,s=new o.a,l=m.MAX_PRINT_DIGITS-1;for(let o=0;o<=l;o++){e&&o===r&&s.append('.');const t=c(n._hi);if(0>t||9<t,0>t)break;let a=!1,i=0;9<t?(a=!0,i='9'):i='0'+t,s.append(i),n=n.subtract(m.valueOf(t)).multiply(m.TEN),a&&n.selfAdd(m.TEN);let p=!0;const _=m.magnitude(n._hi);if(0>_&&d(_)>=l-o&&(p=!1),!p)break}return t[0]=a,s.toString()}sqr(){return this.multiply(this)}doubleValue(){return this._hi+this._lo}subtract(){if(arguments[0]instanceof m){const e=arguments[0];return this.add(e.negate())}if('number'==typeof arguments[0]){const e=arguments[0];return this.add(-e)}}equals(){if(1===arguments.length&&arguments[0]instanceof m){const e=arguments[0];return this._hi===e._hi&&this._lo===e._lo}}isZero(){return 0===this._hi&&0===this._lo}selfSubtract(){if(arguments[0]instanceof m){const e=arguments[0];return this.isNaN()?this:this.selfAdd(-e._hi,-e._lo)}if('number'==typeof arguments[0]){const e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}}getSpecialNumberString(){return this.isZero()?'0.0':this.isNaN()?'NaN ':null}min(e){return this.le(e)?this:e}selfDivide(){if(1===arguments.length){if(arguments[0]instanceof m){const e=arguments[0];return this.selfDivide(e._hi,e._lo)}if('number'==typeof arguments[0]){const e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){const e=arguments[0],t=arguments[1];let n=null,o=null,a=null,i=null,r=null,s=null,d=null,l=null;return r=this._hi/e,s=m.SPLIT*r,n=s-r,l=m.SPLIT*e,n=s-n,o=r-n,a=l-e,d=r*e,a=l-a,i=e-a,l=n*a-d+n*i+o*a+o*i,s=(this._hi-d-l+this._lo-r*t)/e,l=r+s,this._hi=l,this._lo=r-l+s,this}}dump(){return'DD<'+this._hi+', '+this._lo+'>'}divide(){if(arguments[0]instanceof m){const e=arguments[0];let t=null,n=null,o=null,a=null,i=null,r=null,s=null,d=null;i=this._hi/e._hi,r=m.SPLIT*i,t=r-i,d=m.SPLIT*e._hi,t=r-t,n=i-t,o=d-e._hi,s=i*e._hi,o=d-o,a=e._hi-o,d=t*o-s+t*a+n*o+n*a,r=(this._hi-s-d+this._lo-i*e._lo)/e._hi,d=i+r;const l=d,p=i-d+r;return new m(l,p)}if('number'==typeof arguments[0]){const e=arguments[0];return a.a.isNaN(e)?m.createNaN():m.copy(this).selfDivide(e,0)}}ge(e){return this._hi>e._hi||this._hi===e._hi&&this._lo>=e._lo}pow(e){if(0===e)return m.valueOf(1);let t=new m(this),o=m.valueOf(1),a=d(e);if(1<a)for(;0<a;)1==a%2&&o.selfMultiply(t),a/=2,0<a&&(t=t.sqr());else o=t;return 0>e?o.reciprocal():o}ceil(){if(this.isNaN())return m.NaN;const e=y(this._hi);let t=0;return e===this._hi&&(t=y(this._lo)),new m(e,t)}compareTo(e){const t=e;return this._hi<t._hi?-1:this._hi>t._hi?1:this._lo<t._lo?-1:this._lo>t._lo?1:0}rint(){if(this.isNaN())return this;const e=this.add(0.5);return e.floor()}setValue(){if(arguments[0]instanceof m){const e=arguments[0];return this.init(e),this}if('number'==typeof arguments[0]){const e=arguments[0];return this.init(e),this}}max(e){return this.ge(e)?this:e}sqrt(){if(this.isZero())return m.valueOf(0);if(this.isNegative())return m.NaN;const e=1/T(this._hi),t=this._hi*e,n=m.valueOf(t),o=this.subtract(n.sqr()),a=o._hi*(0.5*e);return n.add(a)}selfAdd(){if(1===arguments.length){if(arguments[0]instanceof m){const e=arguments[0];return this.selfAdd(e._hi,e._lo)}if('number'==typeof arguments[0]){const t=arguments[0];let n=null,o=null,a=null,i=null,r=null,e=null;return a=this._hi+t,r=a-this._hi,i=a-r,i=t-r+(this._hi-i),e=i+this._lo,n=a+e,o=e+(a-n),this._hi=n+o,this._lo=o+(n-this._hi),this}}else if(2===arguments.length){const n=arguments[0],o=arguments[1];let a=null,i=null,r=null,d=null,t=null,l=null,s=null,e=null;t=this._hi+n,r=this._lo+o,s=t-this._hi,e=r-this._lo,l=t-s,d=r-e,l=n-s+(this._hi-l),d=o-e+(this._lo-d),s=l+r,a=t+s,i=s+(t-a),s=d+i;const p=a+s,_=s+(a-p);return this._hi=p,this._lo=_,this}}selfMultiply(){if(1===arguments.length){if(arguments[0]instanceof m){const e=arguments[0];return this.selfMultiply(e._hi,e._lo)}if('number'==typeof arguments[0]){const e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){const e=arguments[0],t=arguments[1];let n=null,o=null,a=null,i=null,r=null,s=null;r=m.SPLIT*this._hi,n=r-this._hi,s=m.SPLIT*e,n=r-n,o=this._hi-n,a=s-e,r=this._hi*e,a=s-a,i=e-a,s=n*a-r+n*i+o*a+o*i+(this._hi*t+this._lo*e);const d=r+s;n=r-d;const l=s+n;return this._hi=d,this._lo=l,this}}selfSqr(){return this.selfMultiply(this)}floor(){if(this.isNaN())return m.NaN;const e=p(this._hi);let t=0;return e===this._hi&&(t=p(this._lo)),new m(e,t)}negate(){return this.isNaN()?this:new m(-this._hi,-this._lo)}clone(){try{return null}catch(e){if(e instanceof CloneNotSupportedException)return null;throw e}finally{}}multiply(){if(arguments[0]instanceof m){const e=arguments[0];return e.isNaN()?m.createNaN():m.copy(this).selfMultiply(e)}if('number'==typeof arguments[0]){const e=arguments[0];return a.a.isNaN(e)?m.createNaN():m.copy(this).selfMultiply(e,0)}}isNaN(){return a.a.isNaN(this._hi)}intValue(){return c(this._hi)}toString(){const e=m.magnitude(this._hi);return-3<=e&&20>=e?this.toStandardNotation():this.toSciNotation()}toStandardNotation(){const e=this.getSpecialNumberString();if(null!==e)return e;const t=[,].fill(null),n=this.extractSignificantDigits(!0,t),o=t[0]+1;let a=n;if('.'===n.charAt(0))a='0'+n;else if(0>o)a='0.'+m.stringOfChar('0',-o)+n;else if(-1===n.indexOf('.')){const e=o-n.length,t=m.stringOfChar('0',e);a=n+t+'.0'}return this.isNegative()?'-'+a:a}reciprocal(){let e=null,t=null,n=null,o=null,a=null,i=null,r=null,s=null;a=1/this._hi,i=m.SPLIT*a,e=i-a,s=m.SPLIT*this._hi,e=i-e,t=a-e,n=s-this._hi,r=a*this._hi,n=s-n,o=this._hi-n,s=e*n-r+e*o+t*n+t*o,i=(1-r-s-a*this._lo)/this._hi;const d=a+i,l=a-d+i;return new m(d,l)}toSciNotation(){if(this.isZero())return m.SCI_NOT_ZERO;const e=this.getSpecialNumberString();if(null!==e)return e;const t=[,].fill(null),n=this.extractSignificantDigits(!1,t),o=m.SCI_NOT_EXPONENT_CHAR+t[0];if('0'===n.charAt(0))throw new IllegalStateException('Found leading zero: '+n);let a='';1<n.length&&(a=n.substring(1));const i=n.charAt(0)+'.'+a;return this.isNegative()?'-'+i+o:i+o}abs(){return this.isNaN()?m.NaN:this.isNegative()?this.negate():new m(this)}isPositive(){return 0<this._hi||0===this._hi&&0<this._lo}lt(e){return this._hi<e._hi||this._hi===e._hi&&this._lo<e._lo}add(){if(arguments[0]instanceof m){const e=arguments[0];return m.copy(this).selfAdd(e)}if('number'==typeof arguments[0]){const e=arguments[0];return m.copy(this).selfAdd(e)}}init(){if(1===arguments.length){if('number'==typeof arguments[0]){const e=arguments[0];this._hi=e,this._lo=0}else if(arguments[0]instanceof m){const e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){const e=arguments[0],t=arguments[1];this._hi=e,this._lo=t}}gt(e){return this._hi>e._hi||this._hi===e._hi&&this._lo>e._lo}isNegative(){return 0>this._hi||0===this._hi&&0>this._lo}trunc(){return this.isNaN()?m.NaN:this.isPositive()?this.floor():this.ceil()}signum(){return 0<this._hi?1:0>this._hi?-1:0<this._lo?1:0>this._lo?-1:0}getClass(){return m}get interfaces_(){return[g.a,s.a,l.a]}}t.a=m,m.constructor_=function(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if('number'==typeof arguments[0]){const e=arguments[0];this.init(e)}else if(arguments[0]instanceof m){const e=arguments[0];this.init(e)}else if('string'==typeof arguments[0]){const e=arguments[0];m.constructor_.call(this,m.parse(e))}}else if(2===arguments.length){const e=arguments[0],t=arguments[1];this.init(e,t)}},m.PI=new m(3.141592653589793,1.2246467991473532e-16),m.TWO_PI=new m(6.283185307179586,2.4492935982947064e-16),m.PI_2=new m(1.5707963267948966,6.123233995736766e-17),m.E=new m(2.718281828459045,1.4456468917292502e-16),m.NaN=new m(a.a.NaN,a.a.NaN),m.EPS=1.23259516440783e-32,m.SPLIT=134217729,m.MAX_PRINT_DIGITS=32,m.TEN=m.valueOf(10),m.ONE=m.valueOf(1),m.SCI_NOT_EXPONENT_CHAR='E',m.SCI_NOT_ZERO='0.0E0'},function(e,t,n){'use strict';function o(){}var a=n(27),i=n(69),r=n(52),s=n(84),d=n(53),l=n(70),p=n(24),_=n(0),g=n(4),c=n(50);class u{constructor(){u.constructor_.apply(this,arguments)}setCopyUserData(e){this._isUserDataCopied=e}edit(e,t){if(null===e)return null;const n=this.editInternal(e,t);return this._isUserDataCopied&&n.setUserData(e.getUserData()),n}editInternal(e,t){return(null===this._factory&&(this._factory=e.getFactory()),e instanceof p.a)?this.editGeometryCollection(e,t):e instanceof r.a?this.editPolygon(e,t):e instanceof i.a?t.edit(e,this._factory):e instanceof a.a?t.edit(e,this._factory):(g.a.shouldNeverReachHere('Unsupported Geometry class: '+e.getClass().getName()),null)}editGeometryCollection(e,t){const n=t.edit(e,this._factory),o=new _.a;for(let a=0;a<n.getNumGeometries();a++){const e=this.edit(n.getGeometryN(a),t);null===e||e.isEmpty()||o.add(e)}return n.getClass()===s.a?this._factory.createMultiPoint(o.toArray([])):n.getClass()===c.a?this._factory.createMultiLineString(o.toArray([])):n.getClass()===l.a?this._factory.createMultiPolygon(o.toArray([])):this._factory.createGeometryCollection(o.toArray([]))}editPolygon(e,t){let n=t.edit(e,this._factory);if(null===n&&(n=this._factory.createPolygon()),n.isEmpty())return n;const o=this.edit(n.getExteriorRing(),t);if(null===o||o.isEmpty())return this._factory.createPolygon();const a=new _.a;for(let o=0;o<n.getNumInteriorRing();o++){const e=this.edit(n.getInteriorRingN(o),t);null===e||e.isEmpty()||a.add(e)}return this._factory.createPolygon(o,a.toArray([]))}getClass(){return u}get interfaces_(){return[]}}t.a=u,u.GeometryEditorOperation=o;class y{constructor(){y.constructor_.apply(this,arguments)}edit(e){return e}getClass(){return y}get interfaces_(){return[o]}}y.constructor_=function(){};class m{constructor(){m.constructor_.apply(this,arguments)}edit(e,t){const n=this.edit(e.getCoordinates(),e);return e instanceof d.a?null===n?t.createLinearRing():t.createLinearRing(n):e instanceof a.a?null===n?t.createLineString():t.createLineString(n):e instanceof i.a?null===n||0===n.length?t.createPoint():t.createPoint(n[0]):e}getClass(){return m}get interfaces_(){return[o]}}m.constructor_=function(){};class h{constructor(){h.constructor_.apply(this,arguments)}edit(e,t){return e instanceof d.a?t.createLinearRing(this.edit(e.getCoordinateSequence(),e)):e instanceof a.a?t.createLineString(this.edit(e.getCoordinateSequence(),e)):e instanceof i.a?t.createPoint(this.edit(e.getCoordinateSequence(),e)):e}getClass(){return h}get interfaces_(){return[o]}}h.constructor_=function(){},u.NoOpGeometryOperation=y,u.CoordinateOperation=m,u.CoordinateSequenceOperation=h,u.constructor_=function(){if(this._factory=null,this._isUserDataCopied=!1,0===arguments.length);else if(1===arguments.length){const e=arguments[0];this._factory=e}}},function(e,t,n){'use strict';var o=n(179),a=n(3),i=n(131),r=n(33),s=n(21);class d{constructor(){d.constructor_.apply(this,arguments)}static instance(){return d.instanceObject}readResolve(){return d.instance()}create(){if(1===arguments.length){if(arguments[0]instanceof Array){const e=arguments[0];return new i.a(e)}if(Object(a.a)(arguments[0],r.a)){const e=arguments[0];return new i.a(e)}}else if(2===arguments.length){const e=arguments[0];let t=arguments[1];return 3<t&&(t=3),2>t?new i.a(e):new i.a(e,t)}}getClass(){return d}get interfaces_(){return[o.a,s.a]}}t.a=d,d.constructor_=function(){},d.serialVersionUID=-4099577099607551500,d.instanceObject=new d},function(e,t,n){'use strict';var o=n(312),a=n(105);n.d(t,'a',function(){return o.a})},function(e,t,n){'use strict';var a=n(105),i=n(23),r=n(313),s=n(357),l=n(39),p=n(127),g=n(132),u=n(66),y=n(358);class m{constructor(){m.constructor_.apply(this,arguments)}static bufferOp(){if(2===arguments.length){const e=arguments[0],t=arguments[1],n=new m(e),o=n.getResultGeometry(t);return o}if(3===arguments.length){if(o(arguments[2])&&arguments[0]instanceof i.a&&'number'==typeof arguments[1]){const e=arguments[0],t=arguments[1],n=arguments[2],o=new m(e);o.setQuadrantSegments(n);const a=o.getResultGeometry(t);return a}if(arguments[2]instanceof a.a&&arguments[0]instanceof i.a&&'number'==typeof arguments[1]){const e=arguments[0],t=arguments[1],n=arguments[2],o=new m(e,n),a=o.getResultGeometry(t);return a}}else if(4===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2],o=arguments[3],a=new m(e);a.setQuadrantSegments(n),a.setEndCapStyle(o);const i=a.getResultGeometry(t);return i}}static precisionScaleFactor(e,t,n){const o=e.getEnvelopeInternal(),a=p.a.max(d(o.getMaxX()),d(o.getMaxY()),d(o.getMinX()),d(o.getMinY())),i=0<t?t:0,r=c(_(a+2*i)/2.302585092994046+1),s=I(10,n-r);return s}bufferFixedPrecision(e){const t=new s.a(new y.a(new g.a(1)),e.getScale()),n=new r.a(this._bufParams);n.setWorkingPrecisionModel(e),n.setNoder(t),this._resultGeometry=n.buffer(this._argGeom,this._distance)}bufferReducedPrecision(){if(0===arguments.length){for(let e=m.MAX_PRECISION_DIGITS;0<=e;e--){try{this.bufferReducedPrecision(e)}catch(e){if(e instanceof l.a)this._saveException=e;else throw e}finally{}if(null!==this._resultGeometry)return null}throw this._saveException}else if(1===arguments.length){const e=arguments[0],t=m.precisionScaleFactor(this._argGeom,this._distance,e),n=new g.a(t);this.bufferFixedPrecision(n)}}computeGeometry(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;const e=this._argGeom.getFactory().getPrecisionModel();e.getType()===g.a.FIXED?this.bufferFixedPrecision(e):this.bufferReducedPrecision()}setQuadrantSegments(e){this._bufParams.setQuadrantSegments(e)}bufferOriginalPrecision(){try{const e=new r.a(this._bufParams);this._resultGeometry=e.buffer(this._argGeom,this._distance)}catch(e){if(e instanceof u.a)this._saveException=e;else throw e}finally{}}getResultGeometry(e){return this._distance=e,this.computeGeometry(),this._resultGeometry}setEndCapStyle(e){this._bufParams.setEndCapStyle(e)}getClass(){return m}get interfaces_(){return[]}}t.a=m,m.constructor_=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new a.a,this._resultGeometry=null,this._saveException=null,1===arguments.length){const e=arguments[0];this._argGeom=e}else if(2===arguments.length){const e=arguments[0],t=arguments[1];this._argGeom=e,this._bufParams=t}},m.CAP_ROUND=a.a.CAP_ROUND,m.CAP_BUTT=a.a.CAP_FLAT,m.CAP_FLAT=a.a.CAP_FLAT,m.CAP_SQUARE=a.a.CAP_SQUARE,m.MAX_PRECISION_DIGITS=12},function(e,t,n){'use strict';var o=n(9),a=n(314),i=n(191),r=n(38),s=n(12),d=n(133),l=n(339),p=n(72),_=n(343),c=n(344),g=n(29),u=n(205),y=n(208),m=n(0),h=n(40),f=n(350),x=n(137),I=n(110);class E{constructor(){E.constructor_.apply(this,arguments)}static depthDelta(e){const t=e.getLocation(0,s.a.LEFT),n=e.getLocation(0,s.a.RIGHT);if(t===o.a.INTERIOR&&n===o.a.EXTERIOR)return 1;return t===o.a.EXTERIOR&&n===o.a.INTERIOR?-1:0}static convertSegStrings(e){const t=new r.a,n=new m.a;for(;e.hasNext();){const o=e.next(),a=t.createLineString(o.getCoordinates());n.add(a)}return t.buildGeometry(n)}setWorkingPrecisionModel(e){this._workingPrecisionModel=e}insertUniqueEdge(t){const e=this._edgeList.findEqualEdge(t);if(null!==e){const n=e.getLabel();let o=t.getLabel();e.isPointwiseEqual(t)||(o=new g.a(t.getLabel()),o.flip()),n.merge(o);const a=E.depthDelta(o),i=e.getDepthDelta();e.setDepthDelta(i+a)}else this._edgeList.add(t),t.setDepthDelta(E.depthDelta(t.getLabel()))}buildSubgraphs(e,t){const n=new m.a;for(let o=e.iterator();o.hasNext();){const e=o.next(),a=e.getRightmostCoordinate(),i=new _.a(n),r=i.getDepth(a);e.computeDepth(r),e.findResultEdges(),n.add(e),t.add(e.getDirectedEdges(),e.getNodes())}}createSubgraphs(e){const t=new m.a;for(let n=e.getNodes().iterator();n.hasNext();){const e=n.next();if(!e.isVisited()){const n=new a.a;n.create(e),t.add(n)}}return p.a.sort(t,p.a.reverseOrder()),t}createEmptyResultGeometry(){const e=this._geomFact.createPolygon();return e}getNoder(e){if(null!==this._workingNoder)return this._workingNoder;const t=new d.a,n=new h.a;return n.setPrecisionModel(e),t.setSegmentIntersector(new f.a(n)),t}buffer(e,t){let n=this._workingPrecisionModel;null===n&&(n=e.getPrecisionModel()),this._geomFact=e.getFactory();const o=new l.a(n,this._bufParams),a=new c.a(e,t,o),r=a.getCurves();if(0>=r.size())return this.createEmptyResultGeometry();this.computeNodedEdges(r,n),this._graph=new I.a(new u.a()),this._graph.addEdges(this._edgeList.getEdges());const s=this.createSubgraphs(this._graph),d=new i.a(this._geomFact);this.buildSubgraphs(s,d);const p=d.getPolygons();if(0>=p.size())return this.createEmptyResultGeometry();const _=this._geomFact.buildGeometry(p);return _}computeNodedEdges(e,t){const n=this.getNoder(t);n.computeNodes(e);const o=n.getNodedSubstrings();for(let n=o.iterator();n.hasNext();){const e=n.next(),t=e.getCoordinates();if(2===t.length&&t[0].equals2D(t[1]))continue;const o=e.getData(),a=new x.a(e.getCoordinates(),new g.a(o));this.insertUniqueEdge(a)}}setNoder(e){this._workingNoder=e}getClass(){return E}get interfaces_(){return[]}}t.a=E,E.constructor_=function(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new y.a;const e=arguments[0];this._bufParams=e}},function(e,t,n){'use strict';var o=n(128),a=n(12),i=n(315),r=n(317),s=n(39),d=n(318),l=n(17),p=n(0),_=n(22);class g{constructor(){g.constructor_.apply(this,arguments)}clearVisitedEdges(){for(let e=this._dirEdgeList.iterator();e.hasNext();){const t=e.next();t.setVisited(!1)}}getRightmostCoordinate(){return this._rightMostCoord}computeNodeDepth(e){let t=null;for(let n=e.getEdges().iterator();n.hasNext();){const e=n.next();if(e.isVisited()||e.getSym().isVisited()){t=e;break}}if(null===t)throw new s.a('unable to find edge to compute depths at '+e.getCoordinate());e.getEdges().computeDepths(t);for(let t=e.getEdges().iterator();t.hasNext();){const e=t.next();e.setVisited(!0),this.copySymDepths(e)}}computeDepth(e){this.clearVisitedEdges();const t=this._finder.getEdge(),o=t.getNode(),n=t.getLabel();t.setEdgeDepths(a.a.RIGHT,e),this.copySymDepths(t),this.computeDepths(t)}create(e){this.addReachable(e),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()}findResultEdges(){for(let e=this._dirEdgeList.iterator();e.hasNext();){const t=e.next();1<=t.getDepth(a.a.RIGHT)&&0>=t.getDepth(a.a.LEFT)&&!t.isInteriorAreaEdge()&&t.setInResult(!0)}}computeDepths(e){const t=new o.a,a=new d.a,n=e.getNode();for(a.addLast(n),t.add(n),e.setVisited(!0);!a.isEmpty();){const e=a.removeFirst();t.add(e),this.computeNodeDepth(e);for(let n=e.getEdges().iterator();n.hasNext();){const e=n.next(),o=e.getSym();if(o.isVisited())continue;const i=o.getNode();t.contains(i)||(a.addLast(i),t.add(i))}}}compareTo(e){const t=e;return this._rightMostCoord.x<t._rightMostCoord.x?-1:this._rightMostCoord.x>t._rightMostCoord.x?1:0}getEnvelope(){if(null===this._env){const e=new _.a;for(let t=this._dirEdgeList.iterator();t.hasNext();){const n=t.next(),o=n.getEdge().getCoordinates();for(let t=0;t<o.length-1;t++)e.expandToInclude(o[t])}this._env=e}return this._env}addReachable(e){const t=new i.a;for(t.add(e);!t.empty();){const e=t.pop();this.add(e,t)}}copySymDepths(e){const t=e.getSym();t.setDepth(a.a.LEFT,e.getDepth(a.a.RIGHT)),t.setDepth(a.a.RIGHT,e.getDepth(a.a.LEFT))}add(e,t){e.setVisited(!0),this._nodes.add(e);for(let n=e.getEdges().iterator();n.hasNext();){const e=n.next();this._dirEdgeList.add(e);const o=e.getSym(),a=o.getNode();a.isVisited()||t.push(a)}}getNodes(){return this._nodes}getDirectedEdges(){return this._dirEdgeList}getClass(){return g}get interfaces_(){return[l.a]}}t.a=g,g.constructor_=function(){this._finder=null,this._dirEdgeList=new p.a,this._nodes=new p.a,this._rightMostCoord=null,this._env=null,this._finder=new r.a}},function(e,t,n){'use strict';function o(){this.array_=[]}t.a=o;var a=n(316),i=n(181),r=n(79);o.prototype=new r.a,o.prototype.add=function(t){return this.array_.push(t),!0},o.prototype.get=function(e){if(0>e||e>=this.size())throw new i.a;return this.array_[e]},o.prototype.push=function(t){return this.array_.push(t),t},o.prototype.pop=function(){if(0===this.array_.length)throw new a.a;return this.array_.pop()},o.prototype.peek=function(){if(0===this.array_.length)throw new a.a;return this.array_[this.array_.length-1]},o.prototype.empty=function(){return!(0!==this.array_.length)},o.prototype.isEmpty=function(){return this.empty()},o.prototype.search=function(e){return this.array_.indexOf(e)},o.prototype.size=function(){return this.array_.length},o.prototype.toArray=function(){for(var e=[],t=0,n=this.array_.length;t<n;t++)e.push(this.array_[t]);return e}},function(e,t){'use strict';function n(e){this.message=e||''}t.a=n;n.prototype=new Error,n.prototype.name='EmptyStackException'},function(e,t,n){'use strict';var o=n(12),a=n(18),i=n(4);class r{constructor(){r.constructor_.apply(this,arguments)}getCoordinate(){return this._minCoord}getRightmostSide(e,t){let n=this.getRightmostSideOfSegment(e,t);return 0>n&&(n=this.getRightmostSideOfSegment(e,t-1)),0>n&&(this._minCoord=null,this.checkForRightmostCoordinate(e)),n}findRightmostEdgeAtVertex(){const e=this._minDe.getEdge().getCoordinates();i.a.isTrue(0<this._minIndex&&this._minIndex<e.length,'rightmost point expected to be interior vertex of edge');const t=e[this._minIndex-1],n=e[this._minIndex+1],o=a.a.index(this._minCoord,n,t);let r=!1;t.y<this._minCoord.y&&n.y<this._minCoord.y&&o===a.a.COUNTERCLOCKWISE?r=!0:t.y>this._minCoord.y&&n.y>this._minCoord.y&&o===a.a.CLOCKWISE&&(r=!0),r&&--this._minIndex}getRightmostSideOfSegment(t,n){const a=t.getEdge(),e=a.getCoordinates();if(0>n||n+1>=e.length)return-1;if(e[n].y===e[n+1].y)return-1;let i=o.a.LEFT;return e[n].y<e[n+1].y&&(i=o.a.RIGHT),i}getEdge(){return this._orientedDe}checkForRightmostCoordinate(e){const t=e.getEdge().getCoordinates();for(let n=0;n<t.length-1;n++)(null===this._minCoord||t[n].x>this._minCoord.x)&&(this._minDe=e,this._minIndex=n,this._minCoord=t[n])}findRightmostEdgeAtNode(){const e=this._minDe.getNode(),t=e.getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)}findEdge(e){for(let t=e.iterator();t.hasNext();){const e=t.next();e.isForward()&&this.checkForRightmostCoordinate(e)}i.a.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),'inconsistency in rightmost processing'),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe;const t=this.getRightmostSide(this._minDe,this._minIndex);t===o.a.LEFT&&(this._orientedDe=this._minDe.getSym())}getClass(){return r}get interfaces_(){return[]}}t.a=r,r.constructor_=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}},function(e,t){'use strict';function n(){this.array_=[]}t.a=n,n.prototype.addLast=function(t){this.array_.push(t)},n.prototype.removeFirst=function(){return this.array_.shift()},n.prototype.isEmpty=function(){return 0===this.array_.length}},function(e,t,n){'use strict';var o=n(71),a=n(1),i=n(4),r=n(81);class s{constructor(){s.constructor_.apply(this,arguments)}static computeEdgeDistance(e,t,n){const o=d(n.x-t.x),a=d(n.y-t.y);let r=-1;if(e.equals(t))r=0;else if(e.equals(n))r=o>a?o:a;else{const n=d(e.x-t.x),i=d(e.y-t.y);r=o>a?n:i,0!==r||e.equals(t)||(r=E(n,i))}return i.a.isTrue(0!==r||e.equals(t),'Bad distance calculation'),r}static nonRobustComputeEdgeDistance(e,t){const n=e.x-t.x,o=e.y-t.y,a=T(n*n+o*o);return i.a.isTrue(0!==a||e.equals(t),'Invalid distance calculation'),a}getIndexAlongSegment(e,t){return this.computeIntLineIndex(),this._intLineIndex[e][t]}getTopologySummary(){const e=new r.a;return this.isEndPoint()&&e.append(' endpoint'),this._isProper&&e.append(' proper'),this.isCollinear()&&e.append(' collinear'),e.toString()}computeIntersection(e,t,n,o){this._inputLines[0][0]=e,this._inputLines[0][1]=t,this._inputLines[1][0]=n,this._inputLines[1][1]=o,this._result=this.computeIntersect(e,t,n,o)}getIntersectionNum(){return this._result}computeIntLineIndex(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=[,,].fill().map(()=>[,,]),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){const e=arguments[0],t=this.getEdgeDistance(e,0),n=this.getEdgeDistance(e,1);t>n?(this._intLineIndex[e][0]=0,this._intLineIndex[e][1]=1):(this._intLineIndex[e][0]=1,this._intLineIndex[e][1]=0)}}isProper(){return this.hasIntersection()&&this._isProper}setPrecisionModel(e){this._precisionModel=e}isInteriorIntersection(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){const e=arguments[0];for(let t=0;t<this._result;t++)if(!(this._intPt[t].equals2D(this._inputLines[e][0])||this._intPt[t].equals2D(this._inputLines[e][1])))return!0;return!1}}getIntersection(e){return this._intPt[e]}isEndPoint(){return this.hasIntersection()&&!this._isProper}hasIntersection(){return this._result!==s.NO_INTERSECTION}getEdgeDistance(e,t){const n=s.computeEdgeDistance(this._intPt[t],this._inputLines[e][0],this._inputLines[e][1]);return n}isCollinear(){return this._result===s.COLLINEAR_INTERSECTION}toString(){return o.a.toLineString(this._inputLines[0][0],this._inputLines[0][1])+' - '+o.a.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()}getEndpoint(e,t){return this._inputLines[e][t]}isIntersection(e){for(let t=0;t<this._result;t++)if(this._intPt[t].equals2D(e))return!0;return!1}getIntersectionAlongSegment(e,t){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[e][t]]}getClass(){return s}get interfaces_(){return[]}}t.a=s,s.constructor_=function(){this._result=null,this._inputLines=[,,].fill().map(()=>[,,]),this._intPt=[,,].fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new a.a,this._intPt[1]=new a.a,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},s.DONT_INTERSECT=0,s.DO_INTERSECT=1,s.COLLINEAR=2,s.NO_INTERSECTION=0,s.POINT_INTERSECTION=1,s.COLLINEAR_INTERSECTION=2},function(e,t,n){'use strict';var o=n(1),a=n(38);const r={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/};t.a=class{constructor(e){this.geometryFactory=e||new a.a,this.precisionModel=this.geometryFactory.getPrecisionModel()}read(e){var t,n,o;e=e.replace(/[\n\r]/g,' ');var a=r.typeStr.exec(e);if(-1!==e.search('EMPTY')&&(a=r.emptyTypeStr.exec(e),a[2]=void 0),a&&(n=a[1].toLowerCase(),o=a[2],d[n]&&(t=d[n].call(this,o))),void 0===t)throw new Error('Could not parse WKT '+e);return t}write(e){return this.extractGeometry(e)}extractGeometry(e){var t=e.getGeometryType().toLowerCase();if(!s[t])return null;var n=t.toUpperCase(),o;return o=e.isEmpty()?n+' EMPTY':n+'('+s[t].call(this,e)+')',o}};const s={coordinate(e){return this.precisionModel.makePrecise(e),e.x+' '+e.y},point(e){return s.coordinate.call(this,e._coordinates._coordinates[0])},multipoint(e){var t=[];for(let n=0,o=e._geometries.length;n<o;++n)t.push('('+s.point.call(this,e._geometries[n])+')');return t.join(',')},linestring(e){var t=[];for(let n=0,o=e._points._coordinates.length;n<o;++n)t.push(s.coordinate.call(this,e._points._coordinates[n]));return t.join(',')},linearring(e){var t=[];for(let n=0,o=e._points._coordinates.length;n<o;++n)t.push(s.coordinate.call(this,e._points._coordinates[n]));return t.join(',')},multilinestring(e){var t=[];for(let n=0,o=e._geometries.length;n<o;++n)t.push('('+s.linestring.call(this,e._geometries[n])+')');return t.join(',')},polygon(e){var t=['('+s.linestring.call(this,e._shell)+')'];for(let n=0,o=e._holes.length;n<o;++n)t.push('('+s.linestring.call(this,e._holes[n])+')');return t.join(',')},multipolygon(e){var t=[];for(let n=0,o=e._geometries.length;n<o;++n)t.push('('+s.polygon.call(this,e._geometries[n])+')');return t.join(',')},geometrycollection(e){var t=[];for(let n=0,o=e._geometries.length;n<o;++n)t.push(this.extractGeometry(e._geometries[n]));return t.join(',')}},d={coord(e){var t=Number.parseFloat,n=e.trim().split(r.spaces),a=new o.a(t(n[0]),t(n[1]));return this.precisionModel.makePrecise(a),a},point(e){return void 0===e?this.geometryFactory.createPoint():this.geometryFactory.createPoint(d.coord.call(this,e))},multipoint(e){if(e===void 0)return this.geometryFactory.createMultiPoint();var t=e.trim().split(','),n=[],o;for(let a=0,i=t.length;a<i;++a)o=t[a].replace(r.trimParens,'$1'),n.push(d.point.call(this,o));return this.geometryFactory.createMultiPoint(n)},linestring(e){if(e===void 0)return this.geometryFactory.createLineString();var t=e.trim().split(','),n=[];for(let o=0,a=t.length;o<a;++o)n.push(d.coord.call(this,t[o]));return this.geometryFactory.createLineString(n)},linearring(e){if(e===void 0)return this.geometryFactory.createLinearRing();var t=e.trim().split(','),n=[];for(let o=0,a=t.length;o<a;++o)n.push(d.coord.call(this,t[o]));return this.geometryFactory.createLinearRing(n)},multilinestring(e){if(e===void 0)return this.geometryFactory.createMultiLineString();var t=e.trim().split(r.parenComma),n=[],o;for(let a=0,i=t.length;a<i;++a)o=t[a].replace(r.trimParens,'$1'),n.push(d.linestring.call(this,o));return this.geometryFactory.createMultiLineString(n)},polygon(e){if(e===void 0)return this.geometryFactory.createPolygon();var t=e.trim().split(r.parenComma),n=[],o,a,s,l;for(let p=0,i=t.length;p<i;++p)o=t[p].replace(r.trimParens,'$1'),a=d.linestring.call(this,o),s=this.geometryFactory.createLinearRing(a._points),0===p?l=s:n.push(s);return this.geometryFactory.createPolygon(l,n)},multipolygon(e){if(e===void 0)return this.geometryFactory.createMultiPolygon();var t=e.trim().split(r.doubleParenComma),n=[],o;for(let a=0,i=t.length;a<i;++a)o=t[a].replace(r.trimParens,'$1'),n.push(d.polygon.call(this,o));return this.geometryFactory.createMultiPolygon(n)},geometrycollection(e){if(e===void 0)return this.geometryFactory.createGeometryCollection();e=e.replace(/,\s*([A-Za-z])/g,'|$1');var t=e.trim().split('|'),n=[];for(let o=0,a=t.length;o<a;++o)n.push(this.read(t[o]));return this.geometryFactory.createGeometryCollection(n)}}},function(e,t,n){'use strict';var o=n(322),a=n(194),i=n(0);class r extends a.a{constructor(){super(),r.constructor_.apply(this,arguments)}buildMinimalRings(){const e=new i.a;let t=this._startDe;do{if(null===t.getMinEdgeRing()){const n=new o.a(t,this._geometryFactory);e.add(n)}t=t.getNext()}while(t!==this._startDe);return e}setEdgeRing(e,t){e.setEdgeRing(t)}linkDirectedEdgesForMinimalEdgeRings(){let e=this._startDe;do{const t=e.getNode();t.getEdges().linkMinimalDirectedEdges(this),e=e.getNext()}while(e!==this._startDe)}getNext(e){return e.getNext()}getClass(){return r}get interfaces_(){return[]}}t.a=r,r.constructor_=function(){const e=arguments[0],t=arguments[1];a.a.constructor_.call(this,e,t)}},function(e,t,n){'use strict';var o=n(194);class a extends o.a{constructor(){super(),a.constructor_.apply(this,arguments)}setEdgeRing(e,t){e.setMinEdgeRing(t)}getNext(e){return e.getNextMin()}getClass(){return a}get interfaces_(){return[]}}t.a=a,a.constructor_=function(){const e=arguments[0],t=arguments[1];o.a.constructor_.call(this,e,t)}},function(e,t,n){'use strict';var a=n(104),r=n(9),i=n(12);class s{constructor(){s.constructor_.apply(this,arguments)}setAllLocations(e){for(let t=0;t<this.location.length;t++)this.location[t]=e}isNull(){for(let e=0;e<this.location.length;e++)if(this.location[e]!==r.a.NONE)return!1;return!0}setAllLocationsIfNull(e){for(let t=0;t<this.location.length;t++)this.location[t]===r.a.NONE&&(this.location[t]=e)}isLine(){return 1===this.location.length}merge(e){if(e.location.length>this.location.length){const e=[,,,].fill(null);e[i.a.ON]=this.location[i.a.ON],e[i.a.LEFT]=r.a.NONE,e[i.a.RIGHT]=r.a.NONE,this.location=e}for(let t=0;t<this.location.length;t++)this.location[t]===r.a.NONE&&t<e.location.length&&(this.location[t]=e.location[t])}getLocations(){return this.location}flip(){if(1>=this.location.length)return null;const e=this.location[i.a.LEFT];this.location[i.a.LEFT]=this.location[i.a.RIGHT],this.location[i.a.RIGHT]=e}toString(){const e=new a.a;return 1<this.location.length&&e.append(r.a.toLocationSymbol(this.location[i.a.LEFT])),e.append(r.a.toLocationSymbol(this.location[i.a.ON])),1<this.location.length&&e.append(r.a.toLocationSymbol(this.location[i.a.RIGHT])),e.toString()}setLocations(e,t,n){this.location[i.a.ON]=e,this.location[i.a.LEFT]=t,this.location[i.a.RIGHT]=n}get(e){return e<this.location.length?this.location[e]:r.a.NONE}isArea(){return 1<this.location.length}isAnyNull(){for(let e=0;e<this.location.length;e++)if(this.location[e]===r.a.NONE)return!0;return!1}setLocation(){if(1===arguments.length){const e=arguments[0];this.setLocation(i.a.ON,e)}else if(2===arguments.length){const e=arguments[0],t=arguments[1];this.location[e]=t}}init(e){this.location=Array(e).fill(null),this.setAllLocations(r.a.NONE)}isEqualOnSide(e,t){return this.location[t]===e.location[t]}allPositionsEqual(e){for(let t=0;t<this.location.length;t++)if(this.location[t]!==e)return!1;return!0}getClass(){return s}get interfaces_(){return[]}}t.a=s,s.constructor_=function(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){const e=arguments[0];this.init(e.length)}else if(o(arguments[0])){const e=arguments[0];this.init(1),this.location[i.a.ON]=e}else if(arguments[0]instanceof s){const e=arguments[0];if(this.init(e.location.length),null!==e)for(let t=0;t<this.location.length;t++)this.location[t]=e.location[t]}}else if(3===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2];this.init(3),this.location[i.a.ON]=e,this.location[i.a.LEFT]=t,this.location[i.a.RIGHT]=n}}},function(e,t,n){'use strict';var o=n(9),a=n(1),i=n(111),r=n(0),s=n(68);class d{constructor(){d.constructor_.apply(this,arguments)}find(e){return this.nodeMap.get(e)}addNode(){if(arguments[0]instanceof a.a){const e=arguments[0];let t=this.nodeMap.get(e);return null===t&&(t=this.nodeFact.createNode(e),this.nodeMap.put(e,t)),t}if(arguments[0]instanceof i.a){const e=arguments[0],t=this.nodeMap.get(e.getCoordinate());return null===t?(this.nodeMap.put(e.getCoordinate(),e),e):(t.mergeLabel(e),t)}}print(e){for(let t=this.iterator();t.hasNext();){const o=t.next();o.print(e)}}iterator(){return this.nodeMap.values().iterator()}values(){return this.nodeMap.values()}getBoundaryNodes(e){const t=new r.a;for(let n=this.iterator();n.hasNext();){const a=n.next();a.getLabel().getLocation(e)===o.a.BOUNDARY&&t.add(a)}return t}add(t){const e=t.getCoordinate(),o=this.addNode(e);o.add(t)}getClass(){return d}get interfaces_(){return[]}}t.a=d,d.constructor_=function(){this.nodeMap=new s.a,this.nodeFact=null;const e=arguments[0];this.nodeFact=e}},function(e,n,o){'use strict';var a=o(18),i=o(17),r=o(85),s=o(4);class d{constructor(){d.constructor_.apply(this,arguments)}compareDirection(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:a.a.index(t._p0,t._p1,this._p1)}getDy(){return this._dy}getCoordinate(){return this._p0}setNode(e){this._node=e}print(e){const n=t(this._dy,this._dx),o=this.getClass().getName(),a=o.lastIndexOf('.'),i=o.substring(a+1);e.print('  '+i+': '+this._p0+' - '+this._p1+' '+this._quadrant+':'+n+'   '+this._label)}compareTo(e){return this.compareDirection(e)}getDirectedCoordinate(){return this._p1}getDx(){return this._dx}getLabel(){return this._label}getEdge(){return this._edge}getQuadrant(){return this._quadrant}getNode(){return this._node}toString(){const e=t(this._dy,this._dx),n=this.getClass().getName(),o=n.lastIndexOf('.'),a=n.substring(o+1);return'  '+a+': '+this._p0+' - '+this._p1+' '+this._quadrant+':'+e+'   '+this._label}computeLabel(){}init(e,t){this._p0=e,this._p1=t,this._dx=t.x-e.x,this._dy=t.y-e.y,this._quadrant=r.a.quadrant(this._dx,this._dy),s.a.isTrue(0!==this._dx||0!==this._dy,'EdgeEnd with identical endpoints found')}getClass(){return d}get interfaces_(){return[i.a]}}n.a=d,d.constructor_=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){const e=arguments[0];this._edge=e}else if(3===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2];d.constructor_.call(this,e,t,n,null)}else if(4===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2],o=arguments[3];d.constructor_.call(this,e),this.init(t,n),this._label=o}}},function(e,t,n){'use strict';var a=n(198),i=n(327),r=n(3),s=n(328),d=n(134),l=n(20),p=n(72),_=n(329),g=n(0),u=n(99),m=n(21),h=n(22),f=n(4),x=n(330),I=n(331);class E extends x.a{constructor(){super(),E.constructor_.apply(this,arguments)}static centreX(t){return E.avg(t.getMinX(),t.getMaxX())}static avg(e,t){return(e+t)/2}static getItems(e){const t=Array(e.size()).fill(null);for(let n=0;!e.isEmpty();){const o=e.poll();t[n]=o.getBoundable(0).getItem(),n++}return t}static centreY(t){return E.avg(t.getMinY(),t.getMaxY())}createParentBoundablesFromVerticalSlices(e,t){f.a.isTrue(0<e.length);const n=new g.a;for(let o=0;o<e.length;o++)n.addAll(this.createParentBoundablesFromVerticalSlice(e[o],t));return n}createNode(e){return new C(e)}size(){return 0===arguments.length?super.size.call(this):super.size.apply(this,arguments)}insert(){if(2===arguments.length&&arguments[1]instanceof Object&&arguments[0]instanceof h.a){const e=arguments[0],t=arguments[1];if(e.isNull())return null;super.insert.call(this,e,t)}else return super.insert.apply(this,arguments)}getIntersectsOp(){return E.intersectsOp}verticalSlices(e,t){const n=c(y(e.size()/t)),o=Array(t).fill(null),a=e.iterator();for(let i=0;i<t;i++){o[i]=new g.a;for(let e=0;a.hasNext()&&e<n;){const t=a.next();o[i].add(t),e++}}return o}query(){if(1===arguments.length){const e=arguments[0];return super.query.call(this,e)}if(2===arguments.length){const e=arguments[0],t=arguments[1];super.query.call(this,e,t)}}getComparator(){return E.yComparator}createParentBoundablesFromVerticalSlice(e,t){return super.createParentBoundables.call(this,e,t)}remove(){if(2===arguments.length&&arguments[1]instanceof Object&&arguments[0]instanceof h.a){const e=arguments[0],t=arguments[1];return super.remove.call(this,e,t)}return super.remove.apply(this,arguments)}depth(){return 0===arguments.length?super.depth.call(this):super.depth.apply(this,arguments)}createParentBoundables(e,t){f.a.isTrue(!e.isEmpty());const n=c(y(e.size()/this.getNodeCapacity())),o=new g.a(e);p.a.sort(o,E.xComparator);const a=this.verticalSlices(o,c(y(T(n))));return this.createParentBoundablesFromVerticalSlices(a,t)}nearestNeighbour(){if(1===arguments.length){if(Object(r.a)(arguments[0],I.a)){const e=arguments[0],t=new _.a(this.getRoot(),this.getRoot(),e);return this.nearestNeighbour(t)}if(arguments[0]instanceof _.a){const e=arguments[0];return this.nearestNeighbour(e,l.a.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof E&&Object(r.a)(arguments[1],I.a)){const e=arguments[0],t=arguments[1],n=new _.a(this.getRoot(),e.getRoot(),t);return this.nearestNeighbour(n)}if(arguments[0]instanceof _.a&&'number'==typeof arguments[1]){const e=arguments[0],t=arguments[1];let n=t,o=null;const a=new i.a;for(a.add(e);!a.isEmpty()&&0<n;){const e=a.poll(),t=e.getDistance();if(t>=n)break;e.isLeaves()?(n=t,o=e):e.expandToQueue(a,n)}return[o.getBoundable(0).getItem(),o.getBoundable(1).getItem()]}if(arguments[0]instanceof _.a&&o(arguments[1])){const e=arguments[0],t=arguments[1];return this.nearestNeighbour(e,l.a.POSITIVE_INFINITY,t)}}else if(3===arguments.length){if(Object(r.a)(arguments[2],I.a)&&arguments[0]instanceof h.a&&arguments[1]instanceof Object){const e=arguments[0],t=arguments[1],n=arguments[2],o=new a.a(e,t),i=new _.a(this.getRoot(),o,n);return this.nearestNeighbour(i)[0]}if(o(arguments[2])&&arguments[0]instanceof _.a&&'number'==typeof arguments[1]){const e=arguments[0],t=arguments[1],n=arguments[2];let o=t;const a=new i.a;a.add(e);const r=new i.a;for(;!a.isEmpty()&&0<=o;){const e=a.poll(),t=e.getDistance();if(t>=o)break;if(!e.isLeaves())e.expandToQueue(a,o);else if(r.size()<n)r.add(e);else{const n=r.peek();n.getDistance()>t&&(r.poll(),r.add(e));const a=r.peek();o=a.getDistance()}}return E.getItems(r)}}else if(4===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2],o=arguments[3],i=new a.a(e,t),r=new _.a(this.getRoot(),i,n);return this.nearestNeighbour(r,o)}}getClass(){return E}get interfaces_(){return[s.a,m.a]}}t.a=E;class C extends d.a{constructor(){super(),C.constructor_.apply(this,arguments)}computeBounds(){let e=null;for(let t=this.getChildBoundables().iterator();t.hasNext();){const n=t.next();null==e?e=new h.a(n.getBounds()):e.expandToInclude(n.getBounds())}return e}getClass(){return C}get interfaces_(){return[]}}C.constructor_=function(){const e=arguments[0];d.a.constructor_.call(this,e)},E.STRtreeNode=C,E.constructor_=function(){if(0===arguments.length)E.constructor_.call(this,E.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){const e=arguments[0];x.a.constructor_.call(this,e)}},E.serialVersionUID=259274702368956900,E.xComparator=new class{get interfaces_(){return[u.a]}compare(e,t){return x.a.compareDoubles(E.centreX(e.getBounds()),E.centreX(t.getBounds()))}},E.yComparator=new class{get interfaces_(){return[u.a]}compare(e,t){return x.a.compareDoubles(E.centreY(e.getBounds()),E.centreY(t.getBounds()))}},E.intersectsOp=new class{get interfaces_(){return[IntersectsOp]}intersects(e,t){return e.intersects(t)}},E.DEFAULT_NODE_CAPACITY=10},function(e,t,n){'use strict';var o=n(0);class a{constructor(){a.constructor_.apply(this,arguments)}poll(){if(this.isEmpty())return null;const e=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),e}size(){return this._size}reorder(e){let t=null;const n=this._items.get(e);for(;2*e<=this._size&&(t=2*e,t!==this._size&&0>this._items.get(t+1).compareTo(this._items.get(t))&&t++,0>this._items.get(t).compareTo(n));e=t)this._items.set(e,this._items.get(t));this._items.set(e,n)}clear(){this._size=0,this._items.clear()}peek(){if(this.isEmpty())return null;const e=this._items.get(1);return e}isEmpty(){return 0===this._size}add(e){this._items.add(null),this._size+=1;let t=this._size;for(this._items.set(0,e);0>e.compareTo(this._items.get(c(t/2)));t/=2)this._items.set(t,this._items.get(c(t/2)));this._items.set(t,e)}getClass(){return a}get interfaces_(){return[]}}t.a=a,a.constructor_=function(){this._size=null,this._items=null,this._size=0,this._items=new o.a,this._items.add(null)}},function(e,t){'use strict';class n{constructor(){n.constructor_.apply(this,arguments)}insert(){}remove(){}query(){if(1===arguments.length){arguments[0]}else if(2===arguments.length){const e=arguments[0],t=arguments[1]}}getClass(){return n}get interfaces_(){return[]}}t.a=n,n.constructor_=function(){}},function(e,t,n){'use strict';var o=n(6),a=n(134),i=n(17);class r{constructor(){r.constructor_.apply(this,arguments)}static area(e){return e.getBounds().getArea()}static isComposite(e){return e instanceof a.a}expandToQueue(e,t){const n=r.isComposite(this._boundable1),a=r.isComposite(this._boundable2);if(n&&a)return r.area(this._boundable1)>r.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,e,t),null):(this.expand(this._boundable2,this._boundable1,e,t),null);if(n)return this.expand(this._boundable1,this._boundable2,e,t),null;if(a)return this.expand(this._boundable2,this._boundable1,e,t),null;throw new o.a('neither boundable is composite')}isLeaves(){return!(r.isComposite(this._boundable1)||r.isComposite(this._boundable2))}compareTo(e){const t=e;return this._distance<t._distance?-1:this._distance>t._distance?1:0}expand(e,t,n,o){const a=e.getChildBoundables();for(let s=a.iterator();s.hasNext();){const e=s.next(),a=new r(e,t,this._itemDistance);a.getDistance()<o&&n.add(a)}}getBoundable(e){return 0===e?this._boundable1:this._boundable2}getDistance(){return this._distance}distance(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())}getClass(){return r}get interfaces_(){return[i.a]}}t.a=r,r.constructor_=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;const e=arguments[0],t=arguments[1],n=arguments[2];this._boundable1=e,this._boundable2=t,this._itemDistance=n,this._distance=this.distance()}},function(e,t,n){'use strict';var o=n(198),a=n(3),i=n(112),r=n(134),s=n(72),d=n(0),l=n(21),p=n(4),_=n(79);class g{constructor(){g.constructor_.apply(this,arguments)}static compareDoubles(e,t){return e>t?1:e<t?-1:0}queryInternal(){if(Object(a.a)(arguments[2],i.a)&&arguments[0]instanceof Object&&arguments[1]instanceof r.a){const e=arguments[0],t=arguments[1],n=arguments[2],a=t.getChildBoundables();for(let t=0;t<a.size();t++){const i=a.get(t);this.getIntersectsOp().intersects(i.getBounds(),e)&&(i instanceof r.a?this.queryInternal(e,i,n):i instanceof o.a?n.visitItem(i.getItem()):p.a.shouldNeverReachHere())}}else if(Object(a.a)(arguments[2],_.a)&&arguments[0]instanceof Object&&arguments[1]instanceof r.a){const e=arguments[0],t=arguments[1],n=arguments[2],a=t.getChildBoundables();for(let t=0;t<a.size();t++){const i=a.get(t);this.getIntersectsOp().intersects(i.getBounds(),e)&&(i instanceof r.a?this.queryInternal(e,i,n):i instanceof o.a?n.add(i.getItem()):p.a.shouldNeverReachHere())}}}getNodeCapacity(){return this._nodeCapacity}lastNode(e){return e.get(e.size()-1)}size(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){const e=arguments[0];let t=0;for(let n=e.getChildBoundables().iterator();n.hasNext();){const e=n.next();e instanceof r.a?t+=this.size(e):e instanceof o.a&&(t+=1)}return t}}removeItem(e,t){let n=null;for(let a=e.getChildBoundables().iterator();a.hasNext();){const e=a.next();e instanceof o.a&&e.getItem()===t&&(n=e)}return null!==n&&(e.getChildBoundables().remove(n),!0)}itemsTree(){if(0===arguments.length){this.build();const e=this.itemsTree(this._root);return null===e?new d.a:e}if(1===arguments.length){const e=arguments[0],t=new d.a;for(let n=e.getChildBoundables().iterator();n.hasNext();){const e=n.next();if(e instanceof r.a){const n=this.itemsTree(e);null!==n&&t.add(n)}else e instanceof o.a?t.add(e.getItem()):p.a.shouldNeverReachHere()}return 0>=t.size()?null:t}}insert(e,t){p.a.isTrue(!this._built,'Cannot insert items into an STR packed R-tree after it has been built.'),this._itemBoundables.add(new o.a(e,t))}boundablesAtLevel(){if(1===arguments.length){const e=arguments[0],t=new d.a;return this.boundablesAtLevel(e,this._root,t),t}if(3===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2];if(p.a.isTrue(-2<e),t.getLevel()===e)return n.add(t),null;for(let a=t.getChildBoundables().iterator();a.hasNext();){const t=a.next();t instanceof r.a?this.boundablesAtLevel(e,t,n):(p.a.isTrue(t instanceof o.a),-1===e&&n.add(t))}return null}}query(){if(1===arguments.length){const e=arguments[0];this.build();const t=new d.a;return this.isEmpty()?t:(this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.queryInternal(e,this._root,t),t)}if(2===arguments.length){const e=arguments[0],t=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.queryInternal(e,this._root,t)}}build(){return this._built?null:void(this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0)}getRoot(){return this.build(),this._root}remove(){if(2===arguments.length){const e=arguments[0],t=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.remove(e,this._root,t)}if(3===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2];let o=this.removeItem(t,n);if(o)return!0;let a=null;for(let s=t.getChildBoundables().iterator();s.hasNext();){const t=s.next();if(this.getIntersectsOp().intersects(t.getBounds(),e)&&t instanceof r.a&&(o=this.remove(e,t,n),o)){a=t;break}}return null!==a&&a.getChildBoundables().isEmpty()&&t.getChildBoundables().remove(a),o}}createHigherLevels(e,t){p.a.isTrue(!e.isEmpty());const n=this.createParentBoundables(e,t+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,t+1)}depth(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){const e=arguments[0];let t=0;for(let n=e.getChildBoundables().iterator();n.hasNext();){const e=n.next();if(e instanceof r.a){const n=this.depth(e);n>t&&(t=n)}}return t+1}}createParentBoundables(e,t){p.a.isTrue(!e.isEmpty());const n=new d.a;n.add(this.createNode(t));const o=new d.a(e);s.a.sort(o,this.getComparator());for(let a=o.iterator();a.hasNext();){const e=a.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(t)),this.lastNode(n).addChildBoundable(e)}return n}isEmpty(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()}getClass(){return g}get interfaces_(){return[l.a]}}t.a=g,g.IntersectsOp=function(){},g.constructor_=function(){if(this._root=null,this._built=!1,this._itemBoundables=new d.a,this._nodeCapacity=null,0===arguments.length)g.constructor_.call(this,g.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){const e=arguments[0];p.a.isTrue(1<e,'Node capacity must be greater than 1'),this._nodeCapacity=e}},g.serialVersionUID=-3886435814360241000,g.DEFAULT_NODE_CAPACITY=10},function(e,t){'use strict';class n{constructor(){n.constructor_.apply(this,arguments)}distance(){}getClass(){return n}get interfaces_(){return[]}}t.a=n,n.constructor_=function(){}},function(e,t,n){'use strict';var o=n(101),a=n(333),i=n(200),r=n(1),s=n(86),d=n(82),l=n(0),p=n(66),_=n(4),g=n(68);class c{constructor(){c.constructor_.apply(this,arguments)}getSplitCoordinates(){const e=new o.a;this.addEndpoints();const t=this.iterator();for(let n=t.next();t.hasNext();){const o=t.next();this.addEdgeCoordinates(n,o,e),n=o}return e.toCoordinateArray()}addCollapsedNodes(){const e=new l.a;this.findCollapsesFromInsertedNodes(e),this.findCollapsesFromExistingVertices(e);for(let t=e.iterator();t.hasNext();){const e=t.next().intValue();this.add(this._edge.getCoordinate(e),e)}}print(e){e.println('Intersections:');for(let t=this.iterator();t.hasNext();){const n=t.next();n.print(e)}}findCollapsesFromExistingVertices(e){for(let t=0;t<this._edge.size()-2;t++){const n=this._edge.getCoordinate(t),o=this._edge.getCoordinate(t+1),a=this._edge.getCoordinate(t+2);n.equals2D(a)&&e.add(new d.a(t+1))}}addEdgeCoordinates(e,t,n){let o=t.segmentIndex-e.segmentIndex+2;const a=this._edge.getCoordinate(t.segmentIndex),i=t.isInterior()||!t.coord.equals2D(a);i||o--;n.add(new r.a(e.coord),!1);for(let o=e.segmentIndex+1;o<=t.segmentIndex;o++)n.add(this._edge.getCoordinate(o));i&&n.add(new r.a(t.coord))}iterator(){return this._nodeMap.values().iterator()}addSplitEdges(e){this.addEndpoints(),this.addCollapsedNodes();const t=this.iterator();for(let n=t.next();t.hasNext();){const o=t.next(),a=this.createSplitEdge(n,o);e.add(a),n=o}}findCollapseIndex(e,t,n){if(!e.coord.equals2D(t.coord))return!1;let o=t.segmentIndex-e.segmentIndex;return t.isInterior()||o--,1==o&&(n[0]=e.segmentIndex+1,!0)}findCollapsesFromInsertedNodes(e){const t=[,].fill(null),n=this.iterator();for(let o=n.next();n.hasNext();){const a=n.next(),i=this.findCollapseIndex(o,a,t);i&&e.add(new d.a(t[0])),o=a}}getEdge(){return this._edge}addEndpoints(){const e=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(e),e)}createSplitEdge(e,t){let n=t.segmentIndex-e.segmentIndex+2;const o=this._edge.getCoordinate(t.segmentIndex),a=t.isInterior()||!t.coord.equals2D(o);a||n--;const d=Array(n).fill(null);let l=0;d[l++]=new r.a(e.coord);for(let n=e.segmentIndex+1;n<=t.segmentIndex;n++)d[l++]=this._edge.getCoordinate(n);return a&&(d[l]=new r.a(t.coord)),new s.a(d,this._edge.getData())}add(e,t){const n=new a.a(this._edge,e,t,this._edge.getSegmentOctant(t)),o=this._nodeMap.get(n);return null===o?(this._nodeMap.put(n,n),n):(_.a.isTrue(o.coord.equals2D(e),'Found equal nodes with different coordinates'),o)}checkSplitEdgesCorrectness(e){const t=this._edge.getCoordinates(),n=e.get(0),o=n.getCoordinate(0);if(!o.equals2D(t[0]))throw new p.a('bad split edge start point at '+o);const a=e.get(e.size()-1),i=a.getCoordinates(),r=i[i.length-1];if(!r.equals2D(t[t.length-1]))throw new p.a('bad split edge end point at '+r)}getClass(){return c}get interfaces_(){return[]}}t.a=c,c.constructor_=function(){this._nodeMap=new g.a,this._edge=null;const e=arguments[0];this._edge=e};class u{constructor(){u.constructor_.apply(this,arguments)}next(){return null===this._currNode?(this._currNode=this._nextNode,this._currSegIndex=this._currNode.segmentIndex,this.readNextNode(),this._currNode):null===this._nextNode?null:this._nextNode.segmentIndex===this._currNode.segmentIndex?(this._currNode=this._nextNode,this._currSegIndex=this._currNode.segmentIndex,this.readNextNode(),this._currNode):(this._nextNode.segmentIndex>this._currNode.segmentIndex,null)}remove(){throw new UnsupportedOperationException(this.getClass().getName())}hasNext(){return null!==this._nextNode}readNextNode(){this._nextNode=this._nodeIt.hasNext()?this._nodeIt.next():null}getClass(){return u}get interfaces_(){return[i.a]}}u.constructor_=function(){this._nodeList=null,this._edge=null,this._nodeIt=null,this._currNode=null,this._nextNode=null,this._currSegIndex=0;const e=arguments[0];this._nodeList=e,this._edge=e.getEdge(),this._nodeIt=e.iterator(),this.readNextNode()}},function(e,t,n){'use strict';var o=n(1),a=n(334),i=n(17);class r{constructor(){r.constructor_.apply(this,arguments)}getCoordinate(){return this.coord}print(e){e.print(this.coord),e.print(' seg # = '+this.segmentIndex)}compareTo(e){const t=e;return this.segmentIndex<t.segmentIndex?-1:this.segmentIndex>t.segmentIndex?1:this.coord.equals2D(t.coord)?0:a.a.compare(this._segmentOctant,this.coord,t.coord)}isEndPoint(e){return 0!==this.segmentIndex||this._isInterior?!(this.segmentIndex!==e):!0}isInterior(){return this._isInterior}getClass(){return r}get interfaces_(){return[i.a]}}t.a=r,r.constructor_=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;const e=arguments[0],t=arguments[1],n=arguments[2],a=arguments[3];this._segString=e,this.coord=new o.a(t),this.segmentIndex=n,this._segmentOctant=a,this._isInterior=!t.equals2D(e.getCoordinate(n))}},function(e,t,n){'use strict';var o=n(4);class a{constructor(){a.constructor_.apply(this,arguments)}static relativeSign(e,t){return e<t?-1:e>t?1:0}static compare(e,t,n){if(t.equals2D(n))return 0;const i=a.relativeSign(t.x,n.x),r=a.relativeSign(t.y,n.y);return 0===e?a.compareValue(i,r):1===e?a.compareValue(r,i):2===e?a.compareValue(r,-i):3===e?a.compareValue(-i,r):4===e?a.compareValue(-i,-r):5===e?a.compareValue(-r,-i):6===e?a.compareValue(-r,i):7===e?a.compareValue(i,-r):(o.a.shouldNeverReachHere('invalid octant value'),0)}static compareValue(e,t){return 0>e?-1:0<e?1:0>t?-1:0<t?1:0}getClass(){return a}get interfaces_(){return[]}}t.a=a,a.constructor_=function(){}},function(e,t,n){'use strict';var o=n(202);class a{constructor(){a.constructor_.apply(this,arguments)}addIntersection(){}getClass(){return a}get interfaces_(){return[o.a]}}t.a=a,a.constructor_=function(){}},function(e,t,n){'use strict';var o=n(73);class a{constructor(){a.constructor_.apply(this,arguments)}overlap(){if(2===arguments.length){const e=arguments[0],t=arguments[1]}else if(4===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2],o=arguments[3];e.getLineSegment(t,this._overlapSeg1),n.getLineSegment(o,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}getClass(){return a}get interfaces_(){return[]}}t.a=a,a.constructor_=function(){this._overlapSeg1=new o.a,this._overlapSeg2=new o.a}},function(e,t,n){'use strict';var o=n(203),a=n(82),i=n(0),r=n(85);class s{constructor(){s.constructor_.apply(this,arguments)}static getChainStartIndices(e){let t=0;const n=new i.a;n.add(new a.a(t));do{const o=s.findChainEnd(e,t);n.add(new a.a(o)),t=o}while(t<e.length-1);const o=s.toIntArray(n);return o}static findChainEnd(e,t){let n=t;for(;n<e.length-1&&e[n].equals2D(e[n+1]);)n++;if(n>=e.length-1)return e.length-1;const o=r.a.quadrant(e[n],e[n+1]);let a=t+1;for(;a<e.length;){if(!e[a-1].equals2D(e[a])){const t=r.a.quadrant(e[a-1],e[a]);if(t!==o)break}a++}return a-1}static getChains(){if(1===arguments.length){const e=arguments[0];return s.getChains(e,null)}if(2===arguments.length){const e=arguments[0],t=arguments[1],n=new i.a,a=s.getChainStartIndices(e);for(let r=0;r<a.length-1;r++){const i=new o.a(e,a[r],a[r+1],t);n.add(i)}return n}}static toIntArray(e){const t=Array(e.size()).fill(null);for(let n=0;n<t.length;n++)t[n]=e.get(n).intValue();return t}getClass(){return s}get interfaces_(){return[]}}t.a=s,s.constructor_=function(){}},function(e,t,n){'use strict';var o=n(135);class a{constructor(){a.constructor_.apply(this,arguments)}setSegmentIntersector(e){this._segInt=e}getClass(){return a}get interfaces_(){return[o.a]}}t.a=a,a.constructor_=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){const e=arguments[0];this.setSegmentIntersector(e)}}},function(e,t,n){'use strict';var o=n(105),a=n(12),r=n(1),i=n(340),s=n(49),l=n(341);class p{constructor(){p.constructor_.apply(this,arguments)}static copyCoordinates(e){const t=Array(e.length).fill(null);for(let n=0;n<t.length;n++)t[n]=new r.a(e[n]);return t}getOffsetCurve(e,t){if(this._distance=t,0===t)return null;const n=0>t,o=d(t),a=this.getSegGen(o);1>=e.length?this.computePointCurve(e[0],a):this.computeOffsetCurve(e,n,a);const i=a.getCoordinates();return n&&s.a.reverse(i),i}computeSingleSidedBufferCurve(e,t,n){const o=this.simplifyTolerance(this._distance);if(t){n.addSegments(e,!0);const t=i.a.simplify(e,-o),r=t.length-1;n.initSideSegments(t[r],t[r-1],a.a.LEFT),n.addFirstSegment();for(let e=r-2;0<=e;e--)n.addNextSegment(t[e],!0)}else{n.addSegments(e,!1);const t=i.a.simplify(e,o),r=t.length-1;n.initSideSegments(t[0],t[1],a.a.LEFT),n.addFirstSegment();for(let e=2;e<=r;e++)n.addNextSegment(t[e],!0)}n.addLastSegment(),n.closeRing()}computeRingBufferCurve(e,t,o){let r=this.simplifyTolerance(this._distance);t===a.a.RIGHT&&(r=-r);const s=i.a.simplify(e,r),d=s.length-1;o.initSideSegments(s[d-1],s[0],t);for(let n=1;n<=d;n++){const e=1!==n;o.addNextSegment(s[n],e)}o.closeRing()}computeLineBufferCurve(e,t){const n=this.simplifyTolerance(this._distance),o=i.a.simplify(e,n),r=o.length-1;t.initSideSegments(o[0],o[1],a.a.LEFT);for(let n=2;n<=r;n++)t.addNextSegment(o[n],!0);t.addLastSegment(),t.addLineEndCap(o[r-1],o[r]);const s=i.a.simplify(e,-n),d=s.length-1;t.initSideSegments(s[d],s[d-1],a.a.LEFT);for(let n=d-2;0<=n;n--)t.addNextSegment(s[n],!0);t.addLastSegment(),t.addLineEndCap(s[1],s[0]),t.closeRing()}computePointCurve(e,t){switch(this._bufParams.getEndCapStyle()){case o.a.CAP_ROUND:t.createCircle(e);break;case o.a.CAP_SQUARE:t.createSquare(e);}}getLineCurve(e,t){if(this._distance=t,0>t&&!this._bufParams.isSingleSided())return null;if(0===t)return null;const n=d(t),o=this.getSegGen(n);if(1>=e.length)this.computePointCurve(e[0],o);else if(this._bufParams.isSingleSided()){this.computeSingleSidedBufferCurve(e,0>t,o)}else this.computeLineBufferCurve(e,o);const a=o.getCoordinates();return a}getBufferParameters(){return this._bufParams}simplifyTolerance(e){return e*this._bufParams.getSimplifyFactor()}getRingCurve(e,t,n){if(this._distance=n,2>=e.length)return this.getLineCurve(e,n);if(0===n)return p.copyCoordinates(e);const o=this.getSegGen(n);return this.computeRingBufferCurve(e,t,o),o.getCoordinates()}computeOffsetCurve(e,t,n){const o=this.simplifyTolerance(this._distance);if(t){const t=i.a.simplify(e,-o),r=t.length-1;n.initSideSegments(t[r],t[r-1],a.a.LEFT),n.addFirstSegment();for(let e=r-2;0<=e;e--)n.addNextSegment(t[e],!0)}else{const t=i.a.simplify(e,o),r=t.length-1;n.initSideSegments(t[0],t[1],a.a.LEFT),n.addFirstSegment();for(let e=2;e<=r;e++)n.addNextSegment(t[e],!0)}n.addLastSegment()}getSegGen(e){return new l.a(this._precisionModel,this._bufParams,e)}getClass(){return p}get interfaces_(){return[]}}t.a=p,p.constructor_=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;const e=arguments[0],t=arguments[1];this._precisionModel=e,this._bufParams=t}},function(e,t,n){'use strict';var o=n(101),a=n(18),i=n(109);class r{constructor(){r.constructor_.apply(this,arguments)}static simplify(e,t){const n=new r(e);return n.simplify(t)}isDeletable(e,t,n,o){const a=this._inputLine[e],i=this._inputLine[t],r=this._inputLine[n];return!!this.isConcave(a,i,r)&&!!this.isShallow(a,i,r,o)&&this.isShallowSampled(a,i,e,n,o)}deleteShallowConcavities(){let e=1;this._inputLine.length-1;let t=this.findNextNonDeletedIndex(e),n=this.findNextNonDeletedIndex(t),o=!1;for(;n<this._inputLine.length;){let a=!1;this.isDeletable(e,t,n,this._distanceTol)&&(this._isDeleted[t]=r.DELETE,a=!0,o=!0),e=a?n:t,t=this.findNextNonDeletedIndex(e),n=this.findNextNonDeletedIndex(t)}return o}isShallowConcavity(e,t,n,o){const r=a.a.index(e,t,n),s=r===this._angleOrientation;if(!s)return!1;const d=i.a.pointToSegment(t,e,n);return d<o}isShallowSampled(e,t,n,o,a){let s=c((o-n)/r.NUM_PTS_TO_CHECK);0>=s&&(s=1);for(let r=n;r<o;r+=s)if(!this.isShallow(e,t,this._inputLine[r],a))return!1;return!0}isConcave(e,t,n){const o=a.a.index(e,t,n),i=o===this._angleOrientation;return i}simplify(e){this._distanceTol=d(e),0>e&&(this._angleOrientation=a.a.CLOCKWISE),this._isDeleted=Array(this._inputLine.length).fill(null);let t=!1;do t=this.deleteShallowConcavities();while(t);return this.collapseLine()}findNextNonDeletedIndex(e){let t=e+1;for(;t<this._inputLine.length&&this._isDeleted[t]===r.DELETE;)t++;return t}isShallow(e,t,n,o){const a=i.a.pointToSegment(t,e,n);return a<o}collapseLine(){const e=new o.a;for(let t=0;t<this._inputLine.length;t++)this._isDeleted[t]!==r.DELETE&&e.add(this._inputLine[t]);return e.toCoordinateArray()}getClass(){return r}get interfaces_(){return[]}}t.a=r,r.constructor_=function(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=a.a.COUNTERCLOCKWISE;const e=arguments[0];this._inputLine=e},r.INIT=0,r.DELETE=1,r.KEEP=1,r.NUM_PTS_TO_CHECK=10},function(e,n,o){'use strict';var a=o(105),i=o(107),_=o(12),g=o(1),u=o(18),p=o(342),y=o(73),m=o(204),h=o(40),f=o(108);class x{constructor(){x.constructor_.apply(this,arguments)}addNextSegment(e,t){if(this._s0=this._s1,this._s1=this._s2,this._s2=e,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;const n=u.a.index(this._s0,this._s1,this._s2),o=n===u.a.CLOCKWISE&&this._side===_.a.LEFT||n===u.a.COUNTERCLOCKWISE&&this._side===_.a.RIGHT;0===n?this.addCollinear(t):o?this.addOutsideTurn(n,t):this.addInsideTurn(n,t)}addLineEndCap(e,n){const o=new y.a(e,n),i=new y.a;this.computeOffsetSegment(o,_.a.LEFT,this._distance,i);const p=new y.a;this.computeOffsetSegment(o,_.a.RIGHT,this._distance,p);const c=n.x-e.x,m=n.y-e.y,h=t(m,c);switch(this._bufParams.getEndCapStyle()){case a.a.CAP_ROUND:this._segList.addPt(i.p1),this.addDirectedFillet(n,h+s/2,h-s/2,u.a.CLOCKWISE,this._distance),this._segList.addPt(p.p1);break;case a.a.CAP_FLAT:this._segList.addPt(i.p1),this._segList.addPt(p.p1);break;case a.a.CAP_SQUARE:const e=new g.a;e.x=d(this._distance)*l(h),e.y=d(this._distance)*r(h);const t=new g.a(i.p1.x+e.x,i.p1.y+e.y),o=new g.a(p.p1.x+e.x,p.p1.y+e.y);this._segList.addPt(t),this._segList.addPt(o);}}getCoordinates(){const e=this._segList.getCoordinates();return e}addMitreJoin(e,t,n,o){let a=!0,r=null;try{r=f.a.intersection(t.p0,t.p1,n.p0,n.p1);const i=0>=o?1:r.distance(e)/d(o);i>this._bufParams.getMitreLimit()&&(a=!1)}catch(e){if(e instanceof i.a)r=new g.a(0,0),a=!1;else throw e}finally{}a?this._segList.addPt(r):this.addLimitedMitreJoin(t,n,o,this._bufParams.getMitreLimit())}addOutsideTurn(e,t){return this._offset0.p1.distance(this._offset1.p0)<this._distance*x.OFFSET_SEGMENT_SEPARATION_FACTOR?(this._segList.addPt(this._offset0.p1),null):void(this._bufParams.getJoinStyle()===a.a.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===a.a.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(t&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,e,this._distance),this._segList.addPt(this._offset1.p0)))}createSquare(e){this._segList.addPt(new g.a(e.x+this._distance,e.y+this._distance)),this._segList.addPt(new g.a(e.x+this._distance,e.y-this._distance)),this._segList.addPt(new g.a(e.x-this._distance,e.y-this._distance)),this._segList.addPt(new g.a(e.x-this._distance,e.y+this._distance)),this._segList.closeRing()}addSegments(e,t){this._segList.addPts(e,t)}addFirstSegment(){this._segList.addPt(this._offset1.p0)}addCornerFillet(e,n,o,a,i){const r=n.x-e.x,d=n.y-e.y;let l=t(d,r);const p=o.x-e.x,_=o.y-e.y,g=t(_,p);a===u.a.CLOCKWISE?l<=g&&(l+=2*s):l>=g&&(l-=2*s),this._segList.addPt(n),this.addDirectedFillet(e,l,g,a,i),this._segList.addPt(o)}addLastSegment(){this._segList.addPt(this._offset1.p1)}initSideSegments(e,t,n){this._s1=e,this._s2=t,this._side=n,this._seg1.setCoordinates(e,t),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)}addLimitedMitreJoin(e,t,n,o){const a=this._seg0.p1,i=m.a.angle(a,this._seg0.p0),p=m.a.angle(a,this._seg1.p1),c=m.a.angleBetweenOriented(this._seg0.p0,a,this._seg1.p1),u=c/2,h=m.a.normalize(i+u),f=m.a.normalize(h+s),x=o*n,I=x*d(r(u)),E=n-I,C=a.x+x*l(f),T=a.y+x*r(f),N=new g.a(C,T),S=new y.a(a,N),L=S.pointAlongOffset(1,E),O=S.pointAlongOffset(1,-E);this._side===_.a.LEFT?(this._segList.addPt(L),this._segList.addPt(O)):(this._segList.addPt(O),this._segList.addPt(L))}addDirectedFillet(e,t,n,o,a){const i=o===u.a.CLOCKWISE?-1:1,s=d(t-n),p=c(s/this._filletAngleQuantum+0.5);if(1>p)return null;let _=null,y=null;_=0,y=s/p;let m=_;for(const d=new g.a;m<s;){const n=t+i*m;d.x=e.x+a*l(n),d.y=e.y+a*r(n),this._segList.addPt(d),m+=y}}computeOffsetSegment(e,t,n,o){const a=t===_.a.LEFT?1:-1,i=e.p1.x-e.p0.x,r=e.p1.y-e.p0.y,s=T(i*i+r*r),d=a*n*i/s,l=a*n*r/s;o.p0.x=e.p0.x-l,o.p0.y=e.p0.y+d,o.p1.x=e.p1.x-l,o.p1.y=e.p1.y+d}addInsideTurn(){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*x.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),0<this._closingSegLengthFactor){const e=new g.a((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(e);const t=new g.a((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(t)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}}createCircle(e){const t=new g.a(e.x+this._distance,e.y);this._segList.addPt(t),this.addDirectedFillet(e,0,2*s,-1,this._distance),this._segList.closeRing()}addBevelJoin(e,t){this._segList.addPt(e.p1),this._segList.addPt(t.p0)}init(e){this._distance=e,this._maxCurveSegmentError=e*(1-l(this._filletAngleQuantum/2)),this._segList=new p.a,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(e*x.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)}addCollinear(e){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2);const t=this._li.getIntersectionNum();2<=t&&(this._bufParams.getJoinStyle()===a.a.JOIN_BEVEL||this._bufParams.getJoinStyle()===a.a.JOIN_MITRE?(e&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,u.a.CLOCKWISE,this._distance))}closeRing(){this._segList.closeRing()}hasNarrowConcaveAngle(){return this._hasNarrowConcaveAngle}getClass(){return x}get interfaces_(){return[]}}n.a=x,x.constructor_=function(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new y.a,this._seg1=new y.a,this._offset0=new y.a,this._offset1=new y.a,this._side=0,this._hasNarrowConcaveAngle=!1;const e=arguments[0],t=arguments[1],n=arguments[2];this._precisionModel=e,this._bufParams=t,this._li=new h.a,this._filletAngleQuantum=s/2/t.getQuadrantSegments(),8<=t.getQuadrantSegments()&&t.getJoinStyle()===a.a.JOIN_ROUND&&(this._closingSegLengthFactor=x.MAX_CLOSING_SEG_LEN_FACTOR),this.init(n)},x.OFFSET_SEGMENT_SEPARATION_FACTOR=1e-3,x.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=1e-3,x.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,x.MAX_CLOSING_SEG_LEN_FACTOR=80},function(e,t,n){'use strict';var o=n(38),a=n(1),i=n(0);class r{constructor(){r.constructor_.apply(this,arguments)}getCoordinates(){const e=this._ptList.toArray(r.COORDINATE_ARRAY_TYPE);return e}setPrecisionModel(e){this._precisionModel=e}addPt(e){const t=new a.a(e);return this._precisionModel.makePrecise(t),this.isRedundant(t)?null:void this._ptList.add(t)}reverse(){}addPts(e,t){if(t)for(let t=0;t<e.length;t++)this.addPt(e[t]);else for(let t=e.length-1;0<=t;t--)this.addPt(e[t])}isRedundant(e){if(1>this._ptList.size())return!1;const t=this._ptList.get(this._ptList.size()-1),n=e.distance(t);return!!(n<this._minimimVertexDistance)}toString(){const e=new o.a,t=e.createLineString(this.getCoordinates());return t.toString()}closeRing(){if(1>this._ptList.size())return null;const e=new a.a(this._ptList.get(0)),t=this._ptList.get(this._ptList.size()-1);let n=null;return 2<=this._ptList.size()&&(n=this._ptList.get(this._ptList.size()-2)),e.equals(t)?null:void this._ptList.add(e)}setMinimumVertexDistance(e){this._minimimVertexDistance=e}getClass(){return r}get interfaces_(){return[]}}t.a=r,r.constructor_=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new i.a},r.COORDINATE_ARRAY_TYPE=[].fill(null)},function(e,t,n){'use strict';var o=n(3),a=n(12),i=n(1),r=n(18),s=n(72),d=n(196),l=n(73),p=n(17),_=n(0),g=n(79);class c{constructor(){c.constructor_.apply(this,arguments)}findStabbedSegments(){if(1===arguments.length){const e=arguments[0],t=new _.a;for(let n=this._subgraphs.iterator();n.hasNext();){const o=n.next(),a=o.getEnvelope();e.y<a.getMinY()||e.y>a.getMaxY()||this.findStabbedSegments(e,o.getDirectedEdges(),t)}return t}if(3===arguments.length)if(Object(o.a)(arguments[2],g.a)&&arguments[0]instanceof i.a&&arguments[1]instanceof d.a){const e=arguments[0],t=arguments[1],n=arguments[2],o=t.getEdge().getCoordinates();for(let s=0;s<o.length-1;s++){this._seg.p0=o[s],this._seg.p1=o[s+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse();const i=E(this._seg.p0.x,this._seg.p1.x);if(i<e.x)continue;if(this._seg.isHorizontal())continue;if(e.y<this._seg.p0.y||e.y>this._seg.p1.y)continue;if(r.a.index(this._seg.p0,this._seg.p1,e)===r.a.RIGHT)continue;let d=t.getDepth(a.a.LEFT);this._seg.p0.equals(o[s])||(d=t.getDepth(a.a.RIGHT));const l=new u(this._seg,d);n.add(l)}}else if(Object(o.a)(arguments[2],g.a)&&arguments[0]instanceof i.a&&Object(o.a)(arguments[1],g.a)){const e=arguments[0],t=arguments[1],n=arguments[2];for(let o=t.iterator();o.hasNext();){const t=o.next();t.isForward()&&this.findStabbedSegments(e,t,n)}}}getDepth(e){const t=this.findStabbedSegments(e);if(0===t.size())return 0;const n=s.a.min(t);return n._leftDepth}getClass(){return c}get interfaces_(){return[]}}t.a=c;class u{constructor(){u.constructor_.apply(this,arguments)}compareTo(e){const t=e;if(this._upwardSeg.minX()>=t._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=t._upwardSeg.minX())return-1;let n=this._upwardSeg.orientationIndex(t._upwardSeg);return 0===n?(n=-1*t._upwardSeg.orientationIndex(this._upwardSeg),0===n?this._upwardSeg.compareTo(t._upwardSeg):n):n}compareX(e,t){const n=e.p0.compareTo(t.p0);return 0===n?e.p1.compareTo(t.p1):n}toString(){return this._upwardSeg.toString()}getClass(){return u}get interfaces_(){return[p.a]}}u.constructor_=function(){this._upwardSeg=null,this._leftDepth=null;const e=arguments[0],t=arguments[1];this._upwardSeg=new l.a(e),this._leftDepth=t},c.DepthSegment=u,c.constructor_=function(){this._subgraphs=null,this._seg=new l.a;const e=arguments[0];this._subgraphs=e}},function(e,t,n){'use strict';var o=n(9),a=n(27),r=n(12),i=n(69),s=n(86),l=n(52),p=n(84),_=n(53),g=n(18),c=n(70),u=n(29),y=n(24),m=n(49),h=n(0),f=n(109),x=n(50),I=n(345);class E{constructor(){E.constructor_.apply(this,arguments)}addPoint(e){if(0>=this._distance)return null;const t=e.getCoordinates(),n=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(n,o.a.EXTERIOR,o.a.INTERIOR)}addPolygon(e){let t=this._distance,n=r.a.LEFT;0>this._distance&&(t=-this._distance,n=r.a.RIGHT);const a=e.getExteriorRing(),i=m.a.removeRepeatedPoints(a.getCoordinates());if(0>this._distance&&this.isErodedCompletely(a,this._distance))return null;if(0>=this._distance&&3>i.length)return null;this.addPolygonRing(i,t,n,o.a.EXTERIOR,o.a.INTERIOR);for(let a=0;a<e.getNumInteriorRing();a++){const i=e.getInteriorRingN(a),s=m.a.removeRepeatedPoints(i.getCoordinates());0<this._distance&&this.isErodedCompletely(i,-this._distance)||this.addPolygonRing(s,t,r.a.opposite(n),o.a.INTERIOR,o.a.EXTERIOR)}}isTriangleErodedCompletely(e,t){const n=new I.a(e[0],e[1],e[2]),o=n.inCentre(),a=f.a.pointToSegment(o,n.p0,n.p1);return a<d(t)}addLineString(e){if(0>=this._distance&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;const t=m.a.removeRepeatedPoints(e.getCoordinates()),n=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(n,o.a.EXTERIOR,o.a.INTERIOR)}addCurve(t,n,a){if(null===t||2>t.length)return null;const i=new s.a(t,new u.a(0,o.a.BOUNDARY,n,a));this._curveList.add(i)}getCurves(){return this.add(this._inputGeom),this._curveList}addPolygonRing(e,t,n,o,a){if(0===t&&e.length<_.a.MINIMUM_VALID_SIZE)return null;let i=o,s=a;e.length>=_.a.MINIMUM_VALID_SIZE&&g.a.isCCW(e)&&(i=a,s=o,n=r.a.opposite(n));const d=this._curveBuilder.getRingCurve(e,n,t);this.addCurve(d,i,s)}add(e){if(e.isEmpty())return null;if(e instanceof l.a)this.addPolygon(e);else if(e instanceof a.a)this.addLineString(e);else if(e instanceof i.a)this.addPoint(e);else if(e instanceof p.a)this.addCollection(e);else if(e instanceof x.a)this.addCollection(e);else if(e instanceof c.a)this.addCollection(e);else if(e instanceof y.a)this.addCollection(e);else throw new UnsupportedOperationException(e.getClass().getName())}isErodedCompletely(e,t){const n=e.getCoordinates();if(4>n.length)return 0>t;if(4===n.length)return this.isTriangleErodedCompletely(n,t);const o=e.getEnvelopeInternal(),a=C(o.getHeight(),o.getWidth());return 0>t&&2*d(t)>a}addCollection(e){for(let t=0;t<e.getNumGeometries();t++){const n=e.getGeometryN(t);this.add(n)}}getClass(){return E}get interfaces_(){return[]}}t.a=E,E.constructor_=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new h.a;const e=arguments[0],t=arguments[1],n=arguments[2];this._inputGeom=e,this._distance=t,this._curveBuilder=n}},function(e,t,n){'use strict';var o=n(1),a=n(6),i=n(204),r=n(108);class s{constructor(){s.constructor_.apply(this,arguments)}static area(e,t,n){return d(((n.x-e.x)*(t.y-e.y)-(t.x-e.x)*(n.y-e.y))/2)}static signedArea(e,t,n){return((n.x-e.x)*(t.y-e.y)-(t.x-e.x)*(n.y-e.y))/2}static det(e,t,n,o){return e*o-t*n}static interpolateZ(e,t,n,o){const i=t.x,r=t.y,s=n.x-i,a=o.x-i,l=n.y-r,p=o.y-r,d=s*p-a*l,_=e.x-i,g=e.y-r,u=t.z+(p*_-a*g)/d*(n.z-t.z)+(-l*_+s*g)/d*(o.z-t.z);return u}static longestSideLength(e,t,n){const o=e.distance(t),a=t.distance(n),i=n.distance(e);let r=o;return a>r&&(r=a),i>r&&(r=i),r}static isAcute(e,t,n){return!!i.a.isAcute(e,t,n)&&!!i.a.isAcute(t,n,e)&&!!i.a.isAcute(n,e,t)}static circumcentre(e,t,n){const a=n.x,i=n.y,r=e.x-a,d=e.y-i,l=t.x-a,p=t.y-i,_=2*s.det(r,d,l,p),g=s.det(d,r*r+d*d,p,l*l+p*p),c=s.det(r,r*r+d*d,l,l*l+p*p);return new o.a(a-g/_,i+c/_)}static perpendicularBisector(e,t){const n=t.x-e.x,o=t.y-e.y,a=new r.a(e.x+n/2,e.y+o/2,1),i=new r.a(e.x-o+n/2,e.y+n+o/2,1);return new r.a(a,i)}static angleBisector(e,t,n){const a=t.distance(e),i=t.distance(n),r=a/(a+i),s=n.x-e.x,d=n.y-e.y,l=new o.a(e.x+r*s,e.y+r*d);return l}static area3D(e,t,n){const o=t.x-e.x,a=t.y-e.y,i=t.z-e.z,r=n.x-e.x,s=n.y-e.y,d=n.z-e.z,l=a*d-i*s,p=i*r-o*d,_=o*s-a*r,g=T(l*l+p*p+_*_)/2;return g}static centroid(e,t,n){const a=(e.x+t.x+n.x)/3,i=(e.y+t.y+n.y)/3;return new o.a(a,i)}static inCentre(e,t,n){const a=t.distance(n),i=e.distance(n),r=e.distance(t),s=a+i+r,d=(a*e.x+i*t.x+r*n.x)/s,l=(a*e.y+i*t.y+r*n.y)/s;return new o.a(d,l)}area(){return s.area(this.p0,this.p1,this.p2)}signedArea(){return s.signedArea(this.p0,this.p1,this.p2)}interpolateZ(e){if(null===e)throw new a.a('Supplied point is null.');return s.interpolateZ(e,this.p0,this.p1,this.p2)}longestSideLength(){return s.longestSideLength(this.p0,this.p1,this.p2)}isAcute(){return s.isAcute(this.p0,this.p1,this.p2)}circumcentre(){return s.circumcentre(this.p0,this.p1,this.p2)}area3D(){return s.area3D(this.p0,this.p1,this.p2)}centroid(){return s.centroid(this.p0,this.p1,this.p2)}inCentre(){return s.inCentre(this.p0,this.p1,this.p2)}getClass(){return s}get interfaces_(){return[]}}t.a=s,s.constructor_=function(){this.p0=null,this.p1=null,this.p2=null;const e=arguments[0],t=arguments[1],n=arguments[2];this.p0=e,this.p1=t,this.p2=n}},function(e,t,n){'use strict';var o=n(9),a=n(12),i=n(39),r=n(347),s=n(28),d=n(29),l=n(0),p=n(85),_=n(4);class g extends r.a{constructor(){super(),g.constructor_.apply(this,arguments)}linkResultDirectedEdges(){this.getResultAreaEdges();let e=null,t=null,n=this._SCANNING_FOR_INCOMING;for(let o=0;o<this._resultAreaEdgeList.size();o++){const a=this._resultAreaEdgeList.get(o),i=a.getSym();if(a.getLabel().isArea())switch(null==e&&a.isInResult()&&(e=a),n){case this._SCANNING_FOR_INCOMING:if(!i.isInResult())continue;t=i,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!a.isInResult())continue;t.setNext(a),n=this._SCANNING_FOR_INCOMING;}}if(n===this._LINKING_TO_OUTGOING){if(null===e)throw new i.a('no outgoing dirEdge found',this.getCoordinate());_.a.isTrue(e.isInResult(),'unable to link last incoming dirEdge'),t.setNext(e)}}insert(e){const t=e;this.insertEdgeEnd(t,t)}getRightmostEdge(){const e=this.getEdges(),t=e.size();if(1>t)return null;const n=e.get(0);if(1===t)return n;const o=e.get(t-1),a=n.getQuadrant(),i=o.getQuadrant();if(p.a.isNorthern(a)&&p.a.isNorthern(i))return n;if(!p.a.isNorthern(a)&&!p.a.isNorthern(i))return o;else{if(0!==n.getDy())return n;if(0!==o.getDy())return o}return _.a.shouldNeverReachHere('found two horizontal edges incident on node'),null}print(e){s.a.out.println('DirectedEdgeStar: '+this.getCoordinate());for(let t=this.iterator();t.hasNext();){const n=t.next();e.print('out '),n.print(e),e.println(),e.print('in '),n.getSym().print(e),e.println()}}getResultAreaEdges(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new l.a;for(let e=this.iterator();e.hasNext();){const t=e.next();(t.isInResult()||t.getSym().isInResult())&&this._resultAreaEdgeList.add(t)}return this._resultAreaEdgeList}updateLabelling(e){for(let t=this.iterator();t.hasNext();){const n=t.next(),o=n.getLabel();o.setAllLocationsIfNull(0,e.getLocation(0)),o.setAllLocationsIfNull(1,e.getLocation(1))}}linkAllDirectedEdges(){this.getEdges();let e=null,t=null;for(let n=this._edgeList.size()-1;0<=n;n--){const o=this._edgeList.get(n),a=o.getSym();null==t&&(t=a),null!=e&&a.setNext(e),e=o}t.setNext(e)}computeDepths(){if(1===arguments.length){const e=arguments[0],t=this.findIndex(e),n=e.getDepth(a.a.LEFT),o=e.getDepth(a.a.RIGHT),r=this.computeDepths(t+1,this._edgeList.size(),n),s=this.computeDepths(0,t,r);if(s!==o)throw new i.a('depth mismatch at '+e.getCoordinate())}else if(3===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2];let o=n;for(let n=e;n<t;n++){const e=this._edgeList.get(n);e.setEdgeDepths(a.a.RIGHT,o),o=e.getDepth(a.a.LEFT)}return o}}mergeSymLabels(){for(let e=this.iterator();e.hasNext();){const t=e.next(),n=t.getLabel();n.merge(t.getSym().getLabel())}}linkMinimalDirectedEdges(e){let t=null,n=null,o=this._SCANNING_FOR_INCOMING;for(let a=this._resultAreaEdgeList.size()-1;0<=a;a--){const i=this._resultAreaEdgeList.get(a),r=i.getSym();switch(null==t&&i.getEdgeRing()===e&&(t=i),o){case this._SCANNING_FOR_INCOMING:if(r.getEdgeRing()!==e)continue;n=r,o=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(i.getEdgeRing()!==e)continue;n.setNextMin(i),o=this._SCANNING_FOR_INCOMING;}}o===this._LINKING_TO_OUTGOING&&(_.a.isTrue(null!==t,'found null for first outgoing dirEdge'),_.a.isTrue(t.getEdgeRing()===e,'unable to link last incoming dirEdge'),n.setNextMin(t))}getOutgoingDegree(){if(0===arguments.length){let e=0;for(let t=this.iterator();t.hasNext();){const n=t.next();n.isInResult()&&e++}return e}if(1===arguments.length){const e=arguments[0];let t=0;for(let n=this.iterator();n.hasNext();){const o=n.next();o.getEdgeRing()===e&&t++}return t}}getLabel(){return this._label}findCoveredLineEdges(){let e=o.a.NONE;for(let t=this.iterator();t.hasNext();){const n=t.next(),a=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){e=o.a.INTERIOR;break}if(a.isInResult()){e=o.a.EXTERIOR;break}}}if(e===o.a.NONE)return null;let t=e;for(let e=this.iterator();e.hasNext();){const n=e.next(),a=n.getSym();n.isLineEdge()?n.getEdge().setCovered(t===o.a.INTERIOR):(n.isInResult()&&(t=o.a.EXTERIOR),a.isInResult()&&(t=o.a.INTERIOR))}}computeLabelling(e){super.computeLabelling.call(this,e),this._label=new d.a(o.a.NONE);for(let t=this.iterator();t.hasNext();){const n=t.next(),a=n.getEdge(),e=a.getLabel();for(let t=0;2>t;t++){const n=e.getLocation(t);(n===o.a.INTERIOR||n===o.a.BOUNDARY)&&this._label.setLocation(t,o.a.INTERIOR)}}}getClass(){return g}get interfaces_(){return[]}}t.a=g,g.constructor_=function(){this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}},function(e,t,n){'use strict';var o=n(104),a=n(9),i=n(12),r=n(39),s=n(28),d=n(348),l=n(0),p=n(4),_=n(68);class g{constructor(){g.constructor_.apply(this,arguments)}getNextCW(e){this.getEdges();const t=this._edgeList.indexOf(e);let n=t-1;return 0===t&&(n=this._edgeList.size()-1),this._edgeList.get(n)}propagateSideLabels(t){let n=a.a.NONE;for(let o=this.iterator();o.hasNext();){const r=o.next(),e=r.getLabel();e.isArea(t)&&e.getLocation(t,i.a.LEFT)!==a.a.NONE&&(n=e.getLocation(t,i.a.LEFT))}if(n===a.a.NONE)return null;let o=n;for(let n=this.iterator();n.hasNext();){const s=n.next(),e=s.getLabel();if(e.getLocation(t,i.a.ON)===a.a.NONE&&e.setLocation(t,i.a.ON,o),e.isArea(t)){const n=e.getLocation(t,i.a.LEFT),d=e.getLocation(t,i.a.RIGHT);if(d!==a.a.NONE){if(d!==o)throw new r.a('side location conflict',s.getCoordinate());n===a.a.NONE&&p.a.shouldNeverReachHere('found single null side (at '+s.getCoordinate()+')'),o=n}else p.a.isTrue(e.getLocation(t,i.a.LEFT)===a.a.NONE,'found single null side'),e.setLocation(t,i.a.RIGHT,o),e.setLocation(t,i.a.LEFT,o)}}}getCoordinate(){const t=this.iterator();if(!t.hasNext())return null;const n=t.next();return n.getCoordinate()}print(t){s.a.out.println('EdgeEndStar:   '+this.getCoordinate());for(let n=this.iterator();n.hasNext();){const o=n.next();o.print(t)}}isAreaLabelsConsistent(e){return this.computeEdgeEndLabels(e.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)}checkAreaLabelsConsistent(t){const e=this.getEdges();if(0>=e.size())return!0;const n=e.size()-1,o=e.get(n).getLabel(),r=o.getLocation(t,i.a.LEFT);p.a.isTrue(r!==a.a.NONE,'Found unlabelled area edge');let s=r;for(let n=this.iterator();n.hasNext();){const o=n.next(),e=o.getLabel();p.a.isTrue(e.isArea(t),'Found non-area edge');const a=e.getLocation(t,i.a.LEFT),r=e.getLocation(t,i.a.RIGHT);if(a===r)return!1;if(r!==s)return!1;s=a}return!0}findIndex(t){this.iterator();for(let n=0;n<this._edgeList.size();n++){const o=this._edgeList.get(n);if(o===t)return n}return-1}iterator(){return this.getEdges().iterator()}getEdges(){return null===this._edgeList&&(this._edgeList=new l.a(this._edgeMap.values())),this._edgeList}getLocation(e,t,n){return this._ptInAreaLocation[e]===a.a.NONE&&(this._ptInAreaLocation[e]=d.a.locate(t,n[e].getGeometry())),this._ptInAreaLocation[e]}toString(){const t=new o.a;t.append('EdgeEndStar:   '+this.getCoordinate()),t.append('\n');for(let n=this.iterator();n.hasNext();){const o=n.next();t.append(o),t.append('\n')}return t.toString()}computeEdgeEndLabels(e){for(let t=this.iterator();t.hasNext();){const n=t.next();n.computeLabel(e)}}computeLabelling(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);const n=[!1,!1];for(let o=this.iterator();o.hasNext();){const t=o.next(),e=t.getLabel();for(let t=0;2>t;t++)e.isLine(t)&&e.getLocation(t)===a.a.BOUNDARY&&(n[t]=!0)}for(let o=this.iterator();o.hasNext();){const i=o.next(),e=i.getLabel();for(let o=0;2>o;o++)if(e.isAnyNull(o)){let r=a.a.NONE;if(n[o])r=a.a.EXTERIOR;else{const e=i.getCoordinate();r=this.getLocation(o,e,t)}e.setAllLocationsIfNull(o,r)}}}getDegree(){return this._edgeMap.size()}insertEdgeEnd(t,e){this._edgeMap.put(t,e),this._edgeList=null}getClass(){return g}get interfaces_(){return[]}}t.a=g,g.constructor_=function(){this._edgeMap=new _.a,this._edgeList=null,this._ptInAreaLocation=[a.a.NONE,a.a.NONE]}},function(e,t,n){'use strict';var o=n(9),a=n(52),i=n(106),r=n(206),s=n(207),d=n(24);class l{constructor(){l.constructor_.apply(this,arguments)}static locatePointInPolygon(e,t){if(t.isEmpty())return o.a.EXTERIOR;const n=t.getExteriorRing(),a=l.locatePointInRing(e,n);if(a!==o.a.INTERIOR)return a;for(let n=0;n<t.getNumInteriorRing();n++){const a=t.getInteriorRingN(n),i=l.locatePointInRing(e,a);if(i===o.a.BOUNDARY)return o.a.BOUNDARY;if(i===o.a.INTERIOR)return o.a.EXTERIOR}return o.a.INTERIOR}static locatePointInRing(e,t){return t.getEnvelopeInternal().intersects(e)?i.a.locateInRing(e,t.getCoordinates()):o.a.EXTERIOR}static containsPointInPolygon(e,t){return o.a.EXTERIOR!==l.locatePointInPolygon(e,t)}static locateInGeometry(e,t){if(t instanceof a.a)return l.locatePointInPolygon(e,t);if(t instanceof d.a)for(const n=new s.a(t);n.hasNext();){const a=n.next();if(a!==t){const t=l.locateInGeometry(e,a);if(t!==o.a.EXTERIOR)return t}}return o.a.EXTERIOR}static locate(e,t){return t.isEmpty()?o.a.EXTERIOR:l.locateInGeometry(e,t)}locate(e){return l.locate(e,this._geom)}getClass(){return l}get interfaces_(){return[r.a]}}t.a=l,l.constructor_=function(){this._geom=null;const e=arguments[0];this._geom=e}},function(e,t,n){'use strict';var o=n(17),a=n(49);class i{constructor(){i.constructor_.apply(this,arguments)}static orientation(e){return 1===a.a.increasingDirection(e)}static compareOriented(e,t,n,o){const a=t?1:-1,i=o?1:-1,r=t?e.length:-1,s=o?n.length:-1;let d=t?0:e.length-1,l=o?0:n.length-1;for(;;){const t=e[d].compareTo(n[l]);if(0!==t)return t;d+=a,l+=i;const o=d===r,p=l===s;if(o&&!p)return-1;if(!o&&p)return 1;if(o&&p)return 0}}compareTo(e){const t=e,n=i.compareOriented(this._pts,this._orientation,t._pts,t._orientation);return n}getClass(){return i}get interfaces_(){return[o.a]}}t.a=i,i.constructor_=function(){this._pts=null,this._orientation=null;const e=arguments[0];this._pts=e,this._orientation=i.orientation(e)}},function(e,t,n){'use strict';var o=n(136);class a{constructor(){a.constructor_.apply(this,arguments)}static isAdjacentSegments(e,t){return 1===d(e-t)}isTrivialIntersection(e,t,n,o){if(e===n&&1===this._li.getIntersectionNum()){if(a.isAdjacentSegments(t,o))return!0;if(e.isClosed()){const n=e.size()-1;if(0===t&&o===n||0===o&&t===n)return!0}}return!1}getProperIntersectionPoint(){return this._properIntersectionPoint}hasProperInteriorIntersection(){return this._hasProperInterior}getLineIntersector(){return this._li}hasProperIntersection(){return this._hasProper}processIntersections(e,t,n,o){if(e===n&&t===o)return null;this.numTests++;const a=e.getCoordinates()[t],i=e.getCoordinates()[t+1],r=n.getCoordinates()[o],s=n.getCoordinates()[o+1];this._li.computeIntersection(a,i,r,s),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),!this.isTrivialIntersection(e,t,n,o)&&(this._hasIntersection=!0,e.addIntersections(this._li,t,0),n.addIntersections(this._li,o,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))}hasIntersection(){return this._hasIntersection}isDone(){return!1}hasInteriorIntersection(){return this._hasInterior}getClass(){return a}get interfaces_(){return[o.a]}}t.a=a,a.constructor_=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;const e=arguments[0];this._li=e}},function(e,t,n){'use strict';var o=n(352),a=n(1),i=n(29),r=n(137),s=n(68);class d{constructor(){d.constructor_.apply(this,arguments)}print(e){e.println('Intersections:');for(let t=this.iterator();t.hasNext();){const n=t.next();n.print(e)}}iterator(){return this._nodeMap.values().iterator()}addSplitEdges(e){this.addEndpoints();const t=this.iterator();for(let n=t.next();t.hasNext();){const o=t.next(),a=this.createSplitEdge(n,o);e.add(a),n=o}}addEndpoints(){const e=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[e],e,0)}createSplitEdge(e,t){let n=t.segmentIndex-e.segmentIndex+2;const o=this.edge.pts[t.segmentIndex],s=0<t.dist||!t.coord.equals2D(o);s||n--;const d=Array(n).fill(null);let l=0;d[l++]=new a.a(e.coord);for(let n=e.segmentIndex+1;n<=t.segmentIndex;n++)d[l++]=this.edge.pts[n];return s&&(d[l]=t.coord),new r.a(d,new i.a(this.edge._label))}add(e,t,n){const a=new o.a(e,t,n),i=this._nodeMap.get(a);return null===i?(this._nodeMap.put(a,a),a):i}isIntersection(e){for(let t=this.iterator();t.hasNext();){const n=t.next();if(n.coord.equals(e))return!0}return!1}getClass(){return d}get interfaces_(){return[]}}t.a=d,d.constructor_=function(){this._nodeMap=new s.a,this.edge=null;const e=arguments[0];this.edge=e}},function(e,t,n){'use strict';var o=n(1),a=n(17);class i{constructor(){i.constructor_.apply(this,arguments)}getSegmentIndex(){return this.segmentIndex}getCoordinate(){return this.coord}print(e){e.print(this.coord),e.print(' seg # = '+this.segmentIndex),e.println(' dist = '+this.dist)}compareTo(e){const t=e;return this.compare(t.segmentIndex,t.dist)}isEndPoint(e){return 0===this.segmentIndex&&0===this.dist||!(this.segmentIndex!==e)}toString(){return this.coord+' seg # = '+this.segmentIndex+' dist = '+this.dist}getDistance(){return this.dist}compare(e,t){return this.segmentIndex<e?-1:this.segmentIndex>e?1:this.dist<t?-1:this.dist>t?1:0}getClass(){return i}get interfaces_(){return[a.a]}}t.a=i,i.constructor_=function(){this.coord=null,this.segmentIndex=null,this.dist=null;const e=arguments[0],t=arguments[1],n=arguments[2];this.coord=new o.a(e),this.segmentIndex=t,this.dist=n}},function(e,t,n){'use strict';var a=n(9),i=n(6),r=n(51),s=n(77),d=n(81);class l{constructor(){l.constructor_.apply(this,arguments)}static matches(){if(o(arguments[0])&&'string'==typeof arguments[1]){const e=arguments[0],t=arguments[1];return!(t!==r.a.SYM_DONTCARE)||t===r.a.SYM_TRUE&&(0<=e||e===r.a.TRUE)||t===r.a.SYM_FALSE&&e===r.a.FALSE||t===r.a.SYM_P&&e===r.a.P||t===r.a.SYM_L&&e===r.a.L||t===r.a.SYM_A&&e===r.a.A}if('string'==typeof arguments[0]&&'string'==typeof arguments[1]){const e=arguments[0],t=arguments[1],n=new l(e);return n.matches(t)}}static isTrue(e){return 0<=e||e===r.a.TRUE}isIntersects(){return!this.isDisjoint()}isCovers(){const e=l.isTrue(this._matrix[a.a.INTERIOR][a.a.INTERIOR])||l.isTrue(this._matrix[a.a.INTERIOR][a.a.BOUNDARY])||l.isTrue(this._matrix[a.a.BOUNDARY][a.a.INTERIOR])||l.isTrue(this._matrix[a.a.BOUNDARY][a.a.BOUNDARY]);return e&&this._matrix[a.a.EXTERIOR][a.a.INTERIOR]===r.a.FALSE&&this._matrix[a.a.EXTERIOR][a.a.BOUNDARY]===r.a.FALSE}isCoveredBy(){const e=l.isTrue(this._matrix[a.a.INTERIOR][a.a.INTERIOR])||l.isTrue(this._matrix[a.a.INTERIOR][a.a.BOUNDARY])||l.isTrue(this._matrix[a.a.BOUNDARY][a.a.INTERIOR])||l.isTrue(this._matrix[a.a.BOUNDARY][a.a.BOUNDARY]);return e&&this._matrix[a.a.INTERIOR][a.a.EXTERIOR]===r.a.FALSE&&this._matrix[a.a.BOUNDARY][a.a.EXTERIOR]===r.a.FALSE}set(){if(1===arguments.length){const e=arguments[0];for(let t=0;t<e.length;t++){const n=c(t/3),o=t%3;this._matrix[n][o]=r.a.toDimensionValue(e.charAt(t))}}else if(3===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2];this._matrix[e][t]=n}}isContains(){return l.isTrue(this._matrix[a.a.INTERIOR][a.a.INTERIOR])&&this._matrix[a.a.EXTERIOR][a.a.INTERIOR]===r.a.FALSE&&this._matrix[a.a.EXTERIOR][a.a.BOUNDARY]===r.a.FALSE}setAtLeast(){if(1===arguments.length){const e=arguments[0];for(let t=0;t<e.length;t++){const n=c(t/3),o=t%3;this.setAtLeast(n,o,r.a.toDimensionValue(e.charAt(t)))}}else if(3===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2];this._matrix[e][t]<n&&(this._matrix[e][t]=n)}}setAtLeastIfValid(e,t,n){0<=e&&0<=t&&this.setAtLeast(e,t,n)}isWithin(){return l.isTrue(this._matrix[a.a.INTERIOR][a.a.INTERIOR])&&this._matrix[a.a.INTERIOR][a.a.EXTERIOR]===r.a.FALSE&&this._matrix[a.a.BOUNDARY][a.a.EXTERIOR]===r.a.FALSE}isTouches(e,t){return e>t?this.isTouches(t,e):(e===r.a.A&&t===r.a.A||e===r.a.L&&t===r.a.L||e===r.a.L&&t===r.a.A||e===r.a.P&&t===r.a.A||e===r.a.P&&t===r.a.L)&&this._matrix[a.a.INTERIOR][a.a.INTERIOR]===r.a.FALSE&&(l.isTrue(this._matrix[a.a.INTERIOR][a.a.BOUNDARY])||l.isTrue(this._matrix[a.a.BOUNDARY][a.a.INTERIOR])||l.isTrue(this._matrix[a.a.BOUNDARY][a.a.BOUNDARY]))}isOverlaps(e,t){return e===r.a.P&&t===r.a.P||e===r.a.A&&t===r.a.A?l.isTrue(this._matrix[a.a.INTERIOR][a.a.INTERIOR])&&l.isTrue(this._matrix[a.a.INTERIOR][a.a.EXTERIOR])&&l.isTrue(this._matrix[a.a.EXTERIOR][a.a.INTERIOR]):e===r.a.L&&t===r.a.L&&1===this._matrix[a.a.INTERIOR][a.a.INTERIOR]&&l.isTrue(this._matrix[a.a.INTERIOR][a.a.EXTERIOR])&&l.isTrue(this._matrix[a.a.EXTERIOR][a.a.INTERIOR])}isEquals(e,t){return!(e!==t)&&l.isTrue(this._matrix[a.a.INTERIOR][a.a.INTERIOR])&&this._matrix[a.a.INTERIOR][a.a.EXTERIOR]===r.a.FALSE&&this._matrix[a.a.BOUNDARY][a.a.EXTERIOR]===r.a.FALSE&&this._matrix[a.a.EXTERIOR][a.a.INTERIOR]===r.a.FALSE&&this._matrix[a.a.EXTERIOR][a.a.BOUNDARY]===r.a.FALSE}toString(){const e=new d.a('123456789');for(let t=0;3>t;t++)for(let n=0;3>n;n++)e.setCharAt(3*t+n,r.a.toDimensionSymbol(this._matrix[t][n]));return e.toString()}setAll(e){for(let t=0;3>t;t++)for(let n=0;3>n;n++)this._matrix[t][n]=e}get(e,t){return this._matrix[e][t]}transpose(){let e=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=e,e=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=e,e=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=e,this}matches(e){if(9!==e.length)throw new i.a('Should be length 9: '+e);for(let t=0;3>t;t++)for(let n=0;3>n;n++)if(!l.matches(this._matrix[t][n],e.charAt(3*t+n)))return!1;return!0}add(e){for(let t=0;3>t;t++)for(let n=0;3>n;n++)this.setAtLeast(t,n,e.get(t,n))}isDisjoint(){return this._matrix[a.a.INTERIOR][a.a.INTERIOR]===r.a.FALSE&&this._matrix[a.a.INTERIOR][a.a.BOUNDARY]===r.a.FALSE&&this._matrix[a.a.BOUNDARY][a.a.INTERIOR]===r.a.FALSE&&this._matrix[a.a.BOUNDARY][a.a.BOUNDARY]===r.a.FALSE}isCrosses(e,t){return e===r.a.P&&t===r.a.L||e===r.a.P&&t===r.a.A||e===r.a.L&&t===r.a.A?l.isTrue(this._matrix[a.a.INTERIOR][a.a.INTERIOR])&&l.isTrue(this._matrix[a.a.INTERIOR][a.a.EXTERIOR]):e===r.a.L&&t===r.a.P||e===r.a.A&&t===r.a.P||e===r.a.A&&t===r.a.L?l.isTrue(this._matrix[a.a.INTERIOR][a.a.INTERIOR])&&l.isTrue(this._matrix[a.a.EXTERIOR][a.a.INTERIOR]):e===r.a.L&&t===r.a.L&&0===this._matrix[a.a.INTERIOR][a.a.INTERIOR]}getClass(){return l}get interfaces_(){return[s.a]}}t.a=l,l.constructor_=function(){if(this._matrix=null,0===arguments.length)this._matrix=[,,,].fill().map(()=>[,,,]),this.setAll(r.a.FALSE);else if(1===arguments.length)if('string'==typeof arguments[0]){const e=arguments[0];l.constructor_.call(this),this.set(e)}else if(arguments[0]instanceof l){const e=arguments[0];l.constructor_.call(this),this._matrix[a.a.INTERIOR][a.a.INTERIOR]=e._matrix[a.a.INTERIOR][a.a.INTERIOR],this._matrix[a.a.INTERIOR][a.a.BOUNDARY]=e._matrix[a.a.INTERIOR][a.a.BOUNDARY],this._matrix[a.a.INTERIOR][a.a.EXTERIOR]=e._matrix[a.a.INTERIOR][a.a.EXTERIOR],this._matrix[a.a.BOUNDARY][a.a.INTERIOR]=e._matrix[a.a.BOUNDARY][a.a.INTERIOR],this._matrix[a.a.BOUNDARY][a.a.BOUNDARY]=e._matrix[a.a.BOUNDARY][a.a.BOUNDARY],this._matrix[a.a.BOUNDARY][a.a.EXTERIOR]=e._matrix[a.a.BOUNDARY][a.a.EXTERIOR],this._matrix[a.a.EXTERIOR][a.a.INTERIOR]=e._matrix[a.a.EXTERIOR][a.a.INTERIOR],this._matrix[a.a.EXTERIOR][a.a.BOUNDARY]=e._matrix[a.a.EXTERIOR][a.a.BOUNDARY],this._matrix[a.a.EXTERIOR][a.a.EXTERIOR]=e._matrix[a.a.EXTERIOR][a.a.EXTERIOR]}}},function(e,t,n){'use strict';var o=n(355),a=n(22);class i{constructor(){i.constructor_.apply(this,arguments)}getCoordinates(){return this.pts}getMaxX(e){const t=this.pts[this.startIndex[e]].x,n=this.pts[this.startIndex[e+1]].x;return t>n?t:n}getMinX(e){const t=this.pts[this.startIndex[e]].x,n=this.pts[this.startIndex[e+1]].x;return t<n?t:n}computeIntersectsForChain(){if(4===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2],o=arguments[3];this.computeIntersectsForChain(this.startIndex[e],this.startIndex[e+1],t,t.startIndex[n],t.startIndex[n+1],o)}else if(6===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2],o=arguments[3],a=arguments[4],i=arguments[5];if(1==t-e&&1==a-o)return i.addIntersections(this.e,e,n.e,o),null;if(!this.overlaps(e,t,n,o,a))return null;const r=c((e+t)/2),s=c((o+a)/2);e<r&&(o<s&&this.computeIntersectsForChain(e,r,n,o,s,i),s<a&&this.computeIntersectsForChain(e,r,n,s,a,i)),r<t&&(o<s&&this.computeIntersectsForChain(r,t,n,o,s,i),s<a&&this.computeIntersectsForChain(r,t,n,s,a,i))}}overlaps(e,t,n,o,i){return a.a.intersects(this.pts[e],this.pts[t],n.pts[o],n.pts[i])}getStartIndexes(){return this.startIndex}computeIntersects(e,t){for(let n=0;n<this.startIndex.length-1;n++)for(let o=0;o<e.startIndex.length-1;o++)this.computeIntersectsForChain(n,e,o,t)}getClass(){return i}get interfaces_(){return[]}}t.a=i,i.constructor_=function(){this.e=null,this.pts=null,this.startIndex=null;const t=arguments[0];this.e=t,this.pts=t.getCoordinates();const e=new o.a;this.startIndex=e.getChainStartIndices(this.pts)}},function(e,t,n){'use strict';var o=n(82),a=n(0),i=n(85);class r{constructor(){r.constructor_.apply(this,arguments)}static toIntArray(e){const t=Array(e.size()).fill(null);for(let n=0;n<t.length;n++)t[n]=e.get(n).intValue();return t}getChainStartIndices(e){let t=0;const n=new a.a;n.add(new o.a(t));do{const a=this.findChainEnd(e,t);n.add(new o.a(a)),t=a}while(t<e.length-1);const i=r.toIntArray(n);return i}findChainEnd(e,t){const n=i.a.quadrant(e[t],e[t+1]);let o=t+1;for(;o<e.length;){const t=i.a.quadrant(e[o-1],e[o]);if(t!==n)break;o++}return o-1}getClass(){return r}get interfaces_(){return[]}}t.a=r,r.constructor_=function(){}},function(e,t,n){'use strict';var o=n(9),a=n(12);class r{constructor(){r.constructor_.apply(this,arguments)}static depthAtLocation(e){return e===o.a.EXTERIOR?0:e===o.a.INTERIOR?1:r.NULL_VALUE}getDepth(e,t){return this._depth[e][t]}setDepth(e,t,n){this._depth[e][t]=n}isNull(){if(0===arguments.length){for(let e=0;2>e;e++)for(let t=0;3>t;t++)if(this._depth[e][t]!==r.NULL_VALUE)return!1;return!0}if(1===arguments.length){const e=arguments[0];return this._depth[e][1]===r.NULL_VALUE}if(2===arguments.length){const e=arguments[0],t=arguments[1];return this._depth[e][t]===r.NULL_VALUE}}normalize(){for(let e=0;2>e;e++)if(!this.isNull(e)){let t=this._depth[e][1];this._depth[e][2]<t&&(t=this._depth[e][2]),0>t&&(t=0);for(let n=1,o;3>n;n++)o=0,this._depth[e][n]>t&&(o=1),this._depth[e][n]=o}}getDelta(e){return this._depth[e][a.a.RIGHT]-this._depth[e][a.a.LEFT]}getLocation(e,t){return 0>=this._depth[e][t]?o.a.EXTERIOR:o.a.INTERIOR}toString(){return'A: '+this._depth[0][1]+','+this._depth[0][2]+' B: '+this._depth[1][1]+','+this._depth[1][2]}add(){if(1===arguments.length){const e=arguments[0];for(let t=0;2>t;t++)for(let n=1;3>n;n++){const a=e.getLocation(t,n);(a===o.a.EXTERIOR||a===o.a.INTERIOR)&&(this.isNull(t,n)?this._depth[t][n]=r.depthAtLocation(a):this._depth[t][n]+=r.depthAtLocation(a))}}else if(3===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2];n===o.a.INTERIOR&&this._depth[e][t]++}}getClass(){return r}get interfaces_(){return[]}}t.a=r,r.constructor_=function(){this._depth=[,,].fill().map(()=>[,,,]);for(let e=0;2>e;e++)for(let t=0;3>t;t++)this._depth[e][t]=r.NULL_VALUE},r.NULL_VALUE=-1},function(e,t,o){'use strict';var a=o(3),i=o(34),r=o(135),s=o(1),d=o(86),l=o(28),p=o(49),_=o(0);class g{constructor(){g.constructor_.apply(this,arguments)}rescale(){if(Object(a.a)(arguments[0],i.a)){const e=arguments[0];for(let t=e.iterator();t.hasNext();){const e=t.next();this.rescale(e.getCoordinates())}}else if(arguments[0]instanceof Array){const e=arguments[0];let t=null,n=null;2===e.length&&(t=new s.a(e[0]),n=new s.a(e[1]));for(let t=0;t<e.length;t++)e[t].x=e[t].x/this._scaleFactor+this._offsetX,e[t].y=e[t].y/this._scaleFactor+this._offsetY;2===e.length&&e[0].equals2D(e[1])&&l.a.out.println(e)}}scale(){if(Object(a.a)(arguments[0],i.a)){const e=arguments[0],t=new _.a(e.size());for(let n=e.iterator();n.hasNext();){const e=n.next();t.add(new d.a(this.scale(e.getCoordinates()),e.getData()))}return t}if(arguments[0]instanceof Array){const e=arguments[0],t=Array(e.length).fill(null);for(let o=0;o<e.length;o++)t[o]=new s.a(n((e[o].x-this._offsetX)*this._scaleFactor),n((e[o].y-this._offsetY)*this._scaleFactor),e[o].z);const o=p.a.removeRepeatedPoints(t);return o}}isIntegerPrecision(){return 1===this._scaleFactor}getNodedSubstrings(){const e=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(e),e}computeNodes(e){let t=e;this._isScaled&&(t=this.scale(e)),this._noder.computeNodes(t)}getClass(){return g}get interfaces_(){return[r.a]}}t.a=g,g.constructor_=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){const e=arguments[0],t=arguments[1];g.constructor_.call(this,e,t,0,0)}else if(4===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2],o=arguments[3];this._noder=e,this._scaleFactor=t,this._isScaled=!this.isIntegerPrecision()}}},function(e,t,n){'use strict';var o=n(359),a=n(3),i=n(34),r=n(135),s=n(133),d=n(86),l=n(360),p=n(192),_=n(361),g=n(40),c=n(363);class u{constructor(){u.constructor_.apply(this,arguments)}checkCorrectness(e){const t=d.a.getNodedSubstrings(e),n=new o.a(t);try{n.checkValid()}catch(e){if(e instanceof p.a)e.printStackTrace();else throw e}finally{}}getNodedSubstrings(){return d.a.getNodedSubstrings(this._nodedSegStrings)}snapRound(e,t){const n=this.findInteriorIntersections(e,t);this.computeIntersectionSnaps(n),this.computeVertexSnaps(e)}findInteriorIntersections(e,t){const n=new c.a(t);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(e),n.getInteriorIntersections()}computeVertexSnaps(){if(Object(a.a)(arguments[0],i.a)){const e=arguments[0];for(let t=e.iterator();t.hasNext();){const e=t.next();this.computeVertexSnaps(e)}}else if(arguments[0]instanceof d.a){const t=arguments[0],e=t.getCoordinates();for(let n=0;n<e.length;n++){const o=new l.a(e[n],this._scaleFactor,this._li),a=this._pointSnapper.snap(o,t,n);a&&t.addIntersection(e[n],n)}}}computeNodes(e){this._nodedSegStrings=e,this._noder=new s.a,this._pointSnapper=new _.a(this._noder.getIndex()),this.snapRound(e,this._li)}computeIntersectionSnaps(e){for(let t=e.iterator();t.hasNext();){const e=t.next(),n=new l.a(e,this._scaleFactor,this._li);this._pointSnapper.snap(n)}}getClass(){return u}get interfaces_(){return[r.a]}}t.a=u,u.constructor_=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;const e=arguments[0];this._pm=e,this._li=new g.a,this._li.setPrecisionModel(e),this._scaleFactor=e.getScale()}},function(e,t,n){'use strict';var o=n(38),a=n(40),i=n(66);class r{constructor(){r.constructor_.apply(this,arguments)}checkEndPtVertexIntersections(){if(0===arguments.length)for(let e=this._segStrings.iterator();e.hasNext();){const t=e.next(),n=t.getCoordinates();this.checkEndPtVertexIntersections(n[0],this._segStrings),this.checkEndPtVertexIntersections(n[n.length-1],this._segStrings)}else if(2===arguments.length){const e=arguments[0],t=arguments[1];for(let n=t.iterator();n.hasNext();){const t=n.next(),o=t.getCoordinates();for(let t=1;t<o.length-1;t++)if(o[t].equals(e))throw new i.a('found endpt/interior pt intersection at index '+t+' :pt '+e)}}}checkInteriorIntersections(){if(0===arguments.length)for(let e=this._segStrings.iterator();e.hasNext();){const t=e.next();for(let e=this._segStrings.iterator();e.hasNext();){const n=e.next();this.checkInteriorIntersections(t,n)}}else if(2===arguments.length){const e=arguments[0],t=arguments[1],n=e.getCoordinates(),o=t.getCoordinates();for(let a=0;a<n.length-1;a++)for(let n=0;n<o.length-1;n++)this.checkInteriorIntersections(e,a,t,n)}else if(4===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2],o=arguments[3];if(e===n&&t===o)return null;const a=e.getCoordinates()[t],r=e.getCoordinates()[t+1],s=n.getCoordinates()[o],d=n.getCoordinates()[o+1];if(this._li.computeIntersection(a,r,s,d),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,a,r)||this.hasInteriorIntersection(this._li,s,d)))throw new i.a('found non-noded intersection at '+a+'-'+r+' and '+s+'-'+d)}}checkValid(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()}checkCollapses(){if(0===arguments.length)for(let e=this._segStrings.iterator();e.hasNext();){const t=e.next();this.checkCollapses(t)}else if(1===arguments.length){const e=arguments[0],t=e.getCoordinates();for(let e=0;e<t.length-2;e++)this.checkCollapse(t[e],t[e+1],t[e+2])}}hasInteriorIntersection(e,t,n){for(let o=0;o<e.getIntersectionNum();o++){const a=e.getIntersection(o);if(!(a.equals(t)||a.equals(n)))return!0}return!1}checkCollapse(e,t,n){if(e.equals(n))throw new i.a('found non-noded collapse at '+r.fact.createLineString([e,t,n]))}getClass(){return r}get interfaces_(){return[]}}t.a=r,r.constructor_=function(){this._li=new a.a,this._segStrings=null;const e=arguments[0];this._segStrings=e},r.fact=new o.a},function(e,t,o){'use strict';var a=o(1),i=o(6),r=o(22),s=o(4);class d{constructor(){d.constructor_.apply(this,arguments)}intersectsScaled(e,t){const n=C(e.x,t.x),o=E(e.x,t.x),a=C(e.y,t.y),i=E(e.y,t.y),r=this._maxx<n||this._minx>o||this._maxy<a||this._miny>i;if(r)return!1;const d=this.intersectsToleranceSquare(e,t);return s.a.isTrue(!(r&&d),'Found bad envelope test'),d}initCorners(e){const t=0.5;this._minx=e.x-t,this._maxx=e.x+t,this._miny=e.y-t,this._maxy=e.y+t,this._corner[0]=new a.a(this._maxx,this._maxy),this._corner[1]=new a.a(this._minx,this._maxy),this._corner[2]=new a.a(this._minx,this._miny),this._corner[3]=new a.a(this._maxx,this._miny)}intersects(e,t){return 1===this._scaleFactor?this.intersectsScaled(e,t):(this.copyScaled(e,this._p0Scaled),this.copyScaled(t,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))}scale(e){return n(e*this._scaleFactor)}getCoordinate(){return this._originalPt}copyScaled(e,t){t.x=this.scale(e.x),t.y=this.scale(e.y)}getSafeEnvelope(){if(null===this._safeEnv){const e=d.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new r.a(this._originalPt.x-e,this._originalPt.x+e,this._originalPt.y-e,this._originalPt.y+e)}return this._safeEnv}intersectsPixelClosure(e,t){return!(this._li.computeIntersection(e,t,this._corner[0],this._corner[1]),!this._li.hasIntersection())||!(this._li.computeIntersection(e,t,this._corner[1],this._corner[2]),!this._li.hasIntersection())||!(this._li.computeIntersection(e,t,this._corner[2],this._corner[3]),!this._li.hasIntersection())||(this._li.computeIntersection(e,t,this._corner[3],this._corner[0]),!!this._li.hasIntersection())}intersectsToleranceSquare(e,t){let n=!1,o=!1;return!(this._li.computeIntersection(e,t,this._corner[0],this._corner[1]),!this._li.isProper())||!(this._li.computeIntersection(e,t,this._corner[1],this._corner[2]),!this._li.isProper())||!(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(e,t,this._corner[2],this._corner[3]),!this._li.isProper())||(this._li.hasIntersection()&&(o=!0),this._li.computeIntersection(e,t,this._corner[3],this._corner[0]),!!this._li.isProper()||n&&o||!!e.equals(this._pt)||!!t.equals(this._pt))}addSnappedNode(e,t){const n=e.getCoordinate(t),o=e.getCoordinate(t+1);return!!this.intersects(n,o)&&(e.addIntersection(this.getCoordinate(),t),!0)}getClass(){return d}get interfaces_(){return[]}}t.a=d,d.constructor_=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=[,,,,].fill(null),this._safeEnv=null;const e=arguments[0],t=arguments[1],n=arguments[2];if(this._originalPt=e,this._pt=e,this._scaleFactor=t,this._li=n,0>=t)throw new i.a('Scale factor must be non-zero');1!==t&&(this._pt=new a.a(this.scale(e.x),this.scale(e.y)),this._p0Scaled=new a.a,this._p1Scaled=new a.a),this.initCorners(this._pt)},d.SAFE_ENV_EXPANSION_FACTOR=0.75},function(e,t,n){'use strict';var a=n(362),i=n(203),r=n(112);class s{constructor(){s.constructor_.apply(this,arguments)}snap(){if(1===arguments.length){const e=arguments[0];return this.snap(e,null,-1)}if(3===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2],o=e.getSafeEnvelope(),a=new d(e,t,n);return this._index.query(o,new class{get interfaces_(){return[r.a]}visitItem(e){e.select(o,a)}}),a.isNodeAdded()}}getClass(){return s}get interfaces_(){return[]}}t.a=s;class d extends a.a{constructor(){super(),d.constructor_.apply(this,arguments)}isNodeAdded(){return this._isNodeAdded}select(){if(2===arguments.length&&o(arguments[1])&&arguments[0]instanceof i.a){const e=arguments[0],t=arguments[1],n=e.getContext();if(null!==this._parentEdge&&n===this._parentEdge&&t===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(n,t)}else return super.select.apply(this,arguments)}getClass(){return d}get interfaces_(){return[]}}d.constructor_=function(){this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;const e=arguments[0],t=arguments[1],n=arguments[2];this._hotPixel=e,this._parentEdge=t,this._hotPixelVertexIndex=n},s.HotPixelSnapAction=d,s.constructor_=function(){this._index=null;const e=arguments[0];this._index=e}},function(e,t,n){'use strict';var o=n(73);class a{constructor(){a.constructor_.apply(this,arguments)}select(){if(1===arguments.length){arguments[0]}else if(2===arguments.length){const e=arguments[0],t=arguments[1];e.getLineSegment(t,this.selectedSegment),this.select(this.selectedSegment)}}getClass(){return a}get interfaces_(){return[]}}t.a=a,a.constructor_=function(){this.selectedSegment=new o.a}},function(e,t,n){'use strict';var o=n(136),a=n(0);class i{constructor(){i.constructor_.apply(this,arguments)}processIntersections(e,t,n,o){if(e===n&&t===o)return null;const a=e.getCoordinates()[t],i=e.getCoordinates()[t+1],r=n.getCoordinates()[o],s=n.getCoordinates()[o+1];if(this._li.computeIntersection(a,i,r,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(let e=0;e<this._li.getIntersectionNum();e++)this._interiorIntersections.add(this._li.getIntersection(e));e.addIntersections(this._li,t,0),n.addIntersections(this._li,o,1)}}isDone(){return!1}getInteriorIntersections(){return this._interiorIntersections}getClass(){return i}get interfaces_(){return[o.a]}}t.a=i,i.constructor_=function(){this._li=null,this._interiorIntersections=null;const e=arguments[0];this._li=e,this._interiorIntersections=new a.a}},function(e,t,n){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=n(98),s=n(138),d=n(61),l=n(57),p=n(140),_=n(392),g=n.n(_),c=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var o in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},u=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),y=function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(a===void 0){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if('value'in a)return a.value;var r=a.get;return void 0===r?void 0:r.call(o)},m=function(e){function t(e){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,c({title:'Union',className:'ole-control-union',image:g.a},e)))}return i(t,e),u(t,[{key:'applyTopologyOperation',value:function(e){y(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'applyTopologyOperation',this).call(this,e);var n=new r.a;n.inject(l.e,l.a,d.a,l.f,l.c,l.b,l.d);for(var o=1;o<e.length;o+=1){var a=n.read(e[0].getGeometry()),i=n.read(e[o].getGeometry()),p=s.a.union(a,i);e[0].setGeometry(n.write(p)),e[o].setGeometry(null)}}}]),t}(p.a);t.a=m},function(e,t,n){'use strict';var o=n(210),a=n(211)},function(e,t,n){'use strict';var o=n(27),a=n(38),i=n(6),r=n(69),s=n(52),d=n(84),l=n(53),p=n(70),_=n(24),g=n(0),c=n(50);class u{constructor(){u.constructor_.apply(this,arguments)}transformPoint(e){return this._factory.createPoint(this.transformCoordinates(e.getCoordinateSequence(),e))}transformPolygon(e){let t=!0;const n=this.transformLinearRing(e.getExteriorRing(),e);(null===n||!(n instanceof l.a)||n.isEmpty())&&(t=!1);const o=new g.a;for(let n=0;n<e.getNumInteriorRing();n++){const a=this.transformLinearRing(e.getInteriorRingN(n),e);null===a||a.isEmpty()||(a instanceof l.a||(t=!1),o.add(a))}if(t)return this._factory.createPolygon(n,o.toArray([]));else{const e=new g.a;return null!==n&&e.add(n),e.addAll(o),this._factory.buildGeometry(e)}}createCoordinateSequence(e){return this._factory.getCoordinateSequenceFactory().create(e)}getInputGeometry(){return this._inputGeom}transformMultiLineString(e){const t=new g.a;for(let n=0;n<e.getNumGeometries();n++){const o=this.transformLineString(e.getGeometryN(n),e);null===o||o.isEmpty()||t.add(o)}return this._factory.buildGeometry(t)}transformCoordinates(e){return this.copy(e)}transformLineString(e){return this._factory.createLineString(this.transformCoordinates(e.getCoordinateSequence(),e))}transformMultiPoint(e){const t=new g.a;for(let n=0;n<e.getNumGeometries();n++){const o=this.transformPoint(e.getGeometryN(n),e);null===o||o.isEmpty()||t.add(o)}return this._factory.buildGeometry(t)}transformMultiPolygon(e){const t=new g.a;for(let n=0;n<e.getNumGeometries();n++){const o=this.transformPolygon(e.getGeometryN(n),e);null===o||o.isEmpty()||t.add(o)}return this._factory.buildGeometry(t)}copy(e){return e.copy()}transformGeometryCollection(e){const t=new g.a;for(let n=0;n<e.getNumGeometries();n++){const o=this.transform(e.getGeometryN(n));null===o||this._pruneEmptyGeometry&&o.isEmpty()||t.add(o)}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(a.a.toGeometryArray(t)):this._factory.buildGeometry(t)}transform(e){if(this._inputGeom=e,this._factory=e.getFactory(),e instanceof r.a)return this.transformPoint(e,null);if(e instanceof d.a)return this.transformMultiPoint(e,null);if(e instanceof l.a)return this.transformLinearRing(e,null);if(e instanceof o.a)return this.transformLineString(e,null);if(e instanceof c.a)return this.transformMultiLineString(e,null);if(e instanceof s.a)return this.transformPolygon(e,null);if(e instanceof p.a)return this.transformMultiPolygon(e,null);if(e instanceof _.a)return this.transformGeometryCollection(e,null);throw new i.a('Unknown Geometry subtype: '+e.getClass().getName())}transformLinearRing(e){const t=this.transformCoordinates(e.getCoordinateSequence(),e);if(null===t)return this._factory.createLinearRing(null);const n=t.size();return 0<n&&4>n&&!this._preserveType?this._factory.createLineString(t):this._factory.createLinearRing(t)}getClass(){return u}get interfaces_(){return[]}}t.a=u,u.constructor_=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1}},function(e,t,n){'use strict';var o=n(368),a=n(369),i=n(0);class r{constructor(){r.constructor_.apply(this,arguments)}static toSegmentStrings(e){const t=new i.a;for(let n=e.iterator();n.hasNext();){const a=n.next();t.add(new o.a(a.getCoordinates(),a))}return t}static checkValid(e){const t=new r(e);t.checkValid()}checkValid(){this._nv.checkValid()}getClass(){return r}get interfaces_(){return[]}}t.a=r,r.constructor_=function(){this._nv=null;const e=arguments[0];this._nv=new a.a(r.toSegmentStrings(e))}},function(e,t,n){'use strict';var o=n(71),a=n(131),i=n(201),r=n(202);class s{constructor(){s.constructor_.apply(this,arguments)}getCoordinates(){return this._pts}size(){return this._pts.length}getCoordinate(e){return this._pts[e]}isClosed(){return this._pts[0].equals(this._pts[this._pts.length-1])}getSegmentOctant(e){return e===this._pts.length-1?-1:i.a.octant(this.getCoordinate(e),this.getCoordinate(e+1))}setData(e){this._data=e}getData(){return this._data}toString(){return o.a.toLineString(new a.a(this._pts))}getClass(){return s}get interfaces_(){return[r.a]}}t.a=s,s.constructor_=function(){this._pts=null,this._data=null;const e=arguments[0],t=arguments[1];this._pts=e,this._data=t}},function(e,t,n){'use strict';var o=n(71),a=n(133),i=n(39),r=n(40),s=n(370);class d{constructor(){d.constructor_.apply(this,arguments)}static computeIntersections(e){const t=new d(e);return t.setFindAllIntersections(!0),t.isValid(),t.getIntersections()}execute(){return null===this._segInt?void this.checkInteriorIntersections():null}getIntersections(){return this._segInt.getIntersections()}isValid(){return this.execute(),this._isValid}setFindAllIntersections(e){this._findAllIntersections=e}checkInteriorIntersections(){this._isValid=!0,this._segInt=new s.a(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);const e=new a.a;if(e.setSegmentIntersector(this._segInt),e.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null}checkValid(){if(this.execute(),!this._isValid)throw new i.a(this.getErrorMessage(),this._segInt.getInteriorIntersection())}getErrorMessage(){if(this._isValid)return'no intersections found';const e=this._segInt.getIntersectionSegments();return'found non-noded intersection between '+o.a.toLineString(e[0],e[1])+' and '+o.a.toLineString(e[2],e[3])}getClass(){return d}get interfaces_(){return[]}}t.a=d,d.constructor_=function(){this._li=new r.a,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;const e=arguments[0];this._segStrings=e}},function(e,t,n){'use strict';var o=n(136),a=n(0);class i{constructor(){i.constructor_.apply(this,arguments)}static createAllIntersectionsFinder(e){const t=new i(e);return t.setFindAllIntersections(!0),t}static createAnyIntersectionFinder(e){return new i(e)}static createIntersectionCounter(e){const t=new i(e);return t.setFindAllIntersections(!0),t.setKeepIntersections(!1),t}getInteriorIntersection(){return this._interiorIntersection}setCheckEndSegmentsOnly(e){this._isCheckEndSegmentsOnly=e}getIntersectionSegments(){return this._intSegments}count(){return this._intersectionCount}getIntersections(){return this._intersections}setFindAllIntersections(e){this._findAllIntersections=e}setKeepIntersections(e){this._keepIntersections=e}processIntersections(e,t,n,o){if(!this._findAllIntersections&&this.hasIntersection())return null;if(e===n&&t===o)return null;if(this._isCheckEndSegmentsOnly){const a=this.isEndSegment(e,t)||this.isEndSegment(n,o);if(!a)return null}const a=e.getCoordinates()[t],i=e.getCoordinates()[t+1],r=n.getCoordinates()[o],s=n.getCoordinates()[o+1];this._li.computeIntersection(a,i,r,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=[,,,,].fill(null),this._intSegments[0]=a,this._intSegments[1]=i,this._intSegments[2]=r,this._intSegments[3]=s,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)}isEndSegment(e,t){return!(0!==t)||!!(t>=e.size()-2)}hasIntersection(){return null!==this._interiorIntersection}isDone(){return!this._findAllIntersections&&null!==this._interiorIntersection}getClass(){return i}get interfaces_(){return[o.a]}}t.a=i,i.constructor_=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new a.a,this._intersectionCount=0,this._keepIntersections=!0;const e=arguments[0];this._li=e,this._interiorIntersection=null}},function(e,t,n){'use strict';var o=n(38),a=n(0);class i{constructor(){i.constructor_.apply(this,arguments)}static map(e,t){const n=new i(t);return n.map(e)}map(e){const t=new a.a;for(let n=0;n<e.getNumGeometries();n++){const o=this._mapOp.map(e.getGeometryN(n));o.isEmpty()||t.add(o)}return e.getFactory().createGeometryCollection(o.a.toGeometryArray(t))}getClass(){return i}get interfaces_(){return[]}}t.a=i,i.constructor_=function(){this._mapOp=null;const e=arguments[0];this._mapOp=e}},function(e,t){'use strict';class n{constructor(){n.constructor_.apply(this,arguments)}map(){}getClass(){return n}get interfaces_(){return[]}}t.a=n,n.constructor_=function(){}},function(e,t,n){'use strict';var o=n(0),a=n(4),i=n(87);class r{constructor(){r.constructor_.apply(this,arguments)}collectLines(e){for(let t=this._op.getGraph().getEdgeEnds().iterator();t.hasNext();){const n=t.next();this.collectLineEdge(n,e,this._lineEdgesList),this.collectBoundaryTouchEdge(n,e,this._lineEdgesList)}}labelIsolatedLine(t,e){const n=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,n)}build(e){return this.findCoveredLineEdges(),this.collectLines(e),this.buildLines(e),this._resultLineList}collectLineEdge(t,n,o){const a=t.getLabel(),r=t.getEdge();t.isLineEdge()&&!t.isVisited()&&i.a.isResultOfOp(a,n)&&!r.isCovered()&&(o.add(r),t.setVisitedEdge(!0))}findCoveredLineEdges(){for(let e=this._op.getGraph().getNodes().iterator();e.hasNext();){const t=e.next();t.getEdges().findCoveredLineEdges()}for(let t=this._op.getGraph().getEdgeEnds().iterator();t.hasNext();){const n=t.next(),o=n.getEdge();if(n.isLineEdge()&&!o.isCoveredSet()){const e=this._op.isCoveredByA(n.getCoordinate());o.setCovered(e)}}}labelIsolatedLines(e){for(let t=e.iterator();t.hasNext();){const n=t.next(),e=n.getLabel();n.isIsolated()&&(e.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}}buildLines(){for(let t=this._lineEdgesList.iterator();t.hasNext();){const n=t.next(),e=n.getLabel(),o=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(o),n.setInResult(!0)}}collectBoundaryTouchEdge(e,t,n){const o=e.getLabel();return e.isLineEdge()?null:e.isVisited()?null:e.isInteriorAreaEdge()?null:e.getEdge().isInResult()?null:void(a.a.isTrue(!(e.isInResult()||e.getSym().isInResult())||!e.getEdge().isInResult()),i.a.isResultOfOp(o,t)&&t===i.a.INTERSECTION&&(n.add(e.getEdge()),e.setVisitedEdge(!0)))}getClass(){return r}get interfaces_(){return[]}}t.a=r,r.constructor_=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new o.a,this._resultLineList=new o.a;const e=arguments[0],t=arguments[1],n=arguments[2];this._op=e,this._geometryFactory=t,this._ptLocator=n}},function(e,t,n){'use strict';var o=n(0),a=n(87);class i{constructor(){i.constructor_.apply(this,arguments)}filterCoveredNodeToPoint(e){const t=e.getCoordinate();if(!this._op.isCoveredByLA(t)){const e=this._geometryFactory.createPoint(t);this._resultPointList.add(e)}}extractNonCoveredResultNodes(e){for(let t=this._op.getGraph().getNodes().iterator();t.hasNext();){const o=t.next();if(!o.isInResult()&&!o.isIncidentEdgeInResult()&&(0===o.getEdges().getDegree()||e===a.a.INTERSECTION)){const t=o.getLabel();a.a.isResultOfOp(t,e)&&this.filterCoveredNodeToPoint(o)}}}build(e){return this.extractNonCoveredResultNodes(e),this._resultPointList}getClass(){return i}get interfaces_(){return[]}}t.a=i,i.constructor_=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new o.a;const e=arguments[0],t=arguments[1],n=arguments[2];this._op=e,this._geometryFactory=t}},function(e,t,n){'use strict';var o=n(376),a=n(66),i=n(87);class r{constructor(){r.constructor_.apply(this,arguments)}static overlayOp(e,t,n){const o=new r(e,t);return o.getResultGeometry(n)}static union(e,t){return r.overlayOp(e,t,i.a.UNION)}static intersection(e,t){return r.overlayOp(e,t,i.a.INTERSECTION)}static symDifference(e,t){return r.overlayOp(e,t,i.a.SYMDIFFERENCE)}static difference(e,t){return r.overlayOp(e,t,i.a.DIFFERENCE)}getResultGeometry(e){let t=null,n=!1,r=null;try{t=i.a.overlayOp(this._geom[0],this._geom[1],e);n=!0}catch(e){if(e instanceof a.a)r=e;else throw e}finally{}if(!n)try{t=o.a.overlayOp(this._geom[0],this._geom[1],e)}catch(e){if(e instanceof a.a)throw r;else throw e}finally{}return t}getClass(){return r}get interfaces_(){return[]}}t.a=r,r.constructor_=function(){this._geom=[,,].fill(null);const e=arguments[0],t=arguments[1];this._geom[0]=e,this._geom[1]=t}},function(e,t,n){'use strict';var o=n(210),a=n(28),i=n(377),r=n(87);class s{constructor(){s.constructor_.apply(this,arguments)}static overlayOp(e,t,n){const o=new s(e,t);return o.getResultGeometry(n)}static union(e,t){return s.overlayOp(e,t,r.a.UNION)}static intersection(e,t){return s.overlayOp(e,t,r.a.INTERSECTION)}static symDifference(e,t){return s.overlayOp(e,t,r.a.SYMDIFFERENCE)}static difference(e,t){return s.overlayOp(e,t,r.a.DIFFERENCE)}selfSnap(e){const t=new o.a(e),n=t.snapTo(e,this._snapTolerance);return n}removeCommonBits(e){this._cbr=new i.a,this._cbr.add(e[0]),this._cbr.add(e[1]);const t=[,,].fill(null);return t[0]=this._cbr.removeCommonBits(e[0].copy()),t[1]=this._cbr.removeCommonBits(e[1].copy()),t}prepareResult(e){return this._cbr.addCommonBits(e),e}getResultGeometry(e){const t=this.snap(this._geom),n=r.a.overlayOp(t[0],t[1],e);return this.prepareResult(n)}checkValid(e){e.isValid()||a.a.out.println('Snapped geometry is invalid')}computeSnapTolerance(){this._snapTolerance=o.a.computeOverlaySnapTolerance(this._geom[0],this._geom[1])}snap(e){const t=this.removeCommonBits(e),n=o.a.snap(t[0],t[1],this._snapTolerance);return n}getClass(){return s}get interfaces_(){return[]}}t.a=s,s.constructor_=function(){this._geom=[,,].fill(null),this._snapTolerance=null,this._cbr=null;const e=arguments[0],t=arguments[1];this._geom[0]=e,this._geom[1]=t,this.computeSnapTolerance()}},function(e,t,n){'use strict';var o=n(378),a=n(78),i=n(1),r=n(80);class s{constructor(){s.constructor_.apply(this,arguments)}addCommonBits(e){const t=new l(this._commonCoord);e.apply(t),e.geometryChanged()}removeCommonBits(e){if(0===this._commonCoord.x&&0===this._commonCoord.y)return e;const t=new i.a(this._commonCoord);t.x=-t.x,t.y=-t.y;const n=new l(t);return e.apply(n),e.geometryChanged(),e}getCommonCoordinate(){return this._commonCoord}add(e){e.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()}getClass(){return s}get interfaces_(){return[]}}t.a=s;class d{constructor(){d.constructor_.apply(this,arguments)}filter(e){this._commonBitsX.add(e.x),this._commonBitsY.add(e.y)}getCommonCoordinate(){return new i.a(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())}getClass(){return d}get interfaces_(){return[a.a]}}d.constructor_=function(){this._commonBitsX=new o.a,this._commonBitsY=new o.a};class l{constructor(){l.constructor_.apply(this,arguments)}filter(e,t){const n=e.getOrdinate(t,0)+this.trans.x,o=e.getOrdinate(t,1)+this.trans.y;e.setOrdinate(t,0,n),e.setOrdinate(t,1,o)}isDone(){return!1}isGeometryChanged(){return!0}getClass(){return l}get interfaces_(){return[r.a]}}l.constructor_=function(){this.trans=null;const e=arguments[0];this.trans=e},s.CommonCoordinateFilter=d,s.Translater=l,s.constructor_=function(){this._commonCoord=null,this._ccFilter=new d}},function(e,t,n){'use strict';var o=n(20),a=n(178);class r{constructor(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=new a.a,this._commonSignExp=null}getCommon(){return o.a.longBitsToDouble(this._commonBits)}add(e){const t=o.a.doubleToLongBits(e);if(this._isFirst)return this._commonBits=t,this._commonSignExp=r.signExpBits(this._commonBits),this._isFirst=!1,null;const n=r.signExpBits(t);return n===this._commonSignExp?void(this._commonMantissaBitsCount=r.numCommonMostSigMantissaBits(this._commonBits,t),this._commonBits=r.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))):(this._commonBits.high=0,this._commonBits.low=0,null)}toString(){if(1===arguments.length){const e=arguments[0],t=o.a.longBitsToDouble(e),n=a.a.toBinaryString(e),i='0000000000000000000000000000000000000000000000000000000000000000'+n,r=i.substring(i.length-64),s=r.substring(0,1)+'  '+r.substring(1,12)+'(exp) '+r.substring(12)+' [ '+t+' ]';return s}}getClass(){return r}get interfaces_(){return[]}static getBit(e,t){const n=1<<t%32;return 32>t?0==(e.low&n)?0:1:0==(e.high&n)?0:1}static signExpBits(e){return e.high>>>20}static zeroLowerBits(e,t){let n='low';if(32<t&&(e.low=0,t%=32,n='high'),0<t){const o=32>t?~((1<<t)-1):0;e[n]&=o}return e}static numCommonMostSigMantissaBits(e,t){let n=0;for(let o=52;0<=o;o--){if(r.getBit(e,o)!==r.getBit(t,o))return n;n++}return 52}}t.a=r},function(e,t,n){'use strict';var o=n(100),a=n(380),i=n(40);class r{constructor(){r.constructor_.apply(this,arguments)}getArgGeometry(e){return this._arg[e].getGeometry()}setComputationPrecision(e){this._resultPrecisionModel=e,this._li.setPrecisionModel(this._resultPrecisionModel)}getClass(){return r}get interfaces_(){return[]}}t.a=r,r.constructor_=function(){if(this._li=new i.a,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){const e=arguments[0];this.setComputationPrecision(e.getPrecisionModel()),this._arg=[,].fill(null),this._arg[0]=new a.a(0,e)}else if(2===arguments.length){const e=arguments[0],t=arguments[1];r.constructor_.call(this,e,t,o.a.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2];0<=e.getPrecisionModel().compareTo(t.getPrecisionModel())?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(t.getPrecisionModel()),this._arg=[,,].fill(null),this._arg[0]=new a.a(0,e,n),this._arg[1]=new a.a(1,t,n)}}},function(e,t,n){'use strict';var o=n(212),a=n(9),i=n(27),r=n(190),s=n(23),d=n(3),l=n(12),p=n(1),_=n(69),c=n(52),u=n(84),g=n(381),y=n(53),m=n(100),h=n(18),f=n(213),x=n(70),I=n(29),E=n(24),C=n(49),T=n(83),N=n(385),S=n(4),L=n(137),O=n(50),R=n(110);class P extends R.a{constructor(){super(),P.constructor_.apply(this,arguments)}static determineBoundary(e,t){return e.isInBoundary(t)?a.a.BOUNDARY:a.a.INTERIOR}insertBoundaryPoint(e,t){const o=this._nodes.addNode(t),n=o.getLabel();let i=1,r=a.a.NONE;r=n.getLocation(e,l.a.ON),r===a.a.BOUNDARY&&i++;const s=P.determineBoundary(this._boundaryNodeRule,i);n.setLocation(e,s)}computeSelfNodes(){if(2===arguments.length){const e=arguments[0],t=arguments[1];return this.computeSelfNodes(e,t,!1)}if(3===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2],o=new f.a(e,!0,!1);o.setIsDoneIfProperInt(n);const a=this.createEdgeSetIntersector(),i=this._parentGeom instanceof y.a||this._parentGeom instanceof c.a||this._parentGeom instanceof x.a;return a.computeIntersections(this._edges,o,t||!i),this.addSelfIntersectionNodes(this._argIndex),o}}computeSplitEdges(t){for(let n=this._edges.iterator();n.hasNext();){const o=n.next();o.eiList.addSplitEdges(t)}}computeEdgeIntersections(e,t,n){const o=new f.a(t,n,!0);o.setBoundaryNodes(this.getBoundaryNodes(),e.getBoundaryNodes());const a=this.createEdgeSetIntersector();return a.computeIntersections(this._edges,e._edges,o),o}getGeometry(){return this._parentGeom}getBoundaryNodeRule(){return this._boundaryNodeRule}hasTooFewPoints(){return this._hasTooFewPoints}addPoint(){if(arguments[0]instanceof _.a){const e=arguments[0],t=e.getCoordinate();this.insertPoint(this._argIndex,t,a.a.INTERIOR)}else if(arguments[0]instanceof p.a){const e=arguments[0];this.insertPoint(this._argIndex,e,a.a.INTERIOR)}}addPolygon(e){this.addPolygonRing(e.getExteriorRing(),a.a.EXTERIOR,a.a.INTERIOR);for(let t=0;t<e.getNumInteriorRing();t++){const n=e.getInteriorRingN(t);this.addPolygonRing(n,a.a.INTERIOR,a.a.EXTERIOR)}}addEdge(t){this.insertEdge(t);const e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],a.a.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],a.a.BOUNDARY)}addLineString(t){const n=C.a.removeRepeatedPoints(t.getCoordinates());if(2>n.length)return this._hasTooFewPoints=!0,this._invalidPoint=n[0],null;const o=new L.a(n,new I.a(this._argIndex,a.a.INTERIOR));this._lineEdgeMap.put(t,o),this.insertEdge(o),S.a.isTrue(2<=n.length,'found LineString with single point'),this.insertBoundaryPoint(this._argIndex,n[0]),this.insertBoundaryPoint(this._argIndex,n[n.length-1])}getInvalidPoint(){return this._invalidPoint}getBoundaryPoints(){const e=this.getBoundaryNodes(),t=Array(e.size()).fill(null);let n=0;for(let o=e.iterator();o.hasNext();){const e=o.next();t[n++]=e.getCoordinate().copy()}return t}getBoundaryNodes(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes}addSelfIntersectionNode(e,t,n){return this.isBoundaryNode(e,t)?null:void(n===a.a.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(e,t):this.insertPoint(e,t,n))}addPolygonRing(t,n,o){if(t.isEmpty())return null;const i=C.a.removeRepeatedPoints(t.getCoordinates());if(4>i.length)return this._hasTooFewPoints=!0,this._invalidPoint=i[0],null;let r=n,s=o;h.a.isCCW(i)&&(r=o,s=n);const d=new L.a(i,new I.a(this._argIndex,a.a.BOUNDARY,r,s));this._lineEdgeMap.put(t,d),this.insertEdge(d),this.insertPoint(this._argIndex,i[0],a.a.BOUNDARY)}insertPoint(e,t,o){const a=this._nodes.addNode(t),n=a.getLabel();null===n?a._label=new I.a(e,o):n.setLocation(e,o)}createEdgeSetIntersector(){return new g.a}addSelfIntersectionNodes(t){for(let n=this._edges.iterator();n.hasNext();){const o=n.next(),e=o.getLabel().getLocation(t);for(let n=o.eiList.iterator();n.hasNext();){const o=n.next();this.addSelfIntersectionNode(t,o.coord,e)}}}add(){if(1===arguments.length&&arguments[0]instanceof s.a){const e=arguments[0];if(e.isEmpty())return null;if(e instanceof x.a&&(this._useBoundaryDeterminationRule=!1),e instanceof c.a)this.addPolygon(e);else if(e instanceof i.a)this.addLineString(e);else if(e instanceof _.a)this.addPoint(e);else if(e instanceof u.a)this.addCollection(e);else if(e instanceof O.a)this.addCollection(e);else if(e instanceof x.a)this.addCollection(e);else if(e instanceof E.a)this.addCollection(e);else throw new UnsupportedOperationException(e.getClass().getName())}else return super.add.apply(this,arguments)}addCollection(e){for(let t=0;t<e.getNumGeometries();t++){const n=e.getGeometryN(t);this.add(n)}}locate(e){return Object(d.a)(this._parentGeom,T.a)&&50<this._parentGeom.getNumGeometries()?(null===this._areaPtLocator&&(this._areaPtLocator=new N.a(this._parentGeom)),this._areaPtLocator.locate(e)):this._ptLocator.locate(e,this._parentGeom)}findEdge(){if(1===arguments.length&&arguments[0]instanceof i.a){const e=arguments[0];return this._lineEdgeMap.get(e)}return super.findEdge.apply(this,arguments)}getClass(){return P}get interfaces_(){return[]}}t.a=P,P.constructor_=function(){if(this._parentGeom=null,this._lineEdgeMap=new r.a,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new o.a,2===arguments.length){const e=arguments[0],t=arguments[1];P.constructor_.call(this,e,t,m.a.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2];this._argIndex=e,this._parentGeom=t,this._boundaryNodeRule=n,null!==t&&this.add(t)}}},function(e,t,n){'use strict';var o=n(3),a=n(382),r=n(383),i=n(384),s=n(72),d=n(213),l=n(0),p=n(79);class _ extends i.a{constructor(){super(),_.constructor_.apply(this,arguments)}prepareEvents(){s.a.sort(this.events);for(let e=0;e<this.events.size();e++){const t=this.events.get(e);t.isDelete()&&t.getInsertEvent().setDeleteEventIndex(e)}}computeIntersections(){if(1===arguments.length){const e=arguments[0];this.nOverlaps=0,this.prepareEvents();for(let t=0;t<this.events.size();t++){const n=this.events.get(t);if(n.isInsert()&&this.processOverlaps(t,n.getDeleteEventIndex(),n,e),e.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof d.a&&Object(o.a)(arguments[0],p.a)&&Object(o.a)(arguments[1],p.a)){const e=arguments[0],t=arguments[1],n=arguments[2];this.addEdges(e,e),this.addEdges(t,t),this.computeIntersections(n)}else if('boolean'==typeof arguments[2]&&Object(o.a)(arguments[0],p.a)&&arguments[1]instanceof d.a){const e=arguments[0],t=arguments[1],n=arguments[2];n?this.addEdges(e,null):this.addEdges(e),this.computeIntersections(t)}}addEdge(e,t){const n=e.getMonotoneChainEdge(),o=n.getStartIndexes();for(let s=0;s<o.length-1;s++){const e=new a.a(n,s),o=new r.a(t,n.getMinX(s),e);this.events.add(o),this.events.add(new r.a(n.getMaxX(s),o))}}processOverlaps(e,t,n,o){const a=n.getObject();for(let r=e;r<t;r++){const e=this.events.get(r);if(e.isInsert()){const t=e.getObject();n.isSameLabel(e)||(a.computeIntersections(t,o),this.nOverlaps++)}}}addEdges(){if(1===arguments.length){const e=arguments[0];for(let t=e.iterator();t.hasNext();){const e=t.next();this.addEdge(e,e)}}else if(2===arguments.length){const e=arguments[0],t=arguments[1];for(let n=e.iterator();n.hasNext();){const e=n.next();this.addEdge(e,t)}}}getClass(){return _}get interfaces_(){return[]}}t.a=_,_.constructor_=function(){this.events=new l.a,this.nOverlaps=null}},function(e,t){'use strict';class n{constructor(){n.constructor_.apply(this,arguments)}computeIntersections(e,t){this.mce.computeIntersectsForChain(this.chainIndex,e.mce,e.chainIndex,t)}getClass(){return n}get interfaces_(){return[]}}t.a=n,n.constructor_=function(){this.mce=null,this.chainIndex=null;const e=arguments[0],t=arguments[1];this.mce=e,this.chainIndex=t}},function(e,t,n){'use strict';var o=n(17);class a{constructor(){a.constructor_.apply(this,arguments)}isDelete(){return this._eventType===a.DELETE}setDeleteEventIndex(e){this._deleteEventIndex=e}getObject(){return this._obj}compareTo(e){const t=e;return this._xValue<t._xValue?-1:this._xValue>t._xValue?1:this._eventType<t._eventType?-1:this._eventType>t._eventType?1:0}getInsertEvent(){return this._insertEvent}isInsert(){return this._eventType===a.INSERT}isSameLabel(e){return null!==this._label&&this._label===e._label}getDeleteEventIndex(){return this._deleteEventIndex}getClass(){return a}get interfaces_(){return[o.a]}}t.a=a,a.constructor_=function(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){const e=arguments[0],t=arguments[1];this._eventType=a.DELETE,this._xValue=e,this._insertEvent=t}else if(3===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2];this._eventType=a.INSERT,this._label=e,this._xValue=t,this._obj=n}},a.INSERT=1,a.DELETE=2},function(e,t){'use strict';class n{constructor(){n.constructor_.apply(this,arguments)}getClass(){return n}get interfaces_(){return[]}}t.a=n,n.constructor_=function(){}},function(e,t,n){'use strict';var o=n(3),a=n(6),i=n(112),r=n(206),s=n(53),d=n(386),l=n(73),p=n(83),_=n(389),g=n(390),c=n(193);class u{constructor(){u.constructor_.apply(this,arguments)}locate(e){const t=new c.a(e),n=new y(t);return this._index.query(e.y,e.y,n),t.getLocation()}getClass(){return u}get interfaces_(){return[r.a]}}t.a=u;class y{constructor(){y.constructor_.apply(this,arguments)}visitItem(e){const t=e;this._counter.countSegment(t.getCoordinate(0),t.getCoordinate(1))}getClass(){return y}get interfaces_(){return[i.a]}}y.constructor_=function(){this._counter=null;const e=arguments[0];this._counter=e};class m{constructor(){m.constructor_.apply(this,arguments)}init(e){const t=_.a.getLines(e);for(let n=t.iterator();n.hasNext();){const e=n.next(),t=e.getCoordinates();this.addLine(t)}}addLine(e){for(let t=1;t<e.length;t++){const n=new l.a(e[t-1],e[t]),o=C(n.p0.y,n.p1.y),a=E(n.p0.y,n.p1.y);this._index.insert(o,a,n)}}query(){if(2===arguments.length){const e=arguments[0],t=arguments[1],n=new g.a;return this._index.query(e,t,n),n.getItems()}if(3===arguments.length){const e=arguments[0],t=arguments[1],n=arguments[2];this._index.query(e,t,n)}}getClass(){return m}get interfaces_(){return[]}}m.constructor_=function(){this._index=new d.a;const e=arguments[0];this.init(e)},u.SegmentVisitor=y,u.IntervalIndexedGeometry=m,u.constructor_=function(){this._index=null;const e=arguments[0];if(!(Object(o.a)(e,p.a)||e instanceof s.a))throw new a.a('Argument must be Polygonal or LinearRing');this._index=new m(e)}},function(e,t,n){'use strict';var o=n(71),a=n(1),i=n(387),r=n(139),s=n(72),d=n(28),l=n(0),p=n(388);class _{constructor(){_.constructor_.apply(this,arguments)}buildTree(){s.a.sort(this._leaves,new r.a.NodeComparator);for(let e=this._leaves,t=null,n=new l.a;;){if(this.buildLevel(e,n),1===n.size())return n.get(0);t=e,e=n,n=t}}insert(e,t,n){if(null!==this._root)throw new IllegalStateException('Index cannot be added to once it has been queried');this._leaves.add(new i.a(e,t,n))}query(e,t,n){this.init(),this._root.query(e,t,n)}buildRoot(){return null===this._root?void(this._root=this.buildTree()):null}printNode(e){d.a.out.println(o.a.toLineString(new a.a(e._min,this._level),new a.a(e._max,this._level)))}init(){return null===this._root?void this.buildRoot():null}buildLevel(e,t){this._level++,t.clear();for(let n=0;n<e.size();n+=2){const o=e.get(n),a=n+1<e.size()?e.get(n):null;if(null===a)t.add(o);else{const o=new p.a(e.get(n),e.get(n+1));t.add(o)}}}getClass(){return _}get interfaces_(){return[]}}t.a=_,_.constructor_=function(){this._leaves=new l.a,this._root=null,this._level=0}},function(e,t,n){'use strict';var o=n(139);class a extends o.a{constructor(){super(),a.constructor_.apply(this,arguments)}query(e,t,n){return this.intersects(e,t)?void n.visitItem(this._item):null}getClass(){return a}get interfaces_(){return[]}}t.a=a,a.constructor_=function(){this._item=null;const e=arguments[0],t=arguments[1],n=arguments[2];this._min=e,this._max=t,this._item=n}},function(e,t,n){'use strict';var o=n(139);class a extends o.a{constructor(){super(),a.constructor_.apply(this,arguments)}buildExtent(e,t){this._min=C(e._min,t._min),this._max=E(e._max,t._max)}query(e,t,n){return this.intersects(e,t)?void(null!==this._node1&&this._node1.query(e,t,n),null!==this._node2&&this._node2.query(e,t,n)):null}getClass(){return a}get interfaces_(){return[]}}t.a=a,a.constructor_=function(){this._node1=null,this._node2=null;const e=arguments[0],t=arguments[1];this._node1=e,this._node2=t,this.buildExtent(this._node1,this._node2)}},function(e,t,n){'use strict';var o=n(27),a=n(23),i=n(3),r=n(34),s=n(53),d=n(67),l=n(0);class p{constructor(){p.constructor_.apply(this,arguments)}static getGeometry(){if(1===arguments.length){const e=arguments[0];return e.getFactory().buildGeometry(p.getLines(e))}if(2===arguments.length){const e=arguments[0],t=arguments[1];return e.getFactory().buildGeometry(p.getLines(e,t))}}static getLines(){if(1===arguments.length){const e=arguments[0];return p.getLines(e,!1)}if(2===arguments.length){if(Object(i.a)(arguments[0],r.a)&&Object(i.a)(arguments[1],r.a)){const e=arguments[0],t=arguments[1];for(let n=e.iterator();n.hasNext();){const e=n.next();p.getLines(e,t)}return t}if(arguments[0]instanceof a.a&&'boolean'==typeof arguments[1]){const e=arguments[0],t=arguments[1],n=new l.a;return e.apply(new p(n,t)),n}if(arguments[0]instanceof a.a&&Object(i.a)(arguments[1],r.a)){const e=arguments[0],t=arguments[1];return e instanceof o.a?t.add(e):e.apply(new p(t)),t}}else if(3===arguments.length){if('boolean'==typeof arguments[2]&&Object(i.a)(arguments[0],r.a)&&Object(i.a)(arguments[1],r.a)){const e=arguments[0],t=arguments[1],n=arguments[2];for(let o=e.iterator();o.hasNext();){const e=o.next();p.getLines(e,t,n)}return t}if('boolean'==typeof arguments[2]&&arguments[0]instanceof a.a&&Object(i.a)(arguments[1],r.a)){const e=arguments[0],t=arguments[1],n=arguments[2];return e.apply(new p(t,n)),t}}}filter(e){if(this._isForcedToLineString&&e instanceof s.a){const t=e.getFactory().createLineString(e.getCoordinateSequence());return this._lines.add(t),null}e instanceof o.a&&this._lines.add(e)}setForceToLineString(e){this._isForcedToLineString=e}getClass(){return p}get interfaces_(){return[d.a]}}t.a=p,p.constructor_=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){const e=arguments[0];this._lines=e}else if(2===arguments.length){const e=arguments[0],t=arguments[1];this._lines=e,this._isForcedToLineString=t}}},function(e,t,n){'use strict';var o=n(112),a=n(0);class i{constructor(){i.constructor_.apply(this,arguments)}visitItem(e){this._items.add(e)}getItems(){return this._items}getClass(){return i}get interfaces_(){return[o.a]}}t.a=i,i.constructor_=function(){this._items=new a.a}},function(e,t){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var o=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function(){function e(){n(this,e)}return o(e,null,[{key:'logError',value:function(t){console.error(t)}}]),e}();t.a=a},function(e){e.exports='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NTMuNDk1IiBoZWlnaHQ9IjQ1NC42NDkiIHZpZXdCb3g9IjAgMCA0MjUuMTUxIDQyNi4yMzMiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNzEuMjIgLTM1MS40OSkiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCI+PGNpcmNsZSBjeD0iMzA4Ljk0NiIgY3k9IjQ5MC4yODYiIHI9IjEyMy43NDQiIGZpbGw9IiNmZmYiIHN0cm9rZT0iIzhhOGE4YSIgc3Ryb2tlLXdpZHRoPSIyMCIvPjxjaXJjbGUgY3g9IjQ0Ni45NyIgY3k9IjYyOC4zMjIiIHI9IjEzOC4yMyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjOGE4YThhIiBzdHJva2Utd2lkdGg9IjIyLjM0MSIvPjxwYXRoIGQ9Ik0zMDcuNDYyIDM2My45OUExMjMuNzQ0IDEyMy43NDQgMCAwIDAgMTgzLjcyIDQ4Ny43MzRhMTIzLjc0NCAxMjMuNzQ0IDAgMCAwIDEyMy43NDIgMTIzLjc0NCAxMjMuNzQ0IDEyMy43NDQgMCAwIDAgLjU2My0uMDIgMTM4LjIzIDEzOC4yMyAwIDAgMC0uNzY4IDE0LjMxMSAxMzguMjMgMTM4LjIzIDAgMCAwIDEzOC4yMyAxMzguMjMgMTM4LjIzIDEzOC4yMyAwIDAgMCAxMzguMjMtMTM4LjIzIDEzOC4yMyAxMzguMjMgMCAwIDAtMTM4LjIzLTEzOC4yMyAxMzguMjMgMTM4LjIzIDAgMCAwLTE0LjMxNi44OTggMTIzLjc0NCAxMjMuNzQ0IDAgMCAwIC4wMzUtLjcwM0ExMjMuNzQ0IDEyMy43NDQgMCAwIDAgMzA3LjQ2MiAzNjMuOTl6IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMjUiLz48L2c+PC9zdmc+'},function(e,t,n){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=n(98),s=n(138),d=n(61),l=n(57),p=n(140),_=n(394),g=n.n(_),c=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var o in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},u=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),y=function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(a===void 0){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if('value'in a)return a.value;var r=a.get;return void 0===r?void 0:r.call(o)},m=function(e){function t(e){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,c({title:'Intersection',className:'ole-control-intersection',image:g.a},e)))}return i(t,e),u(t,[{key:'applyTopologyOperation',value:function(e){if(y(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'applyTopologyOperation',this).call(this,e),!(2>e.length)){var n=new r.a;n.inject(l.e,l.a,d.a,l.f,l.c,l.b,l.d);for(var o=1;o<e.length;o+=1){var a=n.read(e[0].getGeometry()),i=n.read(e[o].getGeometry()),p=s.a.intersection(a,i);e[0].setGeometry(n.write(p)),e[o].setGeometry(null)}}}}]),t}(p.a);t.a=m},function(e){e.exports='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NDkuMjQ3IiBoZWlnaHQ9IjQ0OS4yNTkiIHZpZXdCb3g9IjAgMCA0MjEuMTY5IDQyMS4xODEiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNzUuMjAyIC0zNTYuNTQyKSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj48Y2lyY2xlIGN4PSIzMDguOTQ2IiBjeT0iNDkwLjI4NiIgcj0iMTIzLjc0NCIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjOGE4YThhIiBzdHJva2Utd2lkdGg9IjIwIi8+PGNpcmNsZSBjeD0iNDQ2Ljk3IiBjeT0iNjI4LjMyMiIgcj0iMTM4LjIzIiBmaWxsPSJub25lIiBzdHJva2U9IiM4YThhOGEiIHN0cm9rZS13aWR0aD0iMjIuMzQxIi8+PHBhdGggZD0iTTQzMy40MiA0ODguNzgxYTEzOC4yMyAxMzguMjMgMCAwIDAtMTI2Ljk2MiAxMjYuOTk2IDEyMy43NDQgMTIzLjc0NCAwIDAgMCAzLjM0LjE2NkExMjMuNzQ0IDEyMy43NDQgMCAwIDAgNDMzLjU0MiA0OTIuMmExMjMuNzQ0IDEyMy43NDQgMCAwIDAtLjEyMS0zLjQxOHoiIGZpbGw9IiNmZmYiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIyNSIvPjwvZz48L3N2Zz4='},function(e,t,n){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=n(98),s=n(138),d=n(61),l=n(57),p=n(140),_=n(396),g=n.n(_),c=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var o in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},u=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),y=function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(a===void 0){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if('value'in a)return a.value;var r=a.get;return void 0===r?void 0:r.call(o)},m=function(e){function t(e){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,c({title:'Difference',className:'ole-control-difference',image:g.a},e)))}return i(t,e),u(t,[{key:'applyTopologyOperation',value:function(e){if(y(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'applyTopologyOperation',this).call(this,e),!(2>e.length)){var n=new r.a;n.inject(l.e,l.a,d.a,l.f,l.c,l.b,l.d);for(var o=1;o<e.length;o+=1){var a=n.read(e[0].getGeometry()),i=n.read(e[o].getGeometry()),p=s.a.difference(a,i);e[0].setGeometry(n.write(p)),e[o].setGeometry(null)}}}}]),t}(p.a);t.a=m},function(e){e.exports='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NDkuMjQ3IiBoZWlnaHQ9IjQ0OS4yNTkiIHZpZXdCb3g9IjAgMCA0MjEuMTY5IDQyMS4xODEiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNzUuMjAyIC0zNTYuNTQyKSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj48Y2lyY2xlIGN4PSIzMDguOTQ2IiBjeT0iNDkwLjI4NiIgcj0iMTIzLjc0NCIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjOGE4YThhIiBzdHJva2Utd2lkdGg9IjIwIi8+PGNpcmNsZSBjeD0iNDQ2Ljk3IiBjeT0iNjI4LjMyMiIgcj0iMTM4LjIzIiBmaWxsPSJub25lIiBzdHJva2U9IiM4YThhOGEiIHN0cm9rZS13aWR0aD0iMjIuMzQxIi8+PHBhdGggZD0iTTMwOC45NDYgMzY2LjU0MmExMjMuNzQ0IDEyMy43NDQgMCAwIDAtMTIzLjc0NCAxMjMuNzQ0QTEyMy43NDQgMTIzLjc0NCAwIDAgMCAzMDguOTQ2IDYxNC4wM2ExMjMuNzQ0IDEyMy43NDQgMCAwIDAgLjU2My0uMDIgMTM4LjIzIDEzOC4yMyAwIDAgMSAxMjMuMTQ2LTEyMy4wMjMgMTIzLjc0NCAxMjMuNzQ0IDAgMCAwIC4wMzUtLjcgMTIzLjc0NCAxMjMuNzQ0IDAgMCAwLTEyMy43NDQtMTIzLjc0NXoiIGZpbGw9IiNmZmYiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIyNSIvPjwvZz48L3N2Zz4='},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(398),a=n(214);n.d(t,'Storage',function(){return a.a}),n.d(t,'LocalStorage',function(){return o.a})},function(e,t,n){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=n(214),s=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(a===void 0){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if('value'in a)return a.value;var r=a.get;return void 0===r?void 0:r.call(o)},l=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:'storeProperties',value:function(e,n){var o=d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'storeProperties',this).call(this,e,n);window.localStorage.setItem(e,JSON.stringify(o))}},{key:'restoreProperties',value:function(){for(var e=0;e<this.controls.length;e+=1){var t=this.controls[e].getProperties().title,n=window.localStorage.getItem(t);n&&this.controls[e].setProperties(JSON.parse(n),!0)}}},{key:'storeActiveControls',value:function(){var e=d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'storeActiveControls',this).call(this);window.localStorage.setItem('active',JSON.stringify(e))}},{key:'restoreActiveControls',value:function(){var e=window.localStorage.getItem('active');if(e=e?JSON.parse(e):[],!!e.length)for(var t=0,n;t<this.controls.length;t+=1)n=this.controls[t].getProperties().title,-1<e.indexOf(n)?this.controls[t].activate():this.controls[t].deactivate()}}]),t}(r.a);t.a=l},function(e,t){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var o=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function(){function e(){n(this,e),this.active=!1,this.editor=null,this.map=null}return o(e,[{key:'activate',value:function(){this.active=!0}},{key:'deactivate',value:function(){this.active=!1}},{key:'setEditor',value:function(e){this.editor=e}},{key:'setMap',value:function(e){this.map=e}}]),e}();t.a=a}])});
//# sourceMappingURL=index.js.map